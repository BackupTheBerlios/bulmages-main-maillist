<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [BulmaGés][Bug #18094] Bulmafact Crash pluginbf_compraventa (Undefined symbol)
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bulmages-main/2011-May/index.html" >
   <LINK REL="made" HREF="mailto:bulmages-main%40lists.berlios.de?Subject=Re%3A%20%3D%3Futf-8%3Fb%3FW0J1bG1hR8Opc10%3D%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3F%3D5BBug_%3D2318094%3D5D_Bu%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3Flmafact_Crash_pluginbf%3D5Fcompraventa_%3D28Undefined_s%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3Fymbol%3D29%3F%3D&In-Reply-To=%3CBANLkTikxdq5ahoH61D8ZTrHPabQCR765jQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <LINK REL="Previous"  HREF="005700.html">
   <LINK REL="Next"  HREF="005701.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[BulmaGés][Bug #18094] Bulmafact Crash pluginbf_compraventa (Undefined symbol) </H1>
    <B>Tomeu Borras</B> 
    <A HREF="mailto:bulmages-main%40lists.berlios.de?Subject=Re%3A%20%3D%3Futf-8%3Fb%3FW0J1bG1hR8Opc10%3D%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3F%3D5BBug_%3D2318094%3D5D_Bu%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3Flmafact_Crash_pluginbf%3D5Fcompraventa_%3D28Undefined_s%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3Fymbol%3D29%3F%3D&In-Reply-To=%3CBANLkTikxdq5ahoH61D8ZTrHPabQCR765jQ%40mail.gmail.com%3E"
       TITLE="[BulmaGés][Bug #18094] Bulmafact Crash pluginbf_compraventa (Undefined symbol)">tborras en gmail.com
       </A><BR>
    <I>Mie Mayo  4 18:47:54 CEST 2011</I>
    <P><UL>
        <LI>Mensaje anterior: <A HREF="005700.html">[BulmaGés] [Bug #18094] Bulmafact Crash	pluginbf_compraventa (Undefined symbol)
</A></li>
        <LI>Próximo mensaje: <A HREF="005701.html">[BulmaGés] 	[Git]Project bulmages at BerliOS branch, master,	updated. 45f9cbde60eae750ac7d701b18cf6c5d191db4f2
</A></li>
         <LI> <B>Mensajes ordenados por:</B> 
              <a href="date.html#5703">[ fecha ]</a>
              <a href="thread.html#5703">[ hilo ]</a>
              <a href="subject.html#5703">[ asunto ]</a>
              <a href="author.html#5703">[ autor ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hola

Mas que agregar dependencias conviene reformar el plugin para que no haga
los new y use llamadas a plugin para crearlos.

Aparte en lugar de usar el ClienteAlbaranSubForm mejor usamos directamente
un BfSubForm y lo configuramos al gusto.


Salut

El 4 de mayo de 2011 18:10, &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">admin en berlios.de</A>&gt; escribió:

&gt;<i> Bug #18094, was updated on 2011-May-04 18:10
</I>&gt;<i> Here is a current snapshot of the bug.
</I>&gt;<i>
</I>&gt;<i> Project: BulmaGes, Gestión Empresarial Libre
</I>&gt;<i> Category: bulmafact
</I>&gt;<i> Status: Open
</I>&gt;<i> Resolution: None
</I>&gt;<i> Bug Group: None
</I>&gt;<i> Priority: 5
</I>&gt;<i> Submitted by: mph2
</I>&gt;<i> Assigned to : none
</I>&gt;<i> Summary: Bulmafact Crash pluginbf_compraventa (Undefined symbol)
</I>&gt;<i>
</I>&gt;<i> Details: El pluginbf_compraventa, compila OK, se activa también OK, pero al
</I>&gt;<i> dirigirnos a BulmaFact -&gt; Ventas -&gt; CompraVenta, hace un crash:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> bulmafact: symbol lookup error:
</I>&gt;<i> /usr/local/lib/bulmafact/plugins/libpluginbf_compraventa.so: undefined
</I>&gt;<i> symbol: _ZN23BfClienteAlbaranSubFormC1EP7QWidget
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Existen varios símbolos usados sin definir:
</I>&gt;<i>
</I>&gt;<i> ------------
</I>&gt;<i> ldd -d -r /usr/local/lib/bulmafact/plugins/libpluginbf_compraventa.so
</I>&gt;<i> (.....)
</I>&gt;<i>
</I>&gt;<i> undefined symbol: _ZN20FacturaProveedorViewC1EP9BfCompanyP7QWidget
</I>&gt;<i>  (/usr/local/lib/bulmafact/plugins/libpluginbf_compraventa.so)
</I>&gt;<i>
</I>&gt;<i> undefined symbol: _ZN23BfClienteAlbaranSubFormC1EP7QWidget
</I>&gt;<i>  (/usr/local/lib/bulmafact/plugins/libpluginbf_compraventa.so)
</I>&gt;<i>
</I>&gt;<i> undefined symbol: _ZN20FacturaProveedorView11inicializarEv
</I>&gt;<i>  (/usr/local/lib/bulmafact/plugins/libpluginbf_compraventa.so)
</I>&gt;<i>
</I>&gt;<i> undefined symbol:
</I>&gt;<i> _ZN32BfClienteAlbaranDescuentoSubFormC1EP7QWidget
</I>&gt;<i> (/usr/local/lib/bulmafact/plugins/libpluginbf_compraventa.so)
</I>&gt;<i>
</I>&gt;<i> undefined symbol: _ZN9CobroViewC1EP9BfCompanyP7QWidget
</I>&gt;<i>  (/usr/local/lib/bulmafact/plugins/libpluginbf_compraventa.so)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------
</I>&gt;<i> nm -D /usr/local/lib/bulmafact/plugins/libpluginbf_compraventa.so
</I>&gt;<i>
</I>&gt;<i>         U _ZN23BfClienteAlbaranSubFormC1EP7QWidget
</I>&gt;<i>         U _ZN20FacturaProveedorView11inicializarEv
</I>&gt;<i>         U _ZN20FacturaProveedorViewC1EP9BfCompanyP7QWidget
</I>&gt;<i>         U _ZN9CobroViewC1EP9BfCompanyP7QWidget
</I>&gt;<i>         U _ZN32BfClienteAlbaranDescuentoSubFormC1EP7QWidget
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Según el manual de &quot;nm&quot;.
</I>&gt;<i> U = Undefined symbol used but not defined. Dependency on another library.
</I>&gt;<i> (Simbolo indefinido usado pero no definido. Dependencia de otra librería).
</I>&gt;<i>
</I>&gt;<i> Lógico, ya que depende de otros plugins.
</I>&gt;<i>
</I>&gt;<i> ------------
</I>&gt;<i> Buscando donde se realizan estas llamadas me encuentro con:
</I>&gt;<i>
</I>&gt;<i> BfClienteAlbaranSubForm:
</I>&gt;<i> pluginbf_compraventa/compraventabase.ui:845         &lt;widget
</I>&gt;<i> class=&quot;BfClienteAlbaranSubForm&quot; native=&quot;1&quot; name=&quot;subform2&quot; /&gt;
</I>&gt;<i> pluginbf_compraventa/compraventabase.ui:1693
</I>&gt;<i>  &lt;class&gt;BfClienteAlbaranSubForm&lt;/class&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> FacturaProveedorView:
</I>&gt;<i> compraventaview.cpp:435:    FacturaProveedorView *bud = NULL;
</I>&gt;<i> compraventaview.cpp:484:        FacturaProveedorView *bud = new
</I>&gt;<i> FacturaProveedorView ( ( BfCompany * ) mainCompany(), 0 );
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> CobroView:
</I>&gt;<i> compraventaview.cpp:207:    CobroView *bud = new CobroView ( mainCompany(),
</I>&gt;<i> 0 );
</I>&gt;<i>
</I>&gt;<i> BfClienteAlbaranDescuentoSubForm:
</I>&gt;<i> compraventabase.ui:869:        &lt;widget
</I>&gt;<i> class=&quot;BfClienteAlbaranDescuentoSubForm&quot; native=&quot;1&quot; name=&quot;m_descuentos&quot; /&gt;
</I>&gt;<i> compraventabase.ui:1627:        &lt;widget
</I>&gt;<i> class=&quot;BfClienteAlbaranDescuentoSubForm&quot; native=&quot;1&quot; name=&quot;m_descuentos3&quot; /&gt;
</I>&gt;<i> compraventabase.ui:1703:   &lt;class&gt;BfClienteAlbaranDescuentoSubForm&lt;/class&gt;
</I>&gt;<i>
</I>&gt;<i> ------------
</I>&gt;<i> He añadido manualmente la dependencia de pluginbf_clientealbaran, ya que no
</I>&gt;<i> se presentaba en los README.
</I>&gt;<i>
</I>&gt;<i> Pero sigue sin funcionar.
</I>&gt;<i>
</I>&gt;<i> ------------
</I>&gt;<i> /etc/bulmages/bulmafact_prueba1.conf
</I>&gt;<i>
</I>&gt;<i> CONF_DIR_OPENREPORTS /opt/bulmages/openreports_prueba1/
</I>&gt;<i> CONF_DIR_IMG_ARTICLES /opt/bulmages/imgarticles_prueba1/
</I>&gt;<i> CONF_STYLESHEET /usr/local/share/bulmages/css/bulmafact_es_ES.css
</I>&gt;<i>
</I>&gt;<i> CONF_PLUGINS_BULMAFACT libpluginbf_cliente.so; \
</I>&gt;<i> libpluginbf_clientealbaran.so; \
</I>&gt;<i> libpluginbf_compraventa.so
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> For detailed info, follow this link:
</I>&gt;<i> <A HREF="http://developer.berlios.de/bugs/?func=detailbug&amp;bug_id=18094&amp;group_id=4472">http://developer.berlios.de/bugs/?func=detailbug&amp;bug_id=18094&amp;group_id=4472</A>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Bulmages-main mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">Bulmages-main en lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">https://lists.berlios.de/mailman/listinfo/bulmages-main</A>
</I>&gt;<i>
</I>&gt;<i>
</I>------------ próxima parte ------------
Se ha borrado un adjunto en formato HTML...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/bulmages-main/attachments/20110504/35af90e1/attachment.html">https://lists.berlios.de/pipermail/bulmages-main/attachments/20110504/35af90e1/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Mensaje anterior: <A HREF="005700.html">[BulmaGés] [Bug #18094] Bulmafact Crash	pluginbf_compraventa (Undefined symbol)
</A></li>
	<LI>Próximo mensaje: <A HREF="005701.html">[BulmaGés] 	[Git]Project bulmages at BerliOS branch, master,	updated. 45f9cbde60eae750ac7d701b18cf6c5d191db4f2
</A></li>
         <LI> <B>Mensajes ordenados por:</B> 
              <a href="date.html#5703">[ fecha ]</a>
              <a href="thread.html#5703">[ hilo ]</a>
              <a href="subject.html#5703">[ asunto ]</a>
              <a href="author.html#5703">[ autor ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bulmages-main">Más información sobre la lista de distribución Bulmages-main </a><br>
</body></html>

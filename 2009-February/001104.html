<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [BulmaGés]Gettext y los gloriosos mensajes
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bulmages-main/2009-February/index.html" >
   <LINK REL="made" HREF="mailto:bulmages-main%40lists.berlios.de?Subject=Re%3A%20%3D%3Futf-8%3Fb%3FW0J1bG1hR8Opc10%3D%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3FGettext_y_los_glorios%3F%3D%20%3D%3Fiso-8859-1%3Fq%3Fos_mensajes%3F%3D&In-Reply-To=%3Cc42865c40902161117n169411f4vba7edb7410d07202%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <LINK REL="Previous"  HREF="001096.html">
   <LINK REL="Next"  HREF="001105.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[BulmaGés]Gettext y los gloriosos mensajes </H1>
    <B>Raül Martínez i Peris</B> 
    <A HREF="mailto:bulmages-main%40lists.berlios.de?Subject=Re%3A%20%3D%3Futf-8%3Fb%3FW0J1bG1hR8Opc10%3D%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3FGettext_y_los_glorios%3F%3D%20%3D%3Fiso-8859-1%3Fq%3Fos_mensajes%3F%3D&In-Reply-To=%3Cc42865c40902161117n169411f4vba7edb7410d07202%40mail.gmail.com%3E"
       TITLE="[BulmaGés]Gettext y los gloriosos mensajes">elferrer en gmail.com
       </A><BR>
    <I>Lun Feb 16 20:17:39 CET 2009</I>
    <P><UL>
        <LI>Mensaje anterior: <A HREF="001096.html">[BulmaGés]Gettext y los gloriosos mensajes
</A></li>
        <LI>Próximo mensaje: <A HREF="001105.html">[BulmaGés]Gettext y los gloriosos mensajes
</A></li>
         <LI> <B>Mensajes ordenados por:</B> 
              <a href="date.html#1104">[ fecha ]</a>
              <a href="thread.html#1104">[ hilo ]</a>
              <a href="subject.html#1104">[ asunto ]</a>
              <a href="author.html#1104">[ autor ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Me imagino que la única/mejor manera de hacer multi-idioma es la que hay en
funcionamiento, pero, por si acaso, cuento como lo solucioné yo mismo en una
página web (que ya sé que no es lo mismo).

Para empezar tuve que utilizar python (sin comentarios) ya que la página en
cuestión tenía programación a medida y utilizaba dicho 'lenguaje'. Como el
diseño original no suponía el multi-lenguaje no se optó por preparar la
página para ello, con lo cual, toda la programación llevaba escritos los
mensajes a través de las órdenes de python o a través de mensajes en html
directamente en cada página o código de programa. Para solucionarlo creé una
variable global con varias dimensiones (una para cada lenguaje) y en un
archivo separado (el cual se llamaría posteriormente desde un include) puse
todas las referencias, primero en castellano, y después en el otro idioma.
Ahora en la página html solo hay variables, en ningún caso hay ningún
mensaje en ningún idioma. El paso de la orden de un idioma a otro lo hice
con javascript que encontré rulando por alguna web, de forma que cambiando
las características de la decoración css se cambiaba tanto el diseño frontal
como el idioma.

Me imagino que en bulmagés no será posible crear una variable global y en
ella introducir los textos y que después la línea de programa en cuestión
solo tenga que leer la variable de su idioma. Pero, por si acaso... ya está
dicho.

Aunque, en el caso de que se pudiera hacer de esta forma ello implicaría un
problema inmediato: habría que reescribir todas las salidas de texto para
que imprimieran desde la variable.

Un saludo.



El 15 de febrero de 2009 22:02, Raül Martínez i Peris
&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">elferrer en gmail.com</A>&gt;escribió:

&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 2009/2/15 Fco. Javier M. C. &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">fcojavmc en todo-redes.com</A>&gt;
</I>&gt;<i>
</I>&gt;<i> Hola Leo.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Ayer Tomeu creó un plugin nuevo (saco la gestión de trabajadores) y no
</I>&gt;&gt;<i> sabía como crear los .po con las traducciones. No se si es la mejor
</I>&gt;&gt;<i> manera de hacerlo o existe algún atajo. Yo le pasé estas instrucciones.
</I>&gt;&gt;<i> Te las mando para que veas como lo hizo y si se puede mejorar el
</I>&gt;&gt;<i> procedimiento porque es muy engorroso.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 1)- editar el archivo CMakeLists.txt del directorio del código fuente
</I>&gt;&gt;<i> del plugin y comentar las siguientes líneas de
</I>&gt;&gt;<i> GETTEXT_CREATE_TRANSLATIONS:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> if(USE_GETTEXT)
</I>&gt;&gt;<i>   set(plugin_i18n ${plugin_SRC} ${plugin_MOC_SRCS} ${plugin_UIS_H}
</I>&gt;&gt;<i>                        ${plugin_SRCS} ${plugin_MOCS})
</I>&gt;&gt;<i>   GETTEXT_CREATE_TEMPLATE(${plugin} ${CMAKE_CURRENT_BINARY_DIR}
</I>&gt;&gt;<i>                                ${CMAKE_CURRENT_SOURCE_DIR} plugin_i18n)
</I>&gt;&gt;<i> #   GETTEXT_CREATE_TRANSLATIONS(${CMAKE_CURRENT_BINARY_DIR}/${plugin}.pot
</I>&gt;&gt;<i> #                                ALL LANGUAGES es_ES.UTF-8 ca_ES.UTF-8)
</I>&gt;&gt;<i> endif(USE_GETTEXT)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 2)- cmake (como siempre)
</I>&gt;&gt;<i> 3)- make
</I>&gt;&gt;<i> 4)- make translations
</I>&gt;&gt;<i> 5)- entrar en el directorio del plugin en el directorio de compilación y
</I>&gt;&gt;<i> ejecutar 'make pluginbf_trabajador_pot' para generar el archivo '.pot'
</I>&gt;&gt;<i> con las cadenas a traducir.
</I>&gt;&gt;<i> 6)- crear directorio 'po' en el directorio del plugin (código fuente).
</I>&gt;&gt;<i> 7)- copiar el archivo '.pot' desde el directorio de compilación.
</I>&gt;&gt;<i> 8)- copiar el archivo '.pot' para cada idioma con extensión '.po'. Ej:
</I>&gt;&gt;<i> pluginbf_trabajador_es_ES.UTF-8.po
</I>&gt;&gt;<i> 9)- descomentar las líneas de CMakeLists.txt
</I>&gt;&gt;<i> 10)- cambiar, de los archivos '.po' las líneas 16 ...&quot; charser=CHARSET&quot;
</I>&gt;&gt;<i> por &quot;charset=UTF-8&quot; porque sino dará error en el siguiente paso.
</I>&gt;&gt;<i> 11)- make translations (otra vez. esto traducirá las cadenas que pueda
</I>&gt;&gt;<i> de forma automática, rellenando los archivos '.po' de cada idioma)
</I>&gt;&gt;<i> 12)- copiar los archivos '.po' del directorio de compilación (que ya
</I>&gt;&gt;<i> está traducido) al directorio del código fuente del plugin.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ... y todo eso sin respirar
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Un saludo.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Leopold Palomo Avellaneda escribió:
</I>&gt;&gt;<i> &gt; Bones,
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; una de las cosas que te permite tener un único catálogo de mensajes es
</I>&gt;&gt;<i> ver los
</I>&gt;&gt;<i> &gt; gloriosos mensajes que se han ido utilizando en Bulmages. para quién no
</I>&gt;&gt;<i> lo
</I>&gt;&gt;<i> &gt; sepa, cada uno de ellos es diferente y se tiene que traducir (*).
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Apartura tarde
</I>&gt;&gt;<i> &gt; Apertura Tarde
</I>&gt;&gt;<i> &gt; Apertura tardes
</I>&gt;&gt;<i> &gt; Apertura Manyana
</I>&gt;&gt;<i> &gt; Apertura manyana
</I>&gt;&gt;<i> &gt; Apertura manyanas
</I>&gt;&gt;<i> &gt; Apellidos
</I>&gt;&gt;<i> &gt; Apellidos:
</I>&gt;&gt;<i> &gt; Articulo
</I>&gt;&gt;<i> &gt; Articulo:
</I>&gt;&gt;<i> &gt; Articulos
</I>&gt;&gt;<i> &gt; &amp;Articulos
</I>&gt;&gt;<i> &gt; Articulo&amp;s
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Leo
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; (*) pensar que con qtranslator se habían de traducir TODOS los mensajes,
</I>&gt;&gt;<i> &gt; incluso los repetidos. Por lo que si tenias un mensaje 15 veces, lo
</I>&gt;&gt;<i> tenias
</I>&gt;&gt;<i> &gt; que traducir 15 veces.
</I>&gt;&gt;<i> &gt; _______________________________________________
</I>&gt;&gt;<i> &gt; Bulmages-main mailing list
</I>&gt;&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">Bulmages-main en lists.berlios.de</A>
</I>&gt;&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">https://lists.berlios.de/mailman/listinfo/bulmages-main</A>
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> Fco. Javier M. C.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Bulmages-main mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">Bulmages-main en lists.berlios.de</A>
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">https://lists.berlios.de/mailman/listinfo/bulmages-main</A>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Raül Martínez i Peris
</I>&gt;<i>
</I>


-- 
Raül Martínez i Peris
------------ próxima parte ------------
Se ha borrado un adjunto en formato HTML...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/bulmages-main/attachments/20090216/9731925c/attachment.html">https://lists.berlios.de/pipermail/bulmages-main/attachments/20090216/9731925c/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Mensaje anterior: <A HREF="001096.html">[BulmaGés]Gettext y los gloriosos mensajes
</A></li>
	<LI>Próximo mensaje: <A HREF="001105.html">[BulmaGés]Gettext y los gloriosos mensajes
</A></li>
         <LI> <B>Mensajes ordenados por:</B> 
              <a href="date.html#1104">[ fecha ]</a>
              <a href="thread.html#1104">[ hilo ]</a>
              <a href="subject.html#1104">[ asunto ]</a>
              <a href="author.html#1104">[ autor ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bulmages-main">Más información sobre la lista de distribución Bulmages-main </a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [BulmaGés]Migración de datos
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bulmages-main/2012-January/index.html" >
   <LINK REL="made" HREF="mailto:bulmages-main%40lists.berlios.de?Subject=Re%3A%20%3D%3Futf-8%3Fb%3FW0J1bG1hR8Opc10%3D%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3FMigraci%3DF3n_de_datos%3F%3D&In-Reply-To=%3CCAHbu4EjuM0rVQn%3DrAmW7KsCaMG1qdHRBppiESqGJFaq%2B_NSDxw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <LINK REL="Previous"  HREF="006867.html">
   <LINK REL="Next"  HREF="006869.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[BulmaGés]Migración de datos </H1>
    <B>pappland asd</B> 
    <A HREF="mailto:bulmages-main%40lists.berlios.de?Subject=Re%3A%20%3D%3Futf-8%3Fb%3FW0J1bG1hR8Opc10%3D%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3FMigraci%3DF3n_de_datos%3F%3D&In-Reply-To=%3CCAHbu4EjuM0rVQn%3DrAmW7KsCaMG1qdHRBppiESqGJFaq%2B_NSDxw%40mail.gmail.com%3E"
       TITLE="[BulmaGés]Migración de datos">pappland en gmail.com
       </A><BR>
    <I>Dom Ene 29 17:32:27 CET 2012</I>
    <P><UL>
        <LI>Mensaje anterior: <A HREF="006867.html">[BulmaGés]Migración de datos
</A></li>
        <LI>Próximo mensaje: <A HREF="006869.html">[BulmaGés]Migración de datos
</A></li>
         <LI> <B>Mensajes ordenados por:</B> 
              <a href="date.html#6868">[ fecha ]</a>
              <a href="thread.html#6868">[ hilo ]</a>
              <a href="subject.html#6868">[ asunto ]</a>
              <a href="author.html#6868">[ autor ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>jeje, ok, bueno, sea como fuere finalmente, he conseguido compilar sin
problemas.

Ejecuto bulmasetup como super usuario y cuando he querido restaurar la
copia de seguridad he obtenido un error por la consola en la que decía que
no se encontraba el archivo sql de la empresa en /etc/bulmages. Viendo el
error, he puesto manualmente el fichero SQL en la ruta y me ha restaurado
la copia de seguridad.

He hecho clic sobre &quot;Administrar Empresas Existentes&quot; y me ha aparecido la
empresa. Entro en ella y activo el check box de &quot;Actualizar la base de
datos&quot;. Cuando aplico los cambios se me muestra la consola donde obtendo el
error de abajo y el proeso se para cuando la barra de progreso esta en 48%

A parte de este error en la actualización de la BBDD, cuando ejecuto
&quot;fulmafact&quot; no puedo ver mi empresa, ¿tendía que hacer una copia de los
archivos .conf que hay dentro del tar.gz a la ruta en la que tuve que poner
el archivo SQL?

Gracias, saludos!!

.
.
.

 DROP FUNCTION

::<i> Agregamos los campos y tablas para el plugin PluginContratos ...
</I>
CREATE FUNCTION

error:
psql:/usr/local/share/bulmages/dbmodels/plugins/pluginbf_contrato.sql:115:
ERROR: &quot;rs&quot; is not a known variable LINE 50: SELECT INTO rs idcontrato FROM
contrato WHERE refcontrato ... ^ QUERY: DECLARE asd RECORD; result
character varying(15); efound boolean; BEGIN efound := FALSE; WHILE efound
= FALSE LOOP result := random_string(6); efound := TRUE; SELECT INTO asd
idpresupuesto FROM presupuesto WHERE refpresupuesto = result; IF FOUND THEN
efound := FALSE; END IF; SELECT INTO asd idpedidocliente FROM pedidocliente
WHERE refpedidocliente = result; IF FOUND THEN efound := FALSE; END IF;
SELECT INTO asd idalbaran FROM albaran WHERE refalbaran = result; IF FOUND
THEN efound := FALSE; END IF; SELECT INTO asd idfactura FROM factura WHERE
reffactura = result; IF FOUND THEN efound := FALSE; END IF; SELECT INTO asd
idcobro FROM cobro WHERE refcobro = result; IF FOUND THEN efound := FALSE;
END IF; SELECT INTO asd idpedidoproveedor FROM pedidoproveedor WHERE
refpedidoproveedor = result; IF FOUND THEN efound := FALSE; END IF; SELECT
INTO asd idalbaranp FROM albaranp WHERE refalbaranp = result; IF FOUND THEN
efound := FALSE; END IF; SELECT INTO asd idfacturap FROM facturap WHERE
reffacturap = result; IF FOUND THEN efound := FALSE; END IF; SELECT INTO
asd idpago FROM pago WHERE refpago = result; IF FOUND THEN efound := FALSE;
END IF; -- MODIFICACION PLUGINCONTRATOS SELECT INTO rs idcontrato FROM
contrato WHERE refcontrato = result; IF FOUND THEN efound := FALSE; END IF;
-- END MODIFICACION PLUGINCONTRATOS -- PLUGINS END LOOP; RETURN result;
END; CONTEXT: SQL statement &quot;CREATE OR REPLACE FUNCTION crearef() RETURNS
character varying(15) AS $BB$ DECLARE asd RECORD; result character
varying(15); efound boolean; BEGIN efound := FALSE; WHILE efound = FALSE
LOOP result := random_string(6); efound := TRUE; SELECT INTO asd
idpresupuesto FROM presupuesto WHERE refpresupuesto = result; IF FOUND THEN
efound := FALSE; END IF; SELECT INTO asd idpedidocliente FROM pedidocliente
WHERE refpedidocliente = result; IF FOUND THEN efound := FALSE; END IF;
SELECT INTO asd idalbaran FROM albaran WHERE refalbaran = result; IF FOUND
THEN efound := FALSE; END IF; SELECT INTO asd idfactura FROM factura WHERE
reffactura = result; IF FOUND THEN efound := FALSE; END IF; SELECT INTO asd
idcobro FROM cobro WHERE refcobro = result; IF FOUND THEN efound := FALSE;
END IF; SELECT INTO asd idpedidoproveedor FROM pedidoproveedor WHERE
refpedidoproveedor = result; IF FOUND THEN efound := FALSE; END IF; SELECT
INTO asd idalbaranp FROM albaranp WHERE refalbaranp = result; IF FOUND THEN
efound := FALSE; END IF; SELECT INTO asd idfacturap FROM facturap WHERE
reffacturap = result; IF FOUND THEN efound := FALSE; END IF; SELECT INTO
asd idpago FROM pago WHERE refpago = result; IF FOUND THEN efound := FALSE;
END IF; -- MODIFICACION PLUGINCONTRATOS SELECT INTO rs idcontrato FROM
contrato WHERE refcontrato = result; IF FOUND THEN efound := FALSE; END IF;
-- END MODIFICACION PLUGINCONTRATOS -- PLUGINS END LOOP; RETURN result;
END; $BB$ LANGUAGE 'plpgsql' ;&quot; PL/pgSQL function &quot;aux&quot; line 10 at EXECUTE
statement

&quot;Parcheo la funcion crearef para que contemple la nueva referencia.&quot; ::
Funcion que crea restricciones en los contratos ... &quot;Actualizada la
revision de la base de datos a la version 0.9.1&quot; ROLLBACK

error:
psql:/usr/local/share/bulmages/dbmodels/plugins/pluginbf_contrato.sql:116:
ERROR: current transaction is aborted, commands ignored until end of
transaction block
psql:/usr/local/share/bulmages/dbmodels/plugins/pluginbf_contrato.sql:123:
ERROR: current transaction is aborted, commands ignored until end of
transaction block
psql:/usr/local/share/bulmages/dbmodels/plugins/pluginbf_contrato.sql:140:
ERROR: current transaction is aborted, commands ignored until end of
transaction block
psql:/usr/local/share/bulmages/dbmodels/plugins/pluginbf_contrato.sql:146:
ERROR: current transaction is aborted, commands ignored until end of
transaction block
psql:/usr/local/share/bulmages/dbmodels/plugins/pluginbf_contrato.sql:167:
ERROR: current transaction is aborted, commands ignored until end of
transaction block
psql:/usr/local/share/bulmages/dbmodels/plugins/pluginbf_contrato.sql:168:
ERROR: current transaction is aborted, commands ignored until end of
transaction block
psql:/usr/local/share/bulmages/dbmodels/plugins/pluginbf_contrato.sql:169:
ERROR: current transaction is aborted, commands ignored until end of
transaction block
psql:/usr/local/share/bulmages/dbmodels/plugins/pluginbf_contrato.sql:173:
ERROR: current transaction is aborted, commands ignored until end of
transaction block
psql:/usr/local/share/bulmages/dbmodels/plugins/pluginbf_contrato.sql:174:
ERROR: current transaction is aborted, commands ignored until end of
transaction block

Done.
.
.
.





El 28 de enero de 2012 23:41, Fco. Javier M. C.
&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">fcojavmc en todo-redes.com</A>&gt;escribió:

&gt;<i>  El 28/01/12 20:25, Tomeu Borras escribió:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> El 28 de enero de 2012 17:46, Fco. Javier M. C. &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">fcojavmc en todo-redes.com</A>&gt;escribió:
</I>&gt;<i>
</I>&gt;&gt;<i>  El 28/01/12 17:45, Fco. Javier M. C. escribió:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hola.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Lo que te ocurre es que no tienes tu copia de GIT actualizada ;)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  Uf! no se si queda claro lo que quiero decir... me refiero a tu copia
</I>&gt;&gt;<i> del repositorio de Bulmages.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Venga, reconoceloooooooooo, se te escapó una r.
</I>&gt;<i>
</I>&gt;<i> De buen rollete !!!
</I>&gt;<i>
</I>&gt;<i> Salut
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Tenía hambre y me la comí ;)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  Un saludo.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> El 28/01/12 15:55, pappland asd escribió:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hola,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Durante el proceso de compilación obtengo el siguiente error:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> /home/pablo/Escritorio/git-bulmages/bulmages/bulmages/bulmacont/plugins/pluginbc_mayor/bcextractoview.cpp:
</I>&gt;&gt;<i> En la funci&#243;n miembro &#8216;virtual void BcExtractoView::vaciar()&#8217;:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> /home/pablo/Escritorio/git-bulmages/bulmages/bulmages/bulmacont/plugins/pluginbc_mayor/bcextractoview.cpp:327:5:
</I>&gt;&gt;<i> error: &#8216;mui_totalParcialDebe&#8217; no se declar&#243; en este &#225;mbito
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> /home/pablo/Escritorio/git-bulmages/bulmages/bulmages/bulmacont/plugins/pluginbc_mayor/bcextractoview.cpp:
</I>&gt;&gt;<i> En la funci&#243;n miembro &#8216;void BcExtractoView::presentar()&#8217;:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> /home/pablo/Escritorio/git-bulmages/bulmages/bulmages/bulmacont/plugins/pluginbc_mayor/bcextractoview.cpp:504:13:
</I>&gt;&gt;<i> error: &#8216;mui_totalParcialDebe&#8217; no se declar&#243; en este &#225;mbito
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> make[2]: ***
</I>&gt;&gt;<i> [bulmacont/plugins/pluginbc_mayor/CMakeFiles/pluginbc_mayor.dir/bcextractoview.o]
</I>&gt;&gt;<i> Error 1
</I>&gt;&gt;<i> make[1]: ***
</I>&gt;&gt;<i> [bulmacont/plugins/pluginbc_mayor/CMakeFiles/pluginbc_mayor.dir/all] Error 2
</I>&gt;&gt;<i> make: *** [all] Error 2
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Creo haber instalado todas las dependencias, pero parece que aun me falta
</I>&gt;&gt;<i> algo.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Saludos
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> El 24 de enero de 2012 14:34, Daniel Ripoll &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">dripoll.public en gmail.com</A>&gt;escribió:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>  Al 24/01/12 07:47, En/na Tomeu Borras ha escrit:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> El 23 de enero de 2012 23:18, pappland asd &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">pappland en gmail.com</A>&gt;escribió:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Buenas noches,
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> me acaban de pasar una copia de seguridad de una empresa con la que
</I>&gt;&gt;&gt;&gt;<i> ahora mismo estan trabajando en la versión 0.12 de bulmages, y me han
</I>&gt;&gt;&gt;&gt;<i> pedido que migre los datos a la úlitima versión.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Supongo que no debería haber muchos problemas.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Me pondré a trabajar con ello mañana, pero mi duda es sobre la última
</I>&gt;&gt;&gt;&gt;<i> versión estable del programa. Entiendo que la versión que haya en git esta
</I>&gt;&gt;&gt;&gt;<i> en continuo desarrollo, pero intuyo que la versión 0.13 de berilos se
</I>&gt;&gt;&gt;&gt;<i> dajará muchas cosas fuera. ¿que versión sería más conveniente para
</I>&gt;&gt;&gt;&gt;<i> utilizar?¿existe alguna versiñon estable pre compilada para simplificar
</I>&gt;&gt;&gt;&gt;<i> todo el proceso?
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Yo creo que si te vas a dedicar a dar servicio, como mínimo, debes saber
</I>&gt;&gt;&gt;<i> compilar ya que si hay errores se solucionan más rápidamente.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Sobre cual elegir es un dilema. La estable nunca está lo suficientemente
</I>&gt;&gt;&gt;<i> testeada y la de desarrollo tiene  sus riesgos. En estos momentos yo creo
</I>&gt;&gt;&gt;<i> que la de desarrollo no esta sufriendo alteraciones graves por lo que es
</I>&gt;&gt;&gt;<i> viable ponerla.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Eso si, siempre es bueno tener una versión en producción y otra en
</I>&gt;&gt;&gt;<i> pruebas para poder volver atrás migraciones fallidas.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>  Tal y como te informan Javier y Tomeu, no deberías tener muchos
</I>&gt;&gt;&gt;<i> problemas, aunque es recomendable usar siempre compilar todo a manita (y no
</I>&gt;&gt;&gt;<i> requiere ser ingeniero).
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Por otro lado, la versión no es la de BerliOS si no la de Gitorious, que
</I>&gt;&gt;&gt;<i> puedes encontrar en:
</I>&gt;&gt;&gt;<i> <A HREF="https://gitorious.org/bulmages/bulmages">https://gitorious.org/bulmages/bulmages</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> --
</I>&gt;&gt;&gt;<i> Daniel Ripoll Osmawww.danielripoll.es
</I>&gt;&gt;&gt;<i> 6688.27.4.90
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Web &amp; Desktop Developer
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i> Bulmages-main mailing list
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">Bulmages-main en lists.berlios.de</A>
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">https://lists.berlios.de/mailman/listinfo/bulmages-main</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Bulmages-main mailing <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">listBulmages-main en lists.berlios.dehttps</A>://lists.berlios.de/mailman/listinfo/bulmages-main
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> Javier.
</I>&gt;&gt;<i> TODO-<A HREF="REDEShttp://www.todo-redes.com">REDEShttp://www.todo-redes.com</A>
</I>&gt;&gt;<i> C/Begònia 12 - 07010 Palma de Mallorca.
</I>&gt;&gt;<i> Tel.: 971499071
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> Javier.
</I>&gt;&gt;<i> TODO-<A HREF="REDEShttp://www.todo-redes.com">REDEShttp://www.todo-redes.com</A>
</I>&gt;&gt;<i> C/Begònia 12 - 07010 Palma de Mallorca.
</I>&gt;&gt;<i> Tel.: 971499071
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Bulmages-main mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">Bulmages-main en lists.berlios.de</A>
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">https://lists.berlios.de/mailman/listinfo/bulmages-main</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Tomeu Borrás
</I>&gt;<i> Conetxia Soluciones Informáticas
</I>&gt;<i> 902 88 11 66 - 677 77 44 76
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Bulmages-main mailing <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">listBulmages-main en lists.berlios.dehttps</A>://lists.berlios.de/mailman/listinfo/bulmages-main
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Javier.
</I>&gt;<i> TODO-<A HREF="REDEShttp://www.todo-redes.com">REDEShttp://www.todo-redes.com</A>
</I>&gt;<i> C/Begònia 12 - 07010 Palma de Mallorca.
</I>&gt;<i> Tel.: 971499071
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Bulmages-main mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">Bulmages-main en lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">https://lists.berlios.de/mailman/listinfo/bulmages-main</A>
</I>&gt;<i>
</I>&gt;<i>
</I>------------ próxima parte ------------
Se ha borrado un adjunto en formato HTML...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/bulmages-main/attachments/20120129/09940bc6/attachment.html">https://lists.berlios.de/pipermail/bulmages-main/attachments/20120129/09940bc6/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Mensaje anterior: <A HREF="006867.html">[BulmaGés]Migración de datos
</A></li>
	<LI>Próximo mensaje: <A HREF="006869.html">[BulmaGés]Migración de datos
</A></li>
         <LI> <B>Mensajes ordenados por:</B> 
              <a href="date.html#6868">[ fecha ]</a>
              <a href="thread.html#6868">[ hilo ]</a>
              <a href="subject.html#6868">[ asunto ]</a>
              <a href="author.html#6868">[ autor ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bulmages-main">Más información sobre la lista de distribución Bulmages-main </a><br>
</body></html>

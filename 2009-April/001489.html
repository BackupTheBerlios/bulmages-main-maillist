<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [BulmaGés]BACKUP con BULMASETUP
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bulmages-main/2009-April/index.html" >
   <LINK REL="made" HREF="mailto:bulmages-main%40lists.berlios.de?Subject=Re%3A%20%3D%3Futf-8%3Fb%3FW0J1bG1hR8Opc10%3D%3F%3D%20%3D%3Futf-8%3Fq%3FBACKUP_con_BULMASETUP%3F%3D&In-Reply-To=%3C200904052332.16353.tborras%40conetxia.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <LINK REL="Previous"  HREF="001488.html">
   <LINK REL="Next"  HREF="001490.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[BulmaGés]BACKUP con BULMASETUP </H1>
    <B>Tomeu Borras</B> 
    <A HREF="mailto:bulmages-main%40lists.berlios.de?Subject=Re%3A%20%3D%3Futf-8%3Fb%3FW0J1bG1hR8Opc10%3D%3F%3D%20%3D%3Futf-8%3Fq%3FBACKUP_con_BULMASETUP%3F%3D&In-Reply-To=%3C200904052332.16353.tborras%40conetxia.com%3E"
       TITLE="[BulmaGés]BACKUP con BULMASETUP">tborras en conetxia.com
       </A><BR>
    <I>Dom Abr  5 23:32:16 CEST 2009</I>
    <P><UL>
        <LI>Mensaje anterior: <A HREF="001488.html">[BulmaGés]BACKUP con BULMASETUP
</A></li>
        <LI>Próximo mensaje: <A HREF="001490.html">[BulmaGés] r3202 - in trunk/bulmages:	bulmacont/src bulmalib/src bulmatpv/src
</A></li>
         <LI> <B>Mensajes ordenados por:</B> 
              <a href="date.html#1489">[ fecha ]</a>
              <a href="thread.html#1489">[ hilo ]</a>
              <a href="subject.html#1489">[ asunto ]</a>
              <a href="author.html#1489">[ autor ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>El Sunday 05 April 2009 21:11:09 Daniel Bustos Fernández escribió:
&gt;<i> Hola
</I>&gt;<i>
</I>&gt;<i> Siento rescatar este hilo del olvido, pero ahora mismo estoy probando a
</I>&gt;<i> salvar la bbdd y lo he encontrado al buscar cómo hacerlo (el wiki no me
</I>&gt;<i> ayudó ya que no dice lo de los permisos).
</I>&gt;<i>
</I>&gt;<i> Ahora mismo ya he hecho el backup con el bulmasetup y funciona, genera el
</I>&gt;<i> archivo correspondiente.
</I>&gt;<i> Yo no se mucho de postgres pero por lo que veo salva la bbdd pero, ¿y todo
</I>&gt;<i> lo demás?
</I>&gt;<i> Quiero decir, si p.e. tengo fotos para los items del inventario, ¿ se
</I>&gt;<i> graban ?
</I>&gt;<i>
</I>Pués no. Las fotos no se guardan. Tendrias que hacer copia aparte.


&gt;<i> Esto podría hacerlo a mano o con algún programa/script/etc pero aquí se me
</I>&gt;<i> plantea otra pregunta, que es si la relación entre p.e. fichero de imagen y
</I>&gt;<i> la foto que he enlazado en su correspondiente item en bulmafact se
</I>&gt;<i> mantiene.
</I>Si se mantiene. Pq los archivos no cambian de nombre.

&gt;<i>
</I>&gt;<i> Esos ficheros de imágenes NO son la bbdd, pero es parte del trabajo que
</I>&gt;<i> hace uno y debería guardarse.
</I>&gt;<i> Menudo coñazo tener que volver a configurar cada item con cada foto, jeje.
</I>&gt;<i>
</I>&gt;<i> Esto lo podríamos aplicar a todo lo demás, creo.
</I>
Si, los archivos de configuracion, fotos de personal y de clientes, archivos 
documental etc.


&gt;<i>
</I>

&gt;<i> ¿Alguien se ha encontrado con este pequeño problema?
</I>No es mucho problema, hay que hacerse algun script que haga la copia de los 
archivos.
&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Un saludo
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 2009/2/5 Albert Mas &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">albertmas en termens.cat</A>&gt;
</I>&gt;<i>
</I>&gt;<i> &gt; Tomeu, pasame proforma.
</I>&gt;<i> &gt; Como no, pagar por un servicio de backup es lo minimo.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Gracias.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; 2009/2/4 Tomeu Borras &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">tborras en conetxia.com</A>&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Y luego va la gente diciendo que los LUG's no hacen falta. Hay que
</I>&gt;<i> &gt; joderse.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; Albert aqui tienes posteado un archivo cutrecillo que tiene algunos
</I>&gt;<i> &gt;&gt; comandos.
</I>&gt;<i> &gt;&gt; (El pg_dumpall lo puedes cambiar por tantos pg_dump individuales como
</I>&gt;<i> &gt;&gt; desees
</I>&gt;<i> &gt;&gt; y el rsync hace copias diferenciales de un ordenador a otro.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; #!/bin/bash
</I>&gt;<i> &gt;&gt; echo
</I>&gt;<i> &gt;&gt; echo &quot;Inicio de copia rsync &quot; $1
</I>&gt;<i> &gt;&gt; echo &quot;========================================&quot;
</I>&gt;<i> &gt;&gt; date
</I>&gt;<i> &gt;&gt; echo &quot;Backup de PostGres&quot;
</I>&gt;<i> &gt;&gt; su postgres -c &quot;pg_dumpall&quot; &gt; /home/pgbackups.pgdump
</I>&gt;<i> &gt;&gt; echo &quot;Backup de /home&quot;
</I>&gt;<i> &gt;&gt; rsync -avz /home omicron:/backups_conetxia/pi/home
</I>&gt;<i> &gt;&gt; echo &quot;Backup de /etc&quot;
</I>&gt;<i> &gt;&gt; rsync -avz /etc omicron:/backups_conetxia/pi/etc
</I>&gt;<i> &gt;&gt; echo
</I>&gt;<i> &gt;&gt; echo &quot;Archivos copiados por rsync&quot;
</I>&gt;<i> &gt;&gt; echo
</I>&gt;<i> &gt;&gt; echo &quot;Espacio libre en disco&quot;
</I>&gt;<i> &gt;&gt; df -h
</I>&gt;<i> &gt;&gt; echo
</I>&gt;<i> &gt;&gt; date
</I>&gt;<i> &gt;&gt; echo &quot;Fin de la copia&quot;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Puedes guardarlo en algun sitio y darle permisos de ejecución.
</I>&gt;<i> &gt;&gt; Luego como root haces crontab -e y pones la siguiente linea:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; 0 0 * * * /root/backups.sh | mailx -s &quot;Backup Pi&quot;
</I>&gt;<i> &gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">lacuentadecorreo en eldiminioqueteguste</A>
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Hay muy buenos manuales de bash scripting.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; (OF TOPIC) Si quieres ahorrarte el estudiar y hacer pruebas yo por 60
</I>&gt;<i> &gt;&gt; leuros
</I>&gt;<i> &gt;&gt; te lo hago y lo dejo niquelado.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; El Wednesday 04 February 2009 02:40:40 Albert Mas escribió:
</I>&gt;<i> &gt;&gt; &gt; Alguien tiene hecho algun script de backup tal com dice Tomeu?
</I>&gt;<i> &gt;&gt; &gt; Aunque no fuera tan completo me iria bien.
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; Sino ja hos passare el que utilize yo.
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; Saludos.
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; On 1/29/09, Albert Mas &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">albertmas en termens.cat</A>&gt; wrote:
</I>&gt;<i> &gt;&gt; &gt; &gt; Hoy queria hacer mi primer backup de bulmafact con bulmasetup y al
</I>&gt;<i> &gt;&gt; &gt; &gt; ver que no generaba ningun fichero he mirado la consolo y he visto
</I>&gt;<i> &gt;&gt; &gt; &gt; lo siguiente: Backup
</I>&gt;<i> &gt;&gt; &gt; &gt; su postgres -c &quot;pg_dump -f /home/20090129 informatica&quot;
</I>&gt;<i> &gt;&gt; &gt; &gt; Start.
</I>&gt;<i> &gt;&gt; &gt; &gt; Start.
</I>&gt;<i> &gt;&gt; &gt; &gt; error: pg_dump: [archiver] could not open output file
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; &quot;/home/20090129&quot;:
</I>&gt;<i> &gt;&gt; &gt; &gt; Permission denied
</I>&gt;<i> &gt;&gt; &gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; &gt; por lo que veo no se puede crear el fichero de backup, he provado
</I>&gt;<i> &gt;&gt; &gt; &gt; distintas ubicaciones pero no funciona en ninguna.
</I>&gt;<i> &gt;&gt; &gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; &gt; sabeis que puede estar pasando.
</I>&gt;<i> &gt;&gt; &gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; &gt; Por cierto, para realizar un backup masivo en el caso que tenga
</I>&gt;<i> &gt;&gt; &gt; &gt; varias empresas, me podeis pasar alguna instruccion.
</I>&gt;<i> &gt;&gt; &gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; &gt; Gracias.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; --
</I>&gt;<i> &gt;&gt; Tomeu Borrás Riera
</I>&gt;<i> &gt;&gt; Conetxia Soluciones Informáticas
</I>&gt;<i> &gt;&gt; 902 88 11 66
</I>&gt;<i> &gt;&gt; 971 29 06 29
</I>&gt;<i> &gt;&gt; _______________________________________________
</I>&gt;<i> &gt;&gt; Bulmages-main mailing list
</I>&gt;<i> &gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">Bulmages-main en lists.berlios.de</A>
</I>&gt;<i> &gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">https://lists.berlios.de/mailman/listinfo/bulmages-main</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; --
</I>&gt;<i> &gt; __________________
</I>&gt;<i> &gt; Albert Mas
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">albertmas en termens.cat</A>
</I>&gt;<i> &gt; blog: <A HREF="http://www.turkil.net">http://www.turkil.net</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Bulmages-main mailing list
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">Bulmages-main en lists.berlios.de</A>
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">https://lists.berlios.de/mailman/listinfo/bulmages-main</A>
</I>


-- 
Tomeu Borrás Riera
Conetxia Soluciones Informáticas
902 88 11 66
971 29 06 29

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Mensaje anterior: <A HREF="001488.html">[BulmaGés]BACKUP con BULMASETUP
</A></li>
	<LI>Próximo mensaje: <A HREF="001490.html">[BulmaGés] r3202 - in trunk/bulmages:	bulmacont/src bulmalib/src bulmatpv/src
</A></li>
         <LI> <B>Mensajes ordenados por:</B> 
              <a href="date.html#1489">[ fecha ]</a>
              <a href="thread.html#1489">[ hilo ]</a>
              <a href="subject.html#1489">[ asunto ]</a>
              <a href="author.html#1489">[ autor ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bulmages-main">Más información sobre la lista de distribución Bulmages-main </a><br>
</body></html>

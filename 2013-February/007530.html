<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [BulmaGés][Gitorious] Activity: tborras pushed 1 commits to master...
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bulmages-main/2013-February/index.html" >
   <LINK REL="made" HREF="mailto:bulmages-main%40lists.berlios.de?Subject=Re%3A%20%3D%3Futf-8%3Fb%3FW0J1bG1hR8Opc10%3D%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3F%3D5BGitorious%3D5D_Activ%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3Fity%3D3A_tborras_pushed_1_commits_to_master%3D2E%3D2E%3D2E%3F%3D&In-Reply-To=%3CCAJWqEtc2OiQELpx7-28Soiu%2Bg4DRMdaBZB-k8vuZX-uFi7311g%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <LINK REL="Previous"  HREF="007525.html">
   <LINK REL="Next"  HREF="007532.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[BulmaGés][Gitorious] Activity: tborras pushed 1 commits to master... </H1>
    <B>Tomeu Borras</B> 
    <A HREF="mailto:bulmages-main%40lists.berlios.de?Subject=Re%3A%20%3D%3Futf-8%3Fb%3FW0J1bG1hR8Opc10%3D%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3F%3D5BGitorious%3D5D_Activ%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3Fity%3D3A_tborras_pushed_1_commits_to_master%3D2E%3D2E%3D2E%3F%3D&In-Reply-To=%3CCAJWqEtc2OiQELpx7-28Soiu%2Bg4DRMdaBZB-k8vuZX-uFi7311g%40mail.gmail.com%3E"
       TITLE="[BulmaGés][Gitorious] Activity: tborras pushed 1 commits to master...">tborras en conetxia.com
       </A><BR>
    <I>Vie Feb  8 18:15:04 CET 2013</I>
    <P><UL>
        <LI>Mensaje anterior: <A HREF="007525.html">[BulmaGés][Gitorious] Activity: tborras pushed 1 commits to master...
</A></li>
        <LI>Próximo mensaje: <A HREF="007532.html">[BulmaGés] La página wiki 'Repositorio de paquetes Debian' ha sido actualizada
</A></li>
         <LI> <B>Mensajes ordenados por:</B> 
              <a href="date.html#7530">[ fecha ]</a>
              <a href="thread.html#7530">[ hilo ]</a>
              <a href="subject.html#7530">[ asunto ]</a>
              <a href="author.html#7530">[ autor ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>2013/2/8 René Mérou &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">ochominutosdearco at gmail.com</A>&gt;

&gt;<i> On Viernes, 8 de febrero de 2013 06:52:44 Tomeu Borras escribió:
</I>&gt;<i> &gt; Hombre !!! Cuanto tiempo !!!
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> Jajajaja.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt; ¿Todo bien?
</I>&gt;<i>
</I>&gt;<i> Naa, descubriendo el camino como siempre apasionante.
</I>&gt;<i>
</I>&gt;<i> ¿Pero tú cuándo duermes?  jajaja
</I>&gt;<i> Te vi despierto como yo y te envié un buenas noches :)
</I>&gt;<i>
</I>&gt;<i> Llevo un año entero dormido.
</I>
Va siendo hora de desperezarse un poco.


&gt;<i> Ay la musa de los informáticos...
</I>&gt;<i>
</I>&gt;<i> Un saludote
</I>&gt;<i>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; 2013/2/8 René &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">ochominutosdearco at gmail.com</A>&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; Buenas noches mon ami. :)
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;  El 08/02/2013 05:55, &quot;Gitorious&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">no-reply at gitorious.org</A>&gt; escribió:
</I>&gt;<i> &gt; &gt;&gt; Hello bulmagesmailing,
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; One of your favorites has a new activity:
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> &gt; &gt;&gt; tborras pushed 1 commits to master
</I>&gt;<i> &gt; &gt;&gt; master changed from 3ff7a80 to 2d2d908
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; View the commit log at
</I>&gt;<i> <A HREF="https://gitorious.org/bulmages/bulmages/commits">https://gitorious.org/bulmages/bulmages/commits</A>
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; View the diff online:
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> <A HREF="https://gitorious.org/bulmages/bulmages/commit/3ff7a8000f49cbcb658995285">https://gitorious.org/bulmages/bulmages/commit/3ff7a8000f49cbcb658995285</A>
</I>&gt;<i> &gt; &gt;&gt; 20d02d450a8e62b/diffs/2d2d90848ecdf6fe10d4d813f08b28474ac120f2
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; Diff:
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; commit 2d2d90848ecdf6fe10d4d813f08b28474ac120f2
</I>&gt;<i> &gt; &gt;&gt; Author: Tomeu Borras &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">tborras at conetxia.com</A>&gt;
</I>&gt;<i> &gt; &gt;&gt; Date:   Fri Feb 8 05:36:35 2013 +0100
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;     Con este commit se pueden agregar pestañas a una ficha existente
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; mediante los archivos de especificaciones.
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;     Para ello he ampliado el XML reconocido en los archivos .spc que
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; ahora soportan el tag &lt;TAB&gt;&lt;/TAB&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;     y llevan como parametros adicionales
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;     &lt;NAME&gt;&lt;/NAME&gt;
</I>&gt;<i> &gt; &gt;&gt;     &lt;UI_INTERFACE&gt;&lt;/UI_INTERFACE&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;     Y como es natural los famosos &lt;CAMPO&gt;&lt;/CAMPO&gt; y ahora también
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; &lt;SUBFORM&gt;&lt;/SUBFORM&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;     De esta forma las fichas existentens son extensibles al mismo
</I>&gt;<i> nivel
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; que los autoformularios.
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;     Pongo un ejemplo de uso en el &quot;supuesto&quot; archivo
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; ArticuloBase_XXX_spec.spc que altera la ficha de articulos:
</I>&gt;<i> &gt; &gt;&gt;     &lt;DOCUMENT&gt;
</I>&gt;<i> &gt; &gt;&gt;     &lt;TAB&gt;
</I>&gt;<i> &gt; &gt;&gt;     &lt;NAME&gt;Ultimas Compras&lt;/NAME&gt;
</I>&gt;<i> &gt; &gt;&gt;     &lt;UI_INTERFACE&gt;/tmp/sociobase.ui&lt;/UI_INTERFACE&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;     &lt;SUBFORM&gt;
</I>&gt;<i> &gt; &gt;&gt;     &lt;NOMCAMPO&gt;listart&lt;/NOMCAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;NOMPCAMPO&gt;Reservas&lt;/NOMPCAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;FILECONFIG&gt;reservassocio&lt;/FILECONFIG&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;RESTRICTIONSCAMPO&gt;DBNOTHING&lt;/RESTRICTIONSCAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;QUERY&gt;SELECT * FROM lalbaranp NATURAL LEFT JOIN albaranp
</I>&gt;<i> NATURAL
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; LEFT JOIN proveedor WHERE idarticulo = [idarticulo] &lt;/QUERY&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;VINCULOS&gt;idarticulo = idarticulo&lt;/VINCULOS&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;TABLENAME&gt;articulo&lt;/TABLENAME&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;FIELDID&gt;idarticulo&lt;/FIELDID&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;ALLOWNULL&gt;FALSE&lt;/ALLOWNULL&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;ALLOWINSERT&gt;FALSE&lt;/ALLOWINSERT&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;ALLOWDELETE&gt;FALSE&lt;/ALLOWDELETE&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;SETSORTING&gt;FALSE&lt;/SETSORTING&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;HEADER&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;NOMCAMPO&gt;nomproveedor&lt;/NOMCAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;NOMPCAMPO&gt;Proveedor&lt;/NOMPCAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;DBTYPECAMPO&gt;DBVARCHAR&lt;/DBTYPECAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;RESTRICTIONSCAMPO&gt;DBNOSAVE&lt;/RESTRICTIONSCAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;OPTIONSHEADER&gt;DBNOSAVE&lt;/OPTIONSHEADER&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;OPTIONSHEADER&gt;DBNOWRITE&lt;/OPTIONSHEADER&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;/HEADER&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;HEADER&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;NOMCAMPO&gt;fechaalbaranp&lt;/NOMCAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;NOMPCAMPO&gt;Fecha&lt;/NOMPCAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;DBTYPECAMPO&gt;DBDATE&lt;/DBTYPECAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;RESTRICTIONSCAMPO&gt;DBNOSAVE&lt;/RESTRICTIONSCAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;OPTIONSHEADER&gt;DBNOSAVE&lt;/OPTIONSHEADER&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;OPTIONSHEADER&gt;DBNOWRITE&lt;/OPTIONSHEADER&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;/HEADER&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;HEADER&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;NOMCAMPO&gt;cifproveedor&lt;/NOMCAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;NOMPCAMPO&gt;CIF Proveedor&lt;/NOMPCAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;DBTYPECAMPO&gt;DBINT&lt;/DBTYPECAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;RESTRICTIONSCAMPO&gt;DBNOSAVE&lt;/RESTRICTIONSCAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;OPTIONSHEADER&gt;DBNOSAVE&lt;/OPTIONSHEADER&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;OPTIONSHEADER&gt;DBNOWRITE&lt;/OPTIONSHEADER&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;/HEADER&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;HEADER&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;NOMCAMPO&gt;cantlalbaranp&lt;/NOMCAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;NOMPCAMPO&gt;Cantidad&lt;/NOMPCAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;DBTYPECAMPO&gt;DBINT&lt;/DBTYPECAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;RESTRICTIONSCAMPO&gt;DBNOSAVE&lt;/RESTRICTIONSCAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;OPTIONSHEADER&gt;DBNOSAVE&lt;/OPTIONSHEADER&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;OPTIONSHEADER&gt;DBNOWRITE&lt;/OPTIONSHEADER&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;/HEADER&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;HEADER&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;NOMCAMPO&gt;pvplalbaranp&lt;/NOMCAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;NOMPCAMPO&gt;Precio&lt;/NOMPCAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;DBTYPECAMPO&gt;DBVARCHAR&lt;/DBTYPECAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;RESTRICTIONSCAMPO&gt;DBNOSAVE&lt;/RESTRICTIONSCAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;OPTIONSHEADER&gt;DBNOSAVE&lt;/OPTIONSHEADER&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;OPTIONSHEADER&gt;DBNOWRITE&lt;/OPTIONSHEADER&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;/HEADER&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;     &lt;/SUBFORM&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;     &lt;/TAB&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;     &lt;TAB&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;      &lt;NAME&gt;Ultimas Ventas&lt;/NAME&gt;
</I>&gt;<i> &gt; &gt;&gt;      &lt;UI_INTERFACE&gt;/tmp/sociobase1.ui&lt;/UI_INTERFACE&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;     &lt;SUBFORM&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;      &lt;NOMCAMPO&gt;listart1&lt;/NOMCAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;      &lt;NOMPCAMPO&gt;Reservas&lt;/NOMPCAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;      &lt;FILECONFIG&gt;reservassocio&lt;/FILECONFIG&gt;
</I>&gt;<i> &gt; &gt;&gt;      &lt;RESTRICTIONSCAMPO&gt;DBNOTHING&lt;/RESTRICTIONSCAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;      &lt;QUERY&gt;SELECT * FROM lalbaran NATURAL LEFT JOIN albaran NATURAL
</I>&gt;<i> &gt; &gt;&gt;      LEFT
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; JOIN cliente WHERE idarticulo = [idarticulo] &lt;/QUERY&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;      &lt;VINCULOS&gt;idarticulo = idarticulo&lt;/VINCULOS&gt;
</I>&gt;<i> &gt; &gt;&gt;      &lt;TABLENAME&gt;articulo&lt;/TABLENAME&gt;
</I>&gt;<i> &gt; &gt;&gt;      &lt;FIELDID&gt;idarticulo&lt;/FIELDID&gt;
</I>&gt;<i> &gt; &gt;&gt;      &lt;ALLOWNULL&gt;FALSE&lt;/ALLOWNULL&gt;
</I>&gt;<i> &gt; &gt;&gt;      &lt;ALLOWINSERT&gt;FALSE&lt;/ALLOWINSERT&gt;
</I>&gt;<i> &gt; &gt;&gt;      &lt;ALLOWDELETE&gt;FALSE&lt;/ALLOWDELETE&gt;
</I>&gt;<i> &gt; &gt;&gt;      &lt;SETSORTING&gt;FALSE&lt;/SETSORTING&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;     &lt;HEADER&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;NOMCAMPO&gt;nomcliente&lt;/NOMCAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;NOMPCAMPO&gt;Cliente&lt;/NOMPCAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;DBTYPECAMPO&gt;DBINT&lt;/DBTYPECAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;RESTRICTIONSCAMPO&gt;DBNOSAVE&lt;/RESTRICTIONSCAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;OPTIONSHEADER&gt;DBNOSAVE&lt;/OPTIONSHEADER&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;OPTIONSHEADER&gt;DBNOWRITE&lt;/OPTIONSHEADER&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;     &lt;/HEADER&gt;
</I>&gt;<i> &gt; &gt;&gt;     &lt;HEADER&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;NOMCAMPO&gt;fechaalbaran&lt;/NOMCAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;NOMPCAMPO&gt;Fecha&lt;/NOMPCAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;DBTYPECAMPO&gt;DBINT&lt;/DBTYPECAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;RESTRICTIONSCAMPO&gt;DBNOSAVE&lt;/RESTRICTIONSCAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;OPTIONSHEADER&gt;DBNOSAVE&lt;/OPTIONSHEADER&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;OPTIONSHEADER&gt;DBNOWRITE&lt;/OPTIONSHEADER&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;     &lt;/HEADER&gt;
</I>&gt;<i> &gt; &gt;&gt;     &lt;HEADER&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;NOMCAMPO&gt;cifcliente&lt;/NOMCAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;NOMPCAMPO&gt;CIF Cliente&lt;/NOMPCAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;DBTYPECAMPO&gt;DBINT&lt;/DBTYPECAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;RESTRICTIONSCAMPO&gt;DBNOSAVE&lt;/RESTRICTIONSCAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;OPTIONSHEADER&gt;DBNOSAVE&lt;/OPTIONSHEADER&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;OPTIONSHEADER&gt;DBNOWRITE&lt;/OPTIONSHEADER&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;     &lt;/HEADER&gt;
</I>&gt;<i> &gt; &gt;&gt;     &lt;HEADER&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;NOMCAMPO&gt;cantlalbaran&lt;/NOMCAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;NOMPCAMPO&gt;Cantidad&lt;/NOMPCAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;DBTYPECAMPO&gt;DBINT&lt;/DBTYPECAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;RESTRICTIONSCAMPO&gt;DBNOSAVE&lt;/RESTRICTIONSCAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;OPTIONSHEADER&gt;DBNOSAVE&lt;/OPTIONSHEADER&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;OPTIONSHEADER&gt;DBNOWRITE&lt;/OPTIONSHEADER&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;     &lt;/HEADER&gt;
</I>&gt;<i> &gt; &gt;&gt;     &lt;HEADER&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;NOMCAMPO&gt;pvplalbaran&lt;/NOMCAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;NOMPCAMPO&gt;Precio Venta&lt;/NOMPCAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;DBTYPECAMPO&gt;DBVARCHAR&lt;/DBTYPECAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;RESTRICTIONSCAMPO&gt;DBNOSAVE&lt;/RESTRICTIONSCAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;OPTIONSHEADER&gt;DBNOSAVE&lt;/OPTIONSHEADER&gt;
</I>&gt;<i> &gt; &gt;&gt;       &lt;OPTIONSHEADER&gt;DBNOWRITE&lt;/OPTIONSHEADER&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;     &lt;/HEADER&gt;
</I>&gt;<i> &gt; &gt;&gt;     &lt;/SUBFORM&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;     &lt;/TAB&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;     &lt;FICHA&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;         &lt;CAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;                 &lt;NOMCAMPO&gt;fechancliente&lt;/NOMCAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;                 &lt;NOMPCAMPO&gt;Tel. Movil&lt;/NOMPCAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;                 &lt;DBTYPECAMPO&gt;DBDATE&lt;/DBTYPECAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;                 &lt;RESTRICTIONSCAMPO&gt;DBNOTHING&lt;/RESTRICTIONSCAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;         &lt;/CAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;         &lt;CAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;                 &lt;NOMCAMPO&gt;fechanincliente&lt;/NOMCAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;                 &lt;NOMPCAMPO&gt;Tel. Jodes&lt;/NOMPCAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;             &lt;DBTYPECAMPO&gt;DBDATE&lt;/DBTYPECAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;                 &lt;RESTRICTIONSCAMPO&gt;DBNOTHING&lt;/RESTRICTIONSCAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;         &lt;/CAMPO&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;     &lt;/FICHA&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;     &lt;/DOCUMENT&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;     NOTA: Si la ficha a la que intentamos adjuntar un TAB no tiene
</I>&gt;<i> &gt; &gt;&gt;     ningún
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; QTabWidget entonces no funcionara.
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;     NOTA2: Notad la diferencia entre &lt;TAB&gt; y &lt;FICHA&gt;. El primero crea
</I>&gt;<i> &gt; &gt;&gt;     los
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; campos y en el segundo se diseñan mediante el archivo de QtDesigner
</I>&gt;<i> &gt; &gt;&gt; indicado en &lt;UI_INTERFACE&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; diff --git a/bulmages/bulmalib/src/blform.cpp
</I>&gt;<i> &gt; &gt;&gt; b/bulmages/bulmalib/src/blform.cpp
</I>&gt;<i> &gt; &gt;&gt; index cfff188..19195d7 100644
</I>&gt;<i> &gt; &gt;&gt; --- a/bulmages/bulmalib/src/blform.cpp
</I>&gt;<i> &gt; &gt;&gt; +++ b/bulmages/bulmalib/src/blform.cpp
</I>&gt;<i> &gt; &gt;&gt; @@ -63,11 +63,8 @@ BlForm::BlForm ( QWidget *parent, Qt::WFlags f,
</I>&gt;<i> &gt; &gt;&gt; edmode modo ) : BlWidget ( paren
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;      setContextMenuPolicy ( Qt::CustomContextMenu );
</I>&gt;<i> &gt; &gt;&gt;      connect ( this, SIGNAL ( customContextMenuRequested ( const
</I>&gt;<i> QPoint
</I>&gt;<i> &gt; &gt;&gt;      &amp;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; ) ), this, SLOT ( on_customContextMenuRequested ( const QPoint &amp; ) )
</I>&gt;<i> );
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;      m_modo = modo;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; +    m_firstLoad = TRUE;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;      dialogChanges_readValues();
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; -
</I>&gt;<i> &gt; &gt;&gt; -
</I>&gt;<i> &gt; &gt;&gt; -
</I>&gt;<i> &gt; &gt;&gt; -
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;  }
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; @@ -142,6 +139,7 @@ BlForm::BlForm ( BlMainCompany *emp, QWidget
</I>&gt;<i> &gt; &gt;&gt; *parent, Qt::WFlags f, edmode modo
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;      setContextMenuPolicy ( Qt::CustomContextMenu );
</I>&gt;<i> &gt; &gt;&gt;      connect ( this, SIGNAL ( customContextMenuRequested ( const
</I>&gt;<i> QPoint
</I>&gt;<i> &gt; &gt;&gt;      &amp;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; ) ), this, SLOT ( on_customContextMenuRequested ( const QPoint &amp; ) )
</I>&gt;<i> );
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;      m_modo = modo;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; +    m_firstLoad = TRUE;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;      dialogChanges_readValues();
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;  }
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; @@ -168,6 +166,12 @@ void BlForm::loadSpecs()
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;  {
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;      BL_FUNC_DEBUG
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; +    if (m_firstLoad) {
</I>&gt;<i> &gt; &gt;&gt; +       m_firstLoad = FALSE;
</I>&gt;<i> &gt; &gt;&gt; +    } else {
</I>&gt;<i> &gt; &gt;&gt; +      return;
</I>&gt;<i> &gt; &gt;&gt; +    }// end if
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;          /// Disparamos los plugins
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;      int res1 = g_plugins-&gt;run ( &quot;BlForm_loadSpecs&quot;, this );
</I>&gt;<i> &gt; &gt;&gt;      if ( res1 != 0 ) {
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; @@ -189,6 +193,223 @@ void BlForm::loadSpecs()
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;      file.close();
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;      QDomElement docElem = doc.documentElement();
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt; +    QDomNodeList tabnodos = docElem.elementsByTagName ( &quot;TAB&quot; );
</I>&gt;<i> &gt; &gt;&gt; +    for ( int i = 0; i &lt; tabnodos.count(); i++ ) {
</I>&gt;<i> &gt; &gt;&gt; +        QDomNode ventana = tabnodos.item ( i );
</I>&gt;<i> &gt; &gt;&gt; +        QDomElement e1 = ventana.toElement(); /// try to convert the
</I>&gt;<i> &gt; &gt;&gt; node to an element.
</I>&gt;<i> &gt; &gt;&gt; +        if ( !e1.isNull() ) { /// the node was really an element.
</I>&gt;<i> &gt; &gt;&gt; +          QString name = e1.firstChildElement ( &quot;NAME&quot;
</I>&gt;<i> &gt; &gt;&gt; ).toElement().text();
</I>&gt;<i> &gt; &gt;&gt; +           QString interfacefile = e1.firstChildElement (
</I>&gt;<i> &gt; &gt;&gt; &quot;UI_INTERFACE&quot; ).toElement().text();
</I>&gt;<i> &gt; &gt;&gt; +            QTabWidget *tab =  findChild&lt;QTabWidget *&gt;();
</I>&gt;<i> &gt; &gt;&gt; +           if (tab) {
</I>&gt;<i> &gt; &gt;&gt; +             BlUiLoader loader(mainCompany());
</I>&gt;<i> &gt; &gt;&gt; +             QFile file(interfacefile);
</I>&gt;<i> &gt; &gt;&gt; +             file.open(QFile::ReadOnly);
</I>&gt;<i> &gt; &gt;&gt; +             QWidget *myWidget = loader.load(&amp;file, this);
</I>&gt;<i> &gt; &gt;&gt; +             tab-&gt;insertTab(-1,myWidget,name);
</I>&gt;<i> &gt; &gt;&gt; +           } else {
</I>&gt;<i> &gt; &gt;&gt; +             blMsgInfo(&quot;Se ha encontrado una especificacion TAB para
</I>&gt;<i> &gt; &gt;&gt; una ficha que no posee QTabWidget&quot;);
</I>&gt;<i> &gt; &gt;&gt; +           } // end if
</I>&gt;<i> &gt; &gt;&gt; +               QDomNodeList nodos = e1.elementsByTagName ( &quot;CAMPO&quot; );
</I>&gt;<i> &gt; &gt;&gt; +               for ( int j = 0; j &lt; nodos.count(); j++ ) {
</I>&gt;<i> &gt; &gt;&gt; +                   QDomNode ventana = nodos.item ( j );
</I>&gt;<i> &gt; &gt;&gt; +                   QDomElement e1 = ventana.toElement(); /// try to
</I>&gt;<i> &gt; &gt;&gt; convert the node to an element.
</I>&gt;<i> &gt; &gt;&gt; +                   if ( !e1.isNull() ) { /// the node was really an
</I>&gt;<i> &gt; &gt;&gt; element.
</I>&gt;<i> &gt; &gt;&gt; +                       BlDbField::DbType type = BlDbField::DbVarChar;
</I>&gt;<i> &gt; &gt;&gt; +                       QString nomheader = e1.firstChildElement (
</I>&gt;<i> &gt; &gt;&gt; &quot;NOMCAMPO&quot; ).toElement().text();
</I>&gt;<i> &gt; &gt;&gt; +                       if ( exists ( nomheader ) ) return ;
</I>&gt;<i> &gt; &gt;&gt; +                       QString nompheader = e1.firstChildElement (
</I>&gt;<i> &gt; &gt;&gt; &quot;NOMPCAMPO&quot; ).toElement().text();
</I>&gt;<i> &gt; &gt;&gt; +                       QString typeheader = e1.firstChildElement (
</I>&gt;<i> &gt; &gt;&gt; &quot;DBTYPECAMPO&quot; ).toElement().text();
</I>&gt;<i> &gt; &gt;&gt; +                       if ( typeheader == &quot;DBVARCHAR&quot; ) {
</I>&gt;<i> &gt; &gt;&gt; +                           type = BlDbField::DbVarChar;
</I>&gt;<i> &gt; &gt;&gt; +                       } else if ( typeheader == &quot;DBINT&quot; ) {
</I>&gt;<i> &gt; &gt;&gt; +                           type = BlDbField::DbInt;
</I>&gt;<i> &gt; &gt;&gt; +                       } else if ( typeheader == &quot;DBNUMERIC&quot; ) {
</I>&gt;<i> &gt; &gt;&gt; +                           type = BlDbField::DbNumeric;
</I>&gt;<i> &gt; &gt;&gt; +                       } else if ( typeheader == &quot;DBBOOLEAN&quot; ) {
</I>&gt;<i> &gt; &gt;&gt; +                           type = BlDbField::DbBoolean;
</I>&gt;<i> &gt; &gt;&gt; +                       } else if ( typeheader == &quot;DBDATE&quot; ) {
</I>&gt;<i> &gt; &gt;&gt; +                           type = BlDbField::DbDate;
</I>&gt;<i> &gt; &gt;&gt; +                       } // end if
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt; +                       int restricciones = ( int )
</I>&gt;<i> &gt; &gt;&gt; BlDbField::DbNothing; +                       QDomElement restrict =
</I>&gt;<i> &gt; &gt;&gt; e1.firstChildElement ( &quot;RESTRICTIONSCAMPO&quot; );
</I>&gt;<i> &gt; &gt;&gt; +                       while ( !restrict.isNull() ) {
</I>&gt;<i> &gt; &gt;&gt; +                           QString trestrict = restrict.text();
</I>&gt;<i> &gt; &gt;&gt; +                           if ( trestrict == &quot;DBNOTHING&quot; ) {
</I>&gt;<i> &gt; &gt;&gt; +                               restricciones |= BlDbField::DbNothing;
</I>&gt;<i> &gt; &gt;&gt; +                           } else if ( trestrict == &quot;DBNOTNULL&quot; ) {
</I>&gt;<i> &gt; &gt;&gt; +                               restricciones |= BlDbField::DbNotNull;
</I>&gt;<i> &gt; &gt;&gt; +                           } else if ( trestrict == &quot;DBPRIMARYKEY&quot; )
</I>&gt;<i> {
</I>&gt;<i> &gt; &gt;&gt; +                               restricciones |=
</I>&gt;<i> &gt; &gt;&gt; BlDbField::DbPrimaryKey; +                           } else if (
</I>&gt;<i> &gt; &gt;&gt; trestrict == &quot;DBNOSAVE&quot; ) { +
</I>&gt;<i> &gt; &gt;&gt; restricciones |= BlDbField::DbNoSave; +                           }
</I>&gt;<i> &gt; &gt;&gt; else if ( trestrict == &quot;DBAUTO&quot; ) { +
</I>&gt;<i> &gt; &gt;&gt; restricciones |= BlDbField::DbAuto; +                           } else
</I>&gt;<i> &gt; &gt;&gt; if ( trestrict == &quot;DBAUTO&quot; ) { +
</I>&gt;<i> &gt; &gt;&gt; restricciones |= BlDbField::DbAuto; +                           } else
</I>&gt;<i> &gt; &gt;&gt; if ( trestrict == &quot;DBDUPPRIMARYKEY&quot; ) { +
</I>&gt;<i> &gt; &gt;&gt; restricciones |=
</I>&gt;<i> &gt; &gt;&gt; BlDbField::DbDupPrimaryKey;
</I>&gt;<i> &gt; &gt;&gt; +                           } else if ( trestrict == &quot;DBREQUIRED&quot; ) {
</I>&gt;<i> &gt; &gt;&gt; +                               restricciones |=
</I>&gt;<i> BlDbField::DbRequired;
</I>&gt;<i> &gt; &gt;&gt; +                           } else if ( trestrict == &quot;DBNOLOAD&quot; ) {
</I>&gt;<i> &gt; &gt;&gt; +                               restricciones |= BlDbField::DbNoLoad;
</I>&gt;<i> &gt; &gt;&gt; +                           } // end if
</I>&gt;<i> &gt; &gt;&gt; +                           restrict = restrict.nextSiblingElement (
</I>&gt;<i> &gt; &gt;&gt; &quot;RESTRICTIONSCAMPO&quot; );
</I>&gt;<i> &gt; &gt;&gt; +                       } // end while
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt; +                       addDbField ( nomheader, type, (
</I>&gt;<i> &gt; &gt;&gt; BlDbField::DbRestrict ) restricciones, nompheader );
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt; +                       QString tipocampo = e1.firstChildElement (
</I>&gt;<i> &gt; &gt;&gt; &quot;TIPOCAMPO&quot; ).toElement().text();
</I>&gt;<i> &gt; &gt;&gt; +                       if (tipocampo == &quot;BLCOMBOBOX&quot;) {
</I>&gt;<i> &gt; &gt;&gt; +                           QString nombre= &quot;mui_&quot;+nomheader;
</I>&gt;<i> &gt; &gt;&gt; +                           BlComboBox * combo = findChild&lt;BlComboBox
</I>&gt;<i> &gt; &gt;&gt; *&gt;(nombre);
</I>&gt;<i> &gt; &gt;&gt; +                           QString query = e1.firstChildElement (
</I>&gt;<i> &gt; &gt;&gt; &quot;QUERY&quot; ).toElement().text();
</I>&gt;<i> &gt; &gt;&gt; +                           QString tablename = e1.firstChildElement (
</I>&gt;<i> &gt; &gt;&gt; &quot;TABLENAME&quot; ).toElement().text();
</I>&gt;<i> &gt; &gt;&gt; +                           QString fieldid = e1.firstChildElement (
</I>&gt;<i> &gt; &gt;&gt; &quot;FIELDID&quot; ).toElement().text();
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt; +                           // Para no liarla parda, ponemos
</I>&gt;<i> provincias
</I>&gt;<i> &gt; &gt;&gt; y asi no habrá pedatas de momento.
</I>&gt;<i> &gt; &gt;&gt; +                           combo-&gt;setQuery ( query );
</I>&gt;<i> &gt; &gt;&gt; +                           combo-&gt;setTableName ( tablename );
</I>&gt;<i> &gt; &gt;&gt; +                           combo-&gt;setFieldId ( fieldid );
</I>&gt;<i> &gt; &gt;&gt; +                           QDomNodeList nodos = e1.elementsByTagName
</I>&gt;<i> (
</I>&gt;<i> &gt; &gt;&gt; &quot;VALOR&quot; );
</I>&gt;<i> &gt; &gt;&gt; +                           for ( int j = 0; j &lt; nodos.count(); j++ )
</I>&gt;<i> {
</I>&gt;<i> &gt; &gt;&gt; +                               QDomNode ventana = nodos.item ( j );
</I>&gt;<i> &gt; &gt;&gt; +                               QString va =
</I>&gt;<i> ventana.toElement().text();
</I>&gt;<i> &gt; &gt;&gt; /// try to convert the node to an element.
</I>&gt;<i> &gt; &gt;&gt; +                               combo-&gt;m_valores[va] = &quot;&quot;;
</I>&gt;<i> &gt; &gt;&gt; +                           } // end for
</I>&gt;<i> &gt; &gt;&gt; +                           combo-&gt;setAllowNull ( TRUE );
</I>&gt;<i> &gt; &gt;&gt; +                           combo-&gt;setId ( &quot;&quot; );
</I>&gt;<i> &gt; &gt;&gt; +                       } // end if
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt; +                       if (tipocampo == &quot;BLSEARCHWIDGET&quot;) {
</I>&gt;<i> &gt; &gt;&gt; +                           QString nombre= &quot;mui_&quot;+nomheader;
</I>&gt;<i> &gt; &gt;&gt; +                           BlSearchWidget * search =
</I>&gt;<i> &gt; &gt;&gt; findChild&lt;BlSearchWidget *&gt;(nombre);
</I>&gt;<i> &gt; &gt;&gt; +                           QString label = e1.firstChildElement (
</I>&gt;<i> &gt; &gt;&gt; &quot;LABEL&quot; ).toElement().text();
</I>&gt;<i> &gt; &gt;&gt; +                           QString tablename = e1.firstChildElement (
</I>&gt;<i> &gt; &gt;&gt; &quot;TABLENAME&quot; ).toElement().text();
</I>&gt;<i> &gt; &gt;&gt; +                           QString fieldid = e1.firstChildElement (
</I>&gt;<i> &gt; &gt;&gt; &quot;FIELDID&quot; ).toElement().text();
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt; +                           // Para no liarla parda, ponemos
</I>&gt;<i> provincias
</I>&gt;<i> &gt; &gt;&gt; y asi no habrá pedatas de momento.
</I>&gt;<i> &gt; &gt;&gt; +                           search-&gt;setLabel ( label );
</I>&gt;<i> &gt; &gt;&gt; +                           search-&gt;setTableName ( tablename );
</I>&gt;<i> &gt; &gt;&gt; +                           search-&gt;setFieldId ( fieldid );
</I>&gt;<i> &gt; &gt;&gt; +                           QDomNodeList nodos = e1.elementsByTagName
</I>&gt;<i> (
</I>&gt;<i> &gt; &gt;&gt; &quot;VALOR&quot; );
</I>&gt;<i> &gt; &gt;&gt; +                           for ( int j = 0; j &lt; nodos.count(); j++ )
</I>&gt;<i> {
</I>&gt;<i> &gt; &gt;&gt; +                               QDomNode ventana = nodos.item ( j );
</I>&gt;<i> &gt; &gt;&gt; +                               QString va =
</I>&gt;<i> ventana.toElement().text();
</I>&gt;<i> &gt; &gt;&gt; /// try to convert the node to an element.
</I>&gt;<i> &gt; &gt;&gt; +                               search-&gt;m_valores[va] = &quot;&quot;;
</I>&gt;<i> &gt; &gt;&gt; +                           } // end for
</I>&gt;<i> &gt; &gt;&gt; +                           search-&gt;setId ( &quot;&quot; );
</I>&gt;<i> &gt; &gt;&gt; +                       } // end if
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt; +                   } // end if
</I>&gt;<i> &gt; &gt;&gt; +               } // end for
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt; +               /// Cargamos los subformularios
</I>&gt;<i> &gt; &gt;&gt; +               QDomNodeList nodoss = e1.elementsByTagName ( &quot;SUBFORM&quot;
</I>&gt;<i> &gt; &gt;&gt; ); +               for ( int j = 0; j &lt; nodoss.count(); j++ ) {
</I>&gt;<i> &gt; &gt;&gt; +                   QDomNode ventana = nodoss.item ( j );
</I>&gt;<i> &gt; &gt;&gt; +                   QDomElement e1 = ventana.toElement(); /// try to
</I>&gt;<i> &gt; &gt;&gt; convert the node to an element.
</I>&gt;<i> &gt; &gt;&gt; +                   if ( !e1.isNull() ) { /// the node was really an
</I>&gt;<i> &gt; &gt;&gt; element.
</I>&gt;<i> &gt; &gt;&gt; +                       BlDbField::DbType type = BlDbField::DbVarChar;
</I>&gt;<i> &gt; &gt;&gt; +                       QString nomheader = e1.firstChildElement (
</I>&gt;<i> &gt; &gt;&gt; &quot;NOMCAMPO&quot; ).toElement().text();
</I>&gt;<i> &gt; &gt;&gt; +                       if ( exists ( nomheader ) ) return;
</I>&gt;<i> &gt; &gt;&gt; +                       QString nompheader = e1.firstChildElement (
</I>&gt;<i> &gt; &gt;&gt; &quot;NOMPCAMPO&quot; ).toElement().text();
</I>&gt;<i> &gt; &gt;&gt; +                       BlSubForm * subform = findChild&lt;BlSubForm
</I>&gt;<i> &gt; &gt;&gt; *&gt;(&quot;mui_&quot; + nomheader);
</I>&gt;<i> &gt; &gt;&gt; +                       QString tablename = e1.firstChildElement (
</I>&gt;<i> &gt; &gt;&gt; &quot;TABLENAME&quot; ).toElement().text();
</I>&gt;<i> &gt; &gt;&gt; +                       QString fieldid = e1.firstChildElement (
</I>&gt;<i> &gt; &gt;&gt; &quot;FIELDID&quot; ).toElement().text();
</I>&gt;<i> &gt; &gt;&gt; +                       QString fileconfig = e1.firstChildElement (
</I>&gt;<i> &gt; &gt;&gt; &quot;FILECONFIG&quot; ).toElement().text();
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt; +                       QString allowinsert = e1.firstChildElement (
</I>&gt;<i> &gt; &gt;&gt; &quot;ALLOWINSERT&quot; ).toElement().text();
</I>&gt;<i> &gt; &gt;&gt; +                       QString allowdelete = e1.firstChildElement (
</I>&gt;<i> &gt; &gt;&gt; &quot;ALLOWDELETE&quot; ).toElement().text();
</I>&gt;<i> &gt; &gt;&gt; +                       QString setsorting = e1.firstChildElement (
</I>&gt;<i> &gt; &gt;&gt; &quot;SETSORTING&quot; ).toElement().text();
</I>&gt;<i> &gt; &gt;&gt; +                       ///
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt; +                       subform-&gt;setDbTableName ( tablename );
</I>&gt;<i> &gt; &gt;&gt; +                       subform-&gt;setDbFieldId ( fieldid );
</I>&gt;<i> &gt; &gt;&gt; +                       subform-&gt;setFileConfig ( fileconfig );
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt; +                       /// Hacemos el tratamiento de los headers
</I>&gt;<i> &gt; &gt;&gt; +                           QDomNodeList nodos = e1.elementsByTagName
</I>&gt;<i> (
</I>&gt;<i> &gt; &gt;&gt; &quot;HEADER&quot; );
</I>&gt;<i> &gt; &gt;&gt; +                           for ( int j = 0; j &lt; nodos.count(); j++ )
</I>&gt;<i> {
</I>&gt;<i> &gt; &gt;&gt; +                               QDomNode ventana = nodos.item ( j );
</I>&gt;<i> &gt; &gt;&gt; +                               QDomElement header =
</I>&gt;<i> &gt; &gt;&gt; ventana.toElement(); +
</I>&gt;<i> &gt; &gt;&gt; +                               BlDbField::DbType type =
</I>&gt;<i> &gt; &gt;&gt; BlDbField::DbVarChar;
</I>&gt;<i> &gt; &gt;&gt; +                               QString nomheader =
</I>&gt;<i> &gt; &gt;&gt; header.firstChildElement ( &quot;NOMCAMPO&quot; ).toElement().text();
</I>&gt;<i> &gt; &gt;&gt; +                               QString nompheader =
</I>&gt;<i> &gt; &gt;&gt; header.firstChildElement ( &quot;NOMPCAMPO&quot; ).toElement().text();
</I>&gt;<i> &gt; &gt;&gt; +                               QString typeheader =
</I>&gt;<i> &gt; &gt;&gt; header.firstChildElement ( &quot;DBTYPECAMPO&quot; ).toElement().text();
</I>&gt;<i> &gt; &gt;&gt; +                               if ( typeheader == &quot;DBVARCHAR&quot; ) {
</I>&gt;<i> &gt; &gt;&gt; +                                   type = BlDbField::DbVarChar;
</I>&gt;<i> &gt; &gt;&gt; +                               } else if ( typeheader == &quot;DBINT&quot; ) {
</I>&gt;<i> &gt; &gt;&gt; +                                   type = BlDbField::DbInt;
</I>&gt;<i> &gt; &gt;&gt; +                               } else if ( typeheader == &quot;DBNUMERIC&quot;
</I>&gt;<i> )
</I>&gt;<i> &gt; &gt;&gt; { +                                   type = BlDbField::DbNumeric; +
</I>&gt;<i> &gt; &gt;&gt;                            } else if ( typeheader == &quot;DBBOOLEAN&quot; ) { +
</I>&gt;<i> &gt; &gt;&gt;                                  type = BlDbField::DbBoolean; +
</I>&gt;<i> &gt; &gt;&gt;                       } else if ( typeheader == &quot;DBDATE&quot; ) { +
</I>&gt;<i> &gt; &gt;&gt;                          type = BlDbField::DbDate;
</I>&gt;<i> &gt; &gt;&gt; +                               } // end if
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt; +                               int restricciones = ( int )
</I>&gt;<i> &gt; &gt;&gt; BlDbField::DbNothing;
</I>&gt;<i> &gt; &gt;&gt; +                               QDomElement restrict =
</I>&gt;<i> &gt; &gt;&gt; header.firstChildElement ( &quot;RESTRICTIONSCAMPO&quot; );
</I>&gt;<i> &gt; &gt;&gt; +                               while ( !restrict.isNull() ) {
</I>&gt;<i> &gt; &gt;&gt; +                                   QString trestrict =
</I>&gt;<i> restrict.text();
</I>&gt;<i> &gt; &gt;&gt; +                                   if ( trestrict == &quot;DBNOTHING&quot; ) {
</I>&gt;<i> &gt; &gt;&gt; +                                       restricciones |=
</I>&gt;<i> &gt; &gt;&gt; BlDbField::DbNothing;
</I>&gt;<i> &gt; &gt;&gt; +                                   } else if ( trestrict ==
</I>&gt;<i> &quot;DBNOTNULL&quot;
</I>&gt;<i> &gt; &gt;&gt; ) {
</I>&gt;<i> &gt; &gt;&gt; +                                       restricciones |=
</I>&gt;<i> &gt; &gt;&gt; BlDbField::DbNotNull;
</I>&gt;<i> &gt; &gt;&gt; +                                   } else if ( trestrict ==
</I>&gt;<i> &gt; &gt;&gt; &quot;DBPRIMARYKEY&quot; ) {
</I>&gt;<i> &gt; &gt;&gt; +                                       restricciones |=
</I>&gt;<i> &gt; &gt;&gt; BlDbField::DbPrimaryKey;
</I>&gt;<i> &gt; &gt;&gt; +                                   } else if ( trestrict ==
</I>&gt;<i> &quot;DBNOSAVE&quot;
</I>&gt;<i> &gt; &gt;&gt; ) {
</I>&gt;<i> &gt; &gt;&gt; +                                       restricciones |=
</I>&gt;<i> &gt; &gt;&gt; BlDbField::DbNoSave;
</I>&gt;<i> &gt; &gt;&gt; +                                   } else if ( trestrict == &quot;DBAUTO&quot;
</I>&gt;<i> )
</I>&gt;<i> &gt; &gt;&gt; { +                                       restricciones |=
</I>&gt;<i> &gt; &gt;&gt; BlDbField::DbAuto;
</I>&gt;<i> &gt; &gt;&gt; +                                   } else if ( trestrict ==
</I>&gt;<i> &gt; &gt;&gt; &quot;DBDUPPRIMARYKEY&quot; ) {
</I>&gt;<i> &gt; &gt;&gt; +                                       restricciones |=
</I>&gt;<i> &gt; &gt;&gt; BlDbField::DbDupPrimaryKey;
</I>&gt;<i> &gt; &gt;&gt; +                                   } else if ( trestrict ==
</I>&gt;<i> &gt; &gt;&gt; &quot;DBREQUIRED&quot; ) {
</I>&gt;<i> &gt; &gt;&gt; +                                       restricciones |=
</I>&gt;<i> &gt; &gt;&gt; BlDbField::DbRequired;
</I>&gt;<i> &gt; &gt;&gt; +                                   } else if ( trestrict ==
</I>&gt;<i> &quot;DBNOLOAD&quot;
</I>&gt;<i> &gt; &gt;&gt; ) {
</I>&gt;<i> &gt; &gt;&gt; +                                       restricciones |=
</I>&gt;<i> &gt; &gt;&gt; BlDbField::DbNoLoad;
</I>&gt;<i> &gt; &gt;&gt; +                                   } // end if
</I>&gt;<i> &gt; &gt;&gt; +                                   restrict =
</I>&gt;<i> &gt; &gt;&gt; restrict.nextSiblingElement ( &quot;RESTRICTIONSCAMPO&quot; );
</I>&gt;<i> &gt; &gt;&gt; +                               } // end while
</I>&gt;<i> &gt; &gt;&gt; +                               int opciones = ( int )
</I>&gt;<i> &gt; &gt;&gt; BlSubFormHeader::DbNone;
</I>&gt;<i> &gt; &gt;&gt; +                               QDomElement opci =
</I>&gt;<i> &gt; &gt;&gt; header.firstChildElement ( &quot;OPTIONSHEADER&quot; );
</I>&gt;<i> &gt; &gt;&gt; +                               while ( !opci.isNull() ) {
</I>&gt;<i> &gt; &gt;&gt; +                                   QString topci = opci.text();
</I>&gt;<i> &gt; &gt;&gt; +                                   if ( topci == &quot;DBNONE&quot; ) {
</I>&gt;<i> &gt; &gt;&gt; +                                       opciones |=
</I>&gt;<i> &gt; &gt;&gt; BlSubFormHeader::DbNone;
</I>&gt;<i> &gt; &gt;&gt; +                                   } else if ( topci == &quot;DBREADONLY&quot;
</I>&gt;<i> )
</I>&gt;<i> &gt; &gt;&gt; { +                                       opciones |=
</I>&gt;<i> &gt; &gt;&gt; BlSubFormHeader::DbReadOnly;
</I>&gt;<i> &gt; &gt;&gt; +                                   } else if ( topci == &quot;DBHIDEVIEW&quot;
</I>&gt;<i> )
</I>&gt;<i> &gt; &gt;&gt; { +                                       opciones |=
</I>&gt;<i> &gt; &gt;&gt; BlSubFormHeader::DbHideView;
</I>&gt;<i> &gt; &gt;&gt; +                                   } else if ( topci == &quot;DBNOWRITE&quot;
</I>&gt;<i> ) {
</I>&gt;<i> &gt; &gt;&gt; +                                       opciones |=
</I>&gt;<i> &gt; &gt;&gt; BlSubFormHeader::DbNoWrite;
</I>&gt;<i> &gt; &gt;&gt; +                                   } else if ( topci ==
</I>&gt;<i> &quot;DBDISABLEVIEW&quot;
</I>&gt;<i> &gt; &gt;&gt; ) {
</I>&gt;<i> &gt; &gt;&gt; +                                       opciones |=
</I>&gt;<i> &gt; &gt;&gt; BlSubFormHeader::DbDisableView;
</I>&gt;<i> &gt; &gt;&gt; +                                   } // end if
</I>&gt;<i> &gt; &gt;&gt; +                                   opci = opci.nextSiblingElement (
</I>&gt;<i> &gt; &gt;&gt; &quot;OPTIONSHEADER&quot; );
</I>&gt;<i> &gt; &gt;&gt; +                               } // end while
</I>&gt;<i> &gt; &gt;&gt; +                               subform-&gt;addSubFormHeader ( nomheader,
</I>&gt;<i> &gt; &gt;&gt; type, ( BlDbField::DbRestrict ) restricciones, opciones , nompheader
</I>&gt;<i> );
</I>&gt;<i> &gt; &gt;&gt; +                           } // end for
</I>&gt;<i> &gt; &gt;&gt; +                       subform-&gt;setInsert ( allowinsert == &quot;TRUE&quot; );
</I>&gt;<i> &gt; &gt;&gt; +                       subform-&gt;setDelete ( allowdelete == &quot;TRUE&quot; );
</I>&gt;<i> &gt; &gt;&gt; +                       subform-&gt;setSortingEnabled ( setsorting ==
</I>&gt;<i> &gt; &gt;&gt; &quot;TRUE&quot; );
</I>&gt;<i> &gt; &gt;&gt; +                       subform-&gt;inicializar();
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt; +                   } // end if
</I>&gt;<i> &gt; &gt;&gt; +               } // end for
</I>&gt;<i> &gt; &gt;&gt; +       } // end if
</I>&gt;<i> &gt; &gt;&gt; +    } // end for
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;      QDomElement principal = docElem.firstChildElement ( &quot;FICHA&quot; );
</I>&gt;<i> &gt; &gt;&gt;      /// Cogemos la coordenada X
</I>&gt;<i> &gt; &gt;&gt;      QString tablename = principal.firstChildElement ( &quot;TABLENAME&quot;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; ).toElement().text();
</I>&gt;<i> &gt; &gt;&gt; @@ -538,14 +759,12 @@ void BlForm::insertWindow ( QString nom, QObject
</I>&gt;<i> &gt; &gt;&gt; *obj, bool compdup, QString tit
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;      BL_FUNC_DEBUG
</I>&gt;<i> &gt; &gt;&gt;      if ( mainCompany() != NULL ) {
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;          mainCompany() -&gt;insertWindow ( nom, obj, compdup, titulo );
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; -    } // end if
</I>&gt;<i> &gt; &gt;&gt; -
</I>&gt;<i> &gt; &gt;&gt; -    /// De Forma rapida hacemos un tratamiento de los permisos
</I>&gt;<i> &gt; &gt;&gt; -    setDbTableName ( tableName() );
</I>&gt;<i> &gt; &gt;&gt; -    /// Tal vez no es el mejor sitio para hacer la carga de SPECS.
</I>&gt;<i> Pero
</I>&gt;<i> &gt; &gt;&gt; no hay llamada especifica
</I>&gt;<i> &gt; &gt;&gt; -    /// De configuracion por lo que si no es este no es ninguno.
</I>&gt;<i> &gt; &gt;&gt; -    loadSpecs();
</I>&gt;<i> &gt; &gt;&gt; -
</I>&gt;<i> &gt; &gt;&gt; +       /// De Forma rapida hacemos un tratamiento de los permisos
</I>&gt;<i> &gt; &gt;&gt; +       setDbTableName ( tableName() );
</I>&gt;<i> &gt; &gt;&gt; +       /// Tal vez no es el mejor sitio para hacer la carga de SPECS.
</I>&gt;<i> &gt; &gt;&gt; Pero no hay llamada especifica
</I>&gt;<i> &gt; &gt;&gt; +       /// De configuracion por lo que si no es este no es ninguno.
</I>&gt;<i> &gt; &gt;&gt; +       loadSpecs();
</I>&gt;<i> &gt; &gt;&gt; +    } // end if
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;  }
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; @@ -899,6 +1118,56 @@ int BlForm::load ( QString id, bool paint )
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;          /// Activamos documentos adicionales
</I>&gt;<i> &gt; &gt;&gt;          activateDocuments();
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt; +       /// Cargamos los subformularios de specificaciones
</I>&gt;<i> &gt; &gt;&gt; +    /// Cargamos el XML de descripcion de autoforms y lo procesamos.
</I>&gt;<i> &gt; &gt;&gt; +    QFile file ( CONFIG_DIR_CONFIG + objectName() + &quot;_&quot; +
</I>&gt;<i> mainCompany()
</I>&gt;<i> &gt; &gt;&gt; -&gt;dbName() + &quot;_spec.spc&quot;);
</I>&gt;<i> &gt; &gt;&gt; +    QDomDocument doc ( &quot;mydocument&quot; );
</I>&gt;<i> &gt; &gt;&gt; +    if ( !file.open ( QIODevice::ReadOnly ) ) {
</I>&gt;<i> &gt; &gt;&gt; +        return 0;
</I>&gt;<i> &gt; &gt;&gt; +    } // end if
</I>&gt;<i> &gt; &gt;&gt; +    if ( !doc.setContent ( &amp;file ) ) {
</I>&gt;<i> &gt; &gt;&gt; +        file.close();
</I>&gt;<i> &gt; &gt;&gt; +       blMsgInfo(&quot;Error al parsear el archivo de especificaciones&quot;);
</I>&gt;<i> &gt; &gt;&gt; +        return 0;
</I>&gt;<i> &gt; &gt;&gt; +    } // end if
</I>&gt;<i> &gt; &gt;&gt; +    file.close();
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt; +    /// Iteramos para cada AutoForm y lo creamos haciendo todo lo
</I>&gt;<i> &gt; &gt;&gt; necesario para que este funcione.
</I>&gt;<i> &gt; &gt;&gt; +    QDomElement docElem = doc.documentElement();
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt; +    QDomNodeList nodos = docElem.elementsByTagName ( &quot;TAB&quot; );
</I>&gt;<i> &gt; &gt;&gt; +    for ( int i = 0; i &lt; nodos.count(); i++ ) {
</I>&gt;<i> &gt; &gt;&gt; +        QDomNode autoform = nodos.item ( i );
</I>&gt;<i> &gt; &gt;&gt; +        QDomElement e1 = autoform.toElement(); /// try to convert the
</I>&gt;<i> &gt; &gt;&gt; node to an element.
</I>&gt;<i> &gt; &gt;&gt; +        if ( !e1.isNull() ) { /// the node was really an element.
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt; +               /// Cargamos los subformularios
</I>&gt;<i> &gt; &gt;&gt; +               QDomNodeList nodoss = e1.elementsByTagName ( &quot;SUBFORM&quot;
</I>&gt;<i> &gt; &gt;&gt; ); +               for ( int j = 0; j &lt; nodoss.count(); j++ ) {
</I>&gt;<i> &gt; &gt;&gt; +                   QDomNode ventana = nodoss.item ( j );
</I>&gt;<i> &gt; &gt;&gt; +                   QDomElement e1 = ventana.toElement(); /// try to
</I>&gt;<i> &gt; &gt;&gt; convert the node to an element.
</I>&gt;<i> &gt; &gt;&gt; +                   if ( !e1.isNull() ) { /// the node was really an
</I>&gt;<i> &gt; &gt;&gt; element.
</I>&gt;<i> &gt; &gt;&gt; +                       BlDbField::DbType type = BlDbField::DbVarChar;
</I>&gt;<i> &gt; &gt;&gt; +                       QString nomheader = e1.firstChildElement (
</I>&gt;<i> &gt; &gt;&gt; &quot;NOMCAMPO&quot; ).toElement().text();
</I>&gt;<i> &gt; &gt;&gt; +                       BlSubForm * subform = findChild&lt;BlSubForm
</I>&gt;<i> &gt; &gt;&gt; *&gt;(&quot;mui_&quot; + nomheader);
</I>&gt;<i> &gt; &gt;&gt; +                       if (subform) {
</I>&gt;<i> &gt; &gt;&gt; +                          /// Ya tenemos el subformulario presente. Y
</I>&gt;<i> &gt; &gt;&gt; ahora podemos hacer lo que nos plazca.
</I>&gt;<i> &gt; &gt;&gt; +                          QString query = e1.firstChildElement (
</I>&gt;<i> &gt; &gt;&gt; &quot;QUERY&quot; ).toElement().text();
</I>&gt;<i> &gt; &gt;&gt; +                          /// Sustituimos las variables encontradas.
</I>&gt;<i> &gt; &gt;&gt; +                          substrVars(query,0);
</I>&gt;<i> &gt; &gt;&gt; +                          subform-&gt;load(query);
</I>&gt;<i> &gt; &gt;&gt; +                       } // end if
</I>&gt;<i> &gt; &gt;&gt; +                   } // end if
</I>&gt;<i> &gt; &gt;&gt; +               } // end for
</I>&gt;<i> &gt; &gt;&gt; +       } // end if
</I>&gt;<i> &gt; &gt;&gt; +    } // end for
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;          if ( paint == TRUE ) {
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;              pintar();
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;          } // end if
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; @@ -1046,6 +1315,64 @@ int BlForm::afterSave()
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;  {
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;      BL_FUNC_DEBUG
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt; +    /// Guardamos datos de los subformularios de especificaciones
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt; +    /// Cargamos el XML de descripcion de autoforms y lo procesamos.
</I>&gt;<i> &gt; &gt;&gt; +    QFile file (  CONFIG_DIR_CONFIG + objectName() + &quot;_&quot; +
</I>&gt;<i> &gt; &gt;&gt; mainCompany() -&gt;dbName() + &quot;_spec.spc&quot; );
</I>&gt;<i> &gt; &gt;&gt; +    QDomDocument doc ( &quot;mydocument&quot; );
</I>&gt;<i> &gt; &gt;&gt; +    if ( !file.open ( QIODevice::ReadOnly ) ) {
</I>&gt;<i> &gt; &gt;&gt; +        return 0;
</I>&gt;<i> &gt; &gt;&gt; +    } // end if
</I>&gt;<i> &gt; &gt;&gt; +    if ( !doc.setContent ( &amp;file ) ) {
</I>&gt;<i> &gt; &gt;&gt; +        file.close();
</I>&gt;<i> &gt; &gt;&gt; +       blMsgInfo(&quot;Error al parsear el archivo de autoformularios&quot;);
</I>&gt;<i> &gt; &gt;&gt; +        return 0;
</I>&gt;<i> &gt; &gt;&gt; +    } // end if
</I>&gt;<i> &gt; &gt;&gt; +    file.close();
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt; +    /// Iteramos para cada AutoForm y lo creamos haciendo todo lo
</I>&gt;<i> &gt; &gt;&gt; necesario para que este funcione.
</I>&gt;<i> &gt; &gt;&gt; +    QDomElement docElem = doc.documentElement();
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt; +    QDomNodeList nodos = docElem.elementsByTagName ( &quot;AUTOFORM&quot; );
</I>&gt;<i> &gt; &gt;&gt; +    for ( int i = 0; i &lt; nodos.count(); i++ ) {
</I>&gt;<i> &gt; &gt;&gt; +        QDomNode autoform = nodos.item ( i );
</I>&gt;<i> &gt; &gt;&gt; +        QDomElement e1 = autoform.toElement(); /// try to convert the
</I>&gt;<i> &gt; &gt;&gt; node to an element.
</I>&gt;<i> &gt; &gt;&gt; +        if ( !e1.isNull() ) { /// the node was really an element.
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt; +               /// Cargamos los subformularios
</I>&gt;<i> &gt; &gt;&gt; +               QDomNodeList nodoss = e1.elementsByTagName ( &quot;SUBFORM&quot;
</I>&gt;<i> &gt; &gt;&gt; ); +               for ( int j = 0; j &lt; nodoss.count(); j++ ) {
</I>&gt;<i> &gt; &gt;&gt; +                   QDomNode ventana = nodoss.item ( j );
</I>&gt;<i> &gt; &gt;&gt; +                   QDomElement e1 = ventana.toElement(); /// try to
</I>&gt;<i> &gt; &gt;&gt; convert the node to an element.
</I>&gt;<i> &gt; &gt;&gt; +                   if ( !e1.isNull() ) { /// the node was really an
</I>&gt;<i> &gt; &gt;&gt; element.
</I>&gt;<i> &gt; &gt;&gt; +                       BlDbField::DbType type = BlDbField::DbVarChar;
</I>&gt;<i> &gt; &gt;&gt; +                       QString nomheader = e1.firstChildElement (
</I>&gt;<i> &gt; &gt;&gt; &quot;NOMCAMPO&quot; ).toElement().text();
</I>&gt;<i> &gt; &gt;&gt; +                       BlSubForm * subform = findChild&lt;BlSubForm
</I>&gt;<i> &gt; &gt;&gt; *&gt;(&quot;mui_&quot; + nomheader);
</I>&gt;<i> &gt; &gt;&gt; +                       if (subform) {
</I>&gt;<i> &gt; &gt;&gt; +                          /// Ya tenemos el subformulario presente. Y
</I>&gt;<i> &gt; &gt;&gt; ahora podemos hacer lo que nos plazca.
</I>&gt;<i> &gt; &gt;&gt; +                          QString vinculos = e1.firstChildElement (
</I>&gt;<i> &gt; &gt;&gt; &quot;VINCULOS&quot; ).toElement().text();
</I>&gt;<i> &gt; &gt;&gt; +                          /// Sustituimos las variables que informa
</I>&gt;<i> el
</I>&gt;<i> &gt; &gt;&gt; campo
</I>&gt;<i> &gt; &gt;&gt; +                           QStringList listavinculos =
</I>&gt;<i> &gt; &gt;&gt; vinculos.split(&quot;,&quot;);
</I>&gt;<i> &gt; &gt;&gt; +                           for (int j1 = 0; j1 &lt;
</I>&gt;<i> listavinculos.size();
</I>&gt;<i> &gt; &gt;&gt; ++j1) {
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt; +                                 int posicion = listavinculos.at
</I>&gt;<i> &gt; &gt;&gt; (j1).indexOf(&quot;=&quot;);
</I>&gt;<i> &gt; &gt;&gt; +                                 QString campo = listavinculos.at
</I>&gt;<i> &gt; &gt;&gt; (j1).left(posicion);
</I>&gt;<i> &gt; &gt;&gt; +                                 QString valor = listavinculos.at
</I>&gt;<i> &gt; &gt;&gt; (j1).right(listavinculos.at(j1).size() - posicion -1);
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt; +                                 subform-&gt;setColumnValue ( campo,
</I>&gt;<i> &gt; &gt;&gt; dbValue ( valor ) );
</I>&gt;<i> &gt; &gt;&gt; +                           } // end for
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt; +                           subform-&gt;save();
</I>&gt;<i> &gt; &gt;&gt; +                       } // end if
</I>&gt;<i> &gt; &gt;&gt; +                   } // end if
</I>&gt;<i> &gt; &gt;&gt; +               } // end for
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt; +       } // end if
</I>&gt;<i> &gt; &gt;&gt; +    } // end for
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;      return 0;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;  }
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; diff --git a/bulmages/bulmalib/src/blform.h
</I>&gt;<i> &gt; &gt;&gt; b/bulmages/bulmalib/src/blform.h
</I>&gt;<i> &gt; &gt;&gt; index 7bb6971..0a5dfa4 100644
</I>&gt;<i> &gt; &gt;&gt; --- a/bulmages/bulmalib/src/blform.h
</I>&gt;<i> &gt; &gt;&gt; +++ b/bulmages/bulmalib/src/blform.h
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; @@ -46,6 +46,8 @@ private:
</I>&gt;<i> &gt; &gt;&gt;      edmode m_modo;
</I>&gt;<i> &gt; &gt;&gt;      QString m_title;
</I>&gt;<i> &gt; &gt;&gt;      QScriptEngine m_myEngine;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; +    bool m_firstLoad;
</I>&gt;<i> &gt; &gt;&gt; +
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;  protected:
</I>&gt;<i> &gt; &gt;&gt;      void setSelectMode();
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; <A HREF="https://gitorious.org/bulmages">https://gitorious.org/bulmages</A>
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; You are receiving this email because you have chosen to be notified by
</I>&gt;<i> &gt; &gt;&gt; email whenever this favorite has new activity. You can manage your
</I>&gt;<i> &gt; &gt;&gt; favorite subscriptions at <A HREF="https://gitorious.org/favorites">https://gitorious.org/favorites</A>
</I>&gt;<i> &gt; &gt;&gt; _______________________________________________
</I>&gt;<i> &gt; &gt;&gt; Bulmages-main mailing list
</I>&gt;<i> &gt; &gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">Bulmages-main at lists.berlios.de</A>
</I>&gt;<i> &gt; &gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">https://lists.berlios.de/mailman/listinfo/bulmages-main</A>
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt; Bulmages-main mailing list
</I>&gt;<i> &gt; &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">Bulmages-main at lists.berlios.de</A>
</I>&gt;<i> &gt; &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">https://lists.berlios.de/mailman/listinfo/bulmages-main</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Bulmages-main mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">Bulmages-main at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">https://lists.berlios.de/mailman/listinfo/bulmages-main</A>
</I>&gt;<i>
</I>


-- 
Tomeu Borrás
Conetxia Soluciones Informáticas
677 77 44 76
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/bulmages-main/attachments/20130208/7a737ef9/attachment-0001.html">https://lists.berlios.de/pipermail/bulmages-main/attachments/20130208/7a737ef9/attachment-0001.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Mensaje anterior: <A HREF="007525.html">[BulmaGés][Gitorious] Activity: tborras pushed 1 commits to master...
</A></li>
	<LI>Próximo mensaje: <A HREF="007532.html">[BulmaGés] La página wiki 'Repositorio de paquetes Debian' ha sido actualizada
</A></li>
         <LI> <B>Mensajes ordenados por:</B> 
              <a href="date.html#7530">[ fecha ]</a>
              <a href="thread.html#7530">[ hilo ]</a>
              <a href="subject.html#7530">[ asunto ]</a>
              <a href="author.html#7530">[ autor ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bulmages-main">Más información sobre la lista de distribución Bulmages-main </a><br>
</body></html>

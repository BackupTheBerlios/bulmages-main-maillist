<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [BulmaGés]desesperado: No se abren PDF.
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bulmages-main/2008-December/index.html" >
   <LINK REL="made" HREF="mailto:bulmages-main%40lists.berlios.de?Subject=Re%3A%20%3D%3Futf-8%3Fb%3FW0J1bG1hR8Opc10%3D%3F%3D%0A%20%3D%3Fiso-8859-1%3Fq%3Fdesesperado%3D3A_No_se_%3F%3D%20%3D%3Fiso-8859-1%3Fq%3Fabren_PDF%3D2E%3F%3D&In-Reply-To=%3C4957E5AB.6050101%40todo-redes.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <LINK REL="Previous"  HREF="000678.html">
   <LINK REL="Next"  HREF="000685.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[BulmaGés]desesperado: No se abren PDF. </H1>
    <B>Fco. Javier M. C.</B> 
    <A HREF="mailto:bulmages-main%40lists.berlios.de?Subject=Re%3A%20%3D%3Futf-8%3Fb%3FW0J1bG1hR8Opc10%3D%3F%3D%0A%20%3D%3Fiso-8859-1%3Fq%3Fdesesperado%3D3A_No_se_%3F%3D%20%3D%3Fiso-8859-1%3Fq%3Fabren_PDF%3D2E%3F%3D&In-Reply-To=%3C4957E5AB.6050101%40todo-redes.com%3E"
       TITLE="[BulmaGés]desesperado: No se abren PDF.">fcojavmc en todo-redes.com
       </A><BR>
    <I>Dom Dic 28 21:46:35 CET 2008</I>
    <P><UL>
        <LI>Mensaje anterior: <A HREF="000678.html">[BulmaGés]desesperado: No se abren PDF.
</A></li>
        <LI>Próximo mensaje: <A HREF="000685.html">[BulmaGés]desesperado: No se abren PDF.
</A></li>
         <LI> <B>Mensajes ordenados por:</B> 
              <a href="date.html#683">[ fecha ]</a>
              <a href="thread.html#683">[ hilo ]</a>
              <a href="subject.html#683">[ asunto ]</a>
              <a href="author.html#683">[ autor ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hola Albert,

No se si es por python 2.6, que tambien podria ser la causa, pero lo que 
te está diciendo es que no tienes la libreria de carga de imagenes. 
Comprueba que tienes instalados

reportlab 2.2
renderPM (que viene con reportlab)
y la librería PIL

según dice en <A HREF="http://www.reportlab.org/downloads.html">http://www.reportlab.org/downloads.html</A>
&quot;If you want to generate bitmap images, you will also need to obtain 
compiled binaries for renderPM 
&lt;<A HREF="http://www.reportlab.org/downloads.html#renderPM">http://www.reportlab.org/downloads.html#renderPM</A>&gt; and PIL. PIL can be 
obtained from <A HREF="http://www.pythonware.com/.">http://www.pythonware.com/.</A>&quot;

No creo que encuentres paquetes para openSUSE así que tendrás que 
hacerlo a mano.

Un saludo.


Albert Mas escribió:
&gt;<i> Investigando...
</I>&gt;<i> OpenSUSE 11.1 lleva python 2.6
</I>&gt;<i>
</I>&gt;<i> puede venir por aquí el problema?
</I>&gt;<i>
</I>&gt;<i> 2008/12/28 Albert Mas &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">albertmas en termens.cat</A>&gt;:
</I>&gt;<i>   
</I>&gt;&gt;<i> ok, Tomeu.
</I>&gt;&gt;<i> Este es el correcto me parece:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">administrador en 330</A>:~/.bulmages&gt; bgtrml2pdf presupuesto.rml &gt; archivo.pdf
</I>&gt;&gt;<i> /usr/lib64/python2.6/site-packages/reportlab/pdfgen/canvas.py:17:
</I>&gt;&gt;<i> DeprecationWarning: the md5 module is deprecated; use hashlib instead
</I>&gt;&gt;<i>  import md5
</I>&gt;&gt;<i> Processing file: presupuesto.rml
</I>&gt;&gt;<i> /usr/lib64/python2.6/site-packages/reportlab/platypus/doctemplate.py:120:
</I>&gt;&gt;<i> DeprecationWarning: catching of string exceptions is deprecated
</I>&gt;&gt;<i>  except &quot;bogus&quot;:
</I>&gt;&gt;<i> Traceback (most recent call last):
</I>&gt;&gt;<i>  File &quot;/usr/local/bin/bgtrml2pdf&quot;, line 679, in &lt;module&gt;
</I>&gt;&gt;<i>    print parse(sys.argv[1]),
</I>&gt;&gt;<i>  File &quot;/usr/local/bin/bgtrml2pdf&quot;, line 663, in parse
</I>&gt;&gt;<i>    return parseDoc(r,fout)
</I>&gt;&gt;<i>  File &quot;/usr/local/bin/bgtrml2pdf&quot;, line 653, in parseDoc
</I>&gt;&gt;<i>    r.render(fp)
</I>&gt;&gt;<i>  File &quot;/usr/local/bin/bgtrml2pdf&quot;, line 195, in render
</I>&gt;&gt;<i>    pt_obj.render(self.dom.documentElement.getElementsByTagName('story')[0])
</I>&gt;&gt;<i>  File &quot;/usr/local/bin/bgtrml2pdf&quot;, line 643, in render
</I>&gt;&gt;<i>    self.doc_tmpl.build(fis)
</I>&gt;&gt;<i>  File &quot;/usr/lib64/python2.6/site-packages/reportlab/platypus/doctemplate.py&quot;,
</I>&gt;&gt;<i> line 737, in build
</I>&gt;&gt;<i>    self.clean_hanging()
</I>&gt;&gt;<i>  File &quot;/usr/lib64/python2.6/site-packages/reportlab/platypus/doctemplate.py&quot;,
</I>&gt;&gt;<i> line 396, in clean_hanging
</I>&gt;&gt;<i>    self.handle_flowable(self._hanging)
</I>&gt;&gt;<i>  File &quot;/usr/lib64/python2.6/site-packages/reportlab/platypus/doctemplate.py&quot;,
</I>&gt;&gt;<i> line 633, in handle_flowable
</I>&gt;&gt;<i>    f.apply(self)
</I>&gt;&gt;<i>  File &quot;/usr/lib64/python2.6/site-packages/reportlab/platypus/doctemplate.py&quot;,
</I>&gt;&gt;<i> line 114, in apply
</I>&gt;&gt;<i>    getattr(doc,arn)(*args)
</I>&gt;&gt;<i>  File &quot;/usr/lib64/python2.6/site-packages/reportlab/platypus/doctemplate.py&quot;,
</I>&gt;&gt;<i> line 421, in handle_pageBegin
</I>&gt;&gt;<i>    self.pageTemplate.onPage(self.canv,self)
</I>&gt;&gt;<i>  File &quot;/usr/local/bin/bgtrml2pdf&quot;, line 395, in render
</I>&gt;&gt;<i>    cnv.render(self.node)
</I>&gt;&gt;<i>  File &quot;/usr/local/bin/bgtrml2pdf&quot;, line 382, in render
</I>&gt;&gt;<i>    tags[tag](nd)
</I>&gt;&gt;<i>  File &quot;/usr/local/bin/bgtrml2pdf&quot;, line 314, in _image
</I>&gt;&gt;<i>    img = ImageReader(s)
</I>&gt;&gt;<i>  File &quot;/usr/lib64/python2.6/site-packages/reportlab/lib/utils.py&quot;,
</I>&gt;&gt;<i> line 531, in __init__
</I>&gt;&gt;<i>    raise RuntimeError('Imaging Library not available, unable to
</I>&gt;&gt;<i> import bitmaps')
</I>&gt;&gt;<i> RuntimeError: Imaging Library not available, unable to import bitmaps
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">administrador en 330</A>:~/.bulmages&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Gracias!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 2008/12/28 Tomeu Borras &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">tborras en conetxia.com</A>&gt;:
</I>&gt;&gt;<i>     
</I>&gt;&gt;&gt;<i> Hola Albert:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Lo has lanzado en la plantilla. Y tenia que ser en el archivo ya parseado por
</I>&gt;&gt;&gt;<i> bulmages. que se encuentra en ~/.bulmages
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Salut
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> El Sunday 28 December 2008 03:02:07 escribió:
</I>&gt;&gt;&gt;<i>       
</I>&gt;&gt;&gt;&gt;<i> Adjunto el error que me da.... como bien dices a mi no me da ninguna
</I>&gt;&gt;&gt;&gt;<i> pista, haber si a vosotros os la da.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">administrador en 330</A>:~&gt; su
</I>&gt;&gt;&gt;&gt;<i> Password:
</I>&gt;&gt;&gt;&gt;<i> 330:/home/administrador # cd /var/bulmages/openreports/Proves/
</I>&gt;&gt;&gt;&gt;<i> 330:/var/bulmages/openreports/Proves # bgtrml2pdf plantilla.rml &gt;
</I>&gt;&gt;&gt;&gt;<i> archivo.pdf
</I>&gt;&gt;&gt;&gt;<i> /usr/lib64/python2.6/site-packages/reportlab/pdfgen/canvas.py:17:
</I>&gt;&gt;&gt;&gt;<i> DeprecationWarning: the md5 module is deprecated; use hashlib instead
</I>&gt;&gt;&gt;&gt;<i>   import md5
</I>&gt;&gt;&gt;&gt;<i> /usr/lib64/python2.6/site-packages/reportlab/pdfbase/pdfutils.py:44:
</I>&gt;&gt;&gt;&gt;<i> SyntaxWarning: assertion is always true, perhaps remove parentheses?
</I>&gt;&gt;&gt;&gt;<i>   assert(len(raw) == imgwidth * imgheight, &quot;Wrong amount of data for
</I>&gt;&gt;&gt;&gt;<i> image&quot;)
</I>&gt;&gt;&gt;&gt;<i> /usr/lib64/python2.6/site-packages/reportlab/pdfbase/pdfdoc.py:1899:
</I>&gt;&gt;&gt;&gt;<i> SyntaxWarning: assertion is always true, perhaps remove parentheses?
</I>&gt;&gt;&gt;&gt;<i> assert(len(raw) == self.width*self.height, &quot;Wrong amount of data for
</I>&gt;&gt;&gt;&gt;<i> image&quot;) Processing file: plantilla.rml
</I>&gt;&gt;&gt;&gt;<i> Traceback (most recent call last):
</I>&gt;&gt;&gt;&gt;<i>   File &quot;/usr/local/bin/bgtrml2pdf&quot;, line 679, in &lt;module&gt;
</I>&gt;&gt;&gt;&gt;<i>     print parse(sys.argv[1]),
</I>&gt;&gt;&gt;&gt;<i>   File &quot;/usr/local/bin/bgtrml2pdf&quot;, line 663, in parse
</I>&gt;&gt;&gt;&gt;<i>     return parseDoc(r,fout)
</I>&gt;&gt;&gt;&gt;<i>   File &quot;/usr/local/bin/bgtrml2pdf&quot;, line 653, in parseDoc
</I>&gt;&gt;&gt;&gt;<i>     r.render(fp)
</I>&gt;&gt;&gt;&gt;<i>   File &quot;/usr/local/bin/bgtrml2pdf&quot;, line 198, in render
</I>&gt;&gt;&gt;&gt;<i>     pd = self.dom.documentElement.getElementsByTagName('pageDrawing')[0]
</I>&gt;&gt;&gt;&gt;<i> IndexError: list index out of range
</I>&gt;&gt;&gt;&gt;<i> 330:/var/bulmages/openreports/Proves #
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Moltes gràcies!
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> 2008/12/27 Tomeu Borras &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">tborras en conetxia.com</A>&gt;:
</I>&gt;&gt;&gt;&gt;<i>         
</I>&gt;&gt;&gt;&gt;&gt;<i> No es sencillote, pero si hay una forma de ver que pasa.
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> Con la consola ves a la home del usuario y entra dentro del
</I>&gt;&gt;&gt;&gt;&gt;<i> directorio .bulmages
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> Allí encontrarás todos los RML generados por el programa (con la
</I>&gt;&gt;&gt;&gt;&gt;<i> sustitución de metatags ya hecha).
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> Puedes intentar generar el PDF a partir de estos RML con el siguiente
</I>&gt;&gt;&gt;&gt;&gt;<i> comando
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> $bgtrml2pdf archivo.rml &gt; archivo.pdf
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> Al fallar te dará un mensaje que seguramente no te ayude en nada. Pero es
</I>&gt;&gt;&gt;&gt;&gt;<i> un punto de partida. Siempre puedes mandar (comprueba antes que no haya
</I>&gt;&gt;&gt;&gt;&gt;<i> datos comprometidos) el RML y el error y lo probamos.
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> Salut
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> El Saturday 27 December 2008 13:29:12 Albert Mas escribió:
</I>&gt;&gt;&gt;&gt;&gt;<i>           
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> Estoy super contento con Bulmages, y ya lo tengo todo preparado para
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> empezar a trabajar a partir del dia 1 con el programa en las 6
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> empresas que pongo a prueba este año.
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> Solo tengo un problema que me tiene desesperado, y es el tema de los
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> PDF que no se generan.
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> Cojo la carpeta openreports, la copio en otro lugar, modifico el
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> fichero bulmafact_empresa.conf y le digo dónde estan los reports.
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> Empiezo a editar el fichero plantilla.rml
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> - cambio el logo...
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> - cambio tipo de letra...
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> - borro lo de borrador...
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> todo va funcionando bien, pero llega un momento en que dejan de
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> imprimirse los pdf.
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> voy hechando para atras los cambios pero ya no hay forma...
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> no hay forma de saber que esta fallando?
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> Porque incluso he desinstalado el prorgmaa, he vuelto a comenzar, he
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> vuelto a copiar la carpeta reports.... y nada.
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> Ya empiezo a pensar que es un fallo general, porque me sucede en lso
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> dos servidores.
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> Gracias por vuestro tiempo.
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> P.D. Alguien sabe como esta el tema de los acentos... se podrá pronto?
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>             
</I>&gt;&gt;&gt;&gt;&gt;<i> --
</I>&gt;&gt;&gt;&gt;&gt;<i> Tomeu Borrás Riera
</I>&gt;&gt;&gt;&gt;&gt;<i> Conetxia Soluciones Informáticas
</I>&gt;&gt;&gt;&gt;&gt;<i> 902 88 11 66
</I>&gt;&gt;&gt;&gt;&gt;<i> 971 29 06 29
</I>&gt;&gt;&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;&gt;&gt;<i> Bulmages-main mailing list
</I>&gt;&gt;&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">Bulmages-main en lists.berlios.de</A>
</I>&gt;&gt;&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">https://lists.berlios.de/mailman/listinfo/bulmages-main</A>
</I>&gt;&gt;&gt;&gt;&gt;<i>           
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> --
</I>&gt;&gt;&gt;<i> Tomeu Borrás Riera
</I>&gt;&gt;&gt;<i> Conetxia Soluciones Informáticas
</I>&gt;&gt;&gt;<i> 902 88 11 66
</I>&gt;&gt;&gt;<i> 971 29 06 29
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i> Bulmages-main mailing list
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">Bulmages-main en lists.berlios.de</A>
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">https://lists.berlios.de/mailman/listinfo/bulmages-main</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>       
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> __________________
</I>&gt;&gt;<i> Albert Mas
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">albertmas en termens.cat</A>
</I>&gt;&gt;<i> blog: <A HREF="http://www.turkil.net">http://www.turkil.net</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>   
</I>

-- 
Fco. Javier M. C.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Mensaje anterior: <A HREF="000678.html">[BulmaGés]desesperado: No se abren PDF.
</A></li>
	<LI>Próximo mensaje: <A HREF="000685.html">[BulmaGés]desesperado: No se abren PDF.
</A></li>
         <LI> <B>Mensajes ordenados por:</B> 
              <a href="date.html#683">[ fecha ]</a>
              <a href="thread.html#683">[ hilo ]</a>
              <a href="subject.html#683">[ asunto ]</a>
              <a href="author.html#683">[ autor ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bulmages-main">Más información sobre la lista de distribución Bulmages-main </a><br>
</body></html>

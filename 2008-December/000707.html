<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [BulmaGés][BulmaGÃ©s]r2873 - in trunk/bulmages/bulmafact: plugin  s plugins/plugin _tc_articulos plugins/plugincompraventa plugins/plugin  etiquetado plugins/pluginfacturaprov plugins/pluginimpresionesmultiples plugins/pluginivainc plugins/pluginmail plugins/pl
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bulmages-main/2008-December/index.html" >
   <LINK REL="made" HREF="mailto:bulmages-main%40lists.berlios.de?Subject=Re%3A%20%3D%3Futf-8%3Fb%3FW0J1bG1hR8Opc10%3D%3F%3D%0A%20%3D%3Fiso-8859-1%3Fq%3F%3D5BBulmaG%3DC3%3DA9s%3D5Dr2%3F%3D%0A%20%3D%3Fiso-8859-1%3Fq%3F873_-_in_trunk/bulmages/bulmafact%3D3A_plugin__s_plugins/plu%3F%3D%0A%20%3D%3Fiso-8859-1%3Fq%3Fgin_%3D5Ftc%3D5Farticulos_plugins/plugincompraventa_plugins/pl%3F%3D%0A%20%3D%3Fiso-8859-1%3Fq%3Fugin__etiquetado_plugins/pluginfacturaprov_plugins/plugini%3F%3D%0A%20%3D%3Fiso-8859-1%3Fq%3Fmpresionesmultiples_plugins/pluginivainc_plugins/pluginmai%3F%3D%0A%20%3D%3Fiso-8859-1%3Fq%3Fl_plugins/pl%3F%3D&In-Reply-To=%3C200812292257.18539.tborras%40conetxia.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <LINK REL="Previous"  HREF="000705.html">
   <LINK REL="Next"  HREF="000708.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[BulmaGés][BulmaGÃ©s]r2873 - in trunk/bulmages/bulmafact: plugin  s plugins/plugin _tc_articulos plugins/plugincompraventa plugins/plugin  etiquetado plugins/pluginfacturaprov plugins/pluginimpresionesmultiples plugins/pluginivainc plugins/pluginmail plugins/pl </H1>
    <B>Tomeu Borras</B> 
    <A HREF="mailto:bulmages-main%40lists.berlios.de?Subject=Re%3A%20%3D%3Futf-8%3Fb%3FW0J1bG1hR8Opc10%3D%3F%3D%0A%20%3D%3Fiso-8859-1%3Fq%3F%3D5BBulmaG%3DC3%3DA9s%3D5Dr2%3F%3D%0A%20%3D%3Fiso-8859-1%3Fq%3F873_-_in_trunk/bulmages/bulmafact%3D3A_plugin__s_plugins/plu%3F%3D%0A%20%3D%3Fiso-8859-1%3Fq%3Fgin_%3D5Ftc%3D5Farticulos_plugins/plugincompraventa_plugins/pl%3F%3D%0A%20%3D%3Fiso-8859-1%3Fq%3Fugin__etiquetado_plugins/pluginfacturaprov_plugins/plugini%3F%3D%0A%20%3D%3Fiso-8859-1%3Fq%3Fmpresionesmultiples_plugins/pluginivainc_plugins/pluginmai%3F%3D%0A%20%3D%3Fiso-8859-1%3Fq%3Fl_plugins/pl%3F%3D&In-Reply-To=%3C200812292257.18539.tborras%40conetxia.com%3E"
       TITLE="[BulmaGés][BulmaGÃ©s]r2873 - in trunk/bulmages/bulmafact: plugin  s plugins/plugin _tc_articulos plugins/plugincompraventa plugins/plugin  etiquetado plugins/pluginfacturaprov plugins/pluginimpresionesmultiples plugins/pluginivainc plugins/pluginmail plugins/pl">tborras en conetxia.com
       </A><BR>
    <I>Lun Dic 29 22:57:18 CET 2008</I>
    <P><UL>
        <LI>Mensaje anterior: <A HREF="000705.html">[BulmaGés][BulmaGÃ©s]r2873 - in trunk/bulmages/bulmafact: plugin  s plugins/plugin _tc_articulos plugins/plugincompraventa plugins/plugin  etiquetado plugins/pluginfacturaprov plugins/pluginimpresionesmultiples plugins/pluginivainc plugins/pluginmail	plugins/pl
</A></li>
        <LI>Próximo mensaje: <A HREF="000708.html">[BulmaGés][BulmaGÃ©s]r2873 - in trunk/bulmages/bulmafact: plugin  s plugins/plugin _tc_articulos plugins/plugincompraventa plugins/plugin  etiquetado plugins/pluginfacturaprov plugins/pluginimpresionesmultiples plugins/pluginivainc plugins/pluginmail	plugins/pl
</A></li>
         <LI> <B>Mensajes ordenados por:</B> 
              <a href="date.html#707">[ fecha ]</a>
              <a href="thread.html#707">[ hilo ]</a>
              <a href="subject.html#707">[ asunto ]</a>
              <a href="author.html#707">[ autor ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hola Xavi

Postejo també a la llista perque ho trobo molt interessant i tal volta algú te 
quelcom a afegir al tema. Espero que no  et molesti.

El Monday 29 December 2008 15:01:52 escribió:
&gt;<i> On Sat, Dec 27, 2008 at 08:03:56PM +0100, Tomeu Borras wrote:
</I>&gt;<i> &gt; Hola
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; A mi también me costó un poco decidirme por esta via y tampoco se muy
</I>&gt;<i> &gt; bien hasta donde podremos llegar. De momento esta resultando muy sencillo
</I>&gt;<i> &gt; sacar cosas fuera y parece que se podrá sacar todo (y ese es mi
</I>&gt;<i> &gt; objetivo):
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Y sobre si es bueno o no:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; 	1.- Malo no es ya que no perdemos ninguna, y repito &quot;absolutamente
</I>&gt;<i> &gt; ninguna&quot; funcionalidad y el core queda bastante reducido y más manejable.
</I>&gt;<i>
</I>&gt;<i> Ok, no perdem funcionalitat, però el core no es fa més manejable per tenir
</I>&gt;<i> menys funcionalitat. La funcionalitat dels plugins ha de funcionar amb el
</I>&gt;<i> core, i per tant el core ho ha de suportar. Si treus funcionalitat del
</I>&gt;<i> core, pots canviar coses al core més facilment sense trencar el core, però
</I>&gt;<i> si tocant el core trenques plguins perquè has posat allà la funcionalitat
</I>&gt;<i> les coses no se't fan més manejables, sinó igual de manejables o menys.
</I>&gt;<i>
</I>Jo creq que si que es fa mes manejable i comprensible.
Per exemple la clase company perd la major part dels includes i també totes 
les variables de clase de les pantalles de llistats. Queda molt mes reduida i 
per altre banda la major part de cridades a les clases de implementació 
quedan dintre del propi plugin.
Amb això vull dir que només trobaràs PedidoProveedor *ped = new 
PedidoProveedor ( ...) dintre del propi plugin amb lo que es molt mes sencill 
fer el seguiment de tot el que es refereix a comandes de proveïdor i entendre 
tot el que modifica.
La depuració també se simplifica perque pots aillar el core amb un plugin i 
treballar només amb aquets dos components. I en cas de problemes de un plugin 
amb un altre  no veig que sigui mes complicat que tenint-ho tot al core.


&gt;<i> Treure codi d'un lloc i posar-lo
</I>&gt;<i> a un altre no és treure codi. La manera bona de treure codi (i més difícil)
</I>&gt;<i> és veure quin codi hi ha duplicat o que se'n pot abstreure una part comuna
</I>&gt;<i> i tenir-lo en un sol lloc, no canviar el codi de lloc.
</I>&gt;<i>
</I>Aquesta també es una gran millora. El que no veig es que sigui incompatible 
amb un sistema modular com el que cercam.

&gt;<i> De fet la impressió així d'acabat d'arribar que tinc
</I>&gt;<i> és que els plugins són molt fràqils. N'hi ha alguns que no em funcionen no
</I>&gt;<i> sé ben bé perquè, algun que he modificat s'ha trencat 3 vegades en un mes
</I>&gt;<i> amb els canvis al core (canvis anteriors a trure cobros i factures de
</I>&gt;<i> proveïdors). No és res de l'altre món a un HEAD de svn, però el que vull
</I>&gt;<i> dir és que tenir el codi en un plugin no facilita res. Sobretot si son
</I>&gt;<i> plugin que no son gaire opcionals.
</I>&gt;<i>
</I>No son fràgils. El que si tenen es unes normes noves a aplicar (i que no les 
esteim complint al 100%) Per exemple no duplicar noms de clase entre plugins 
perque  compila bé però es una font de errors.

&gt;<i> La única diferència que veig en tenir-ho en un plugin és que
</I>&gt;<i> alguns usuaris poden no instal·lar-s'ho. Llavors ho decidiria només per la
</I>&gt;<i> funcionalitat. Si té sentit que algun usuari no la vugui i el programa pot
</I>&gt;<i> funcionar coherentment sense, doncs pot anar en un plugin, però si no, va
</I>&gt;<i> al core.
</I>&gt;<i>
</I>&gt;<i> Tenir el mateix codi en un directori o un altre, de cara als
</I>&gt;<i> desenvolupadors no aprota gaire. Si està en un plugin és una mica més
</I>&gt;<i> difícil d'integrar, o d'aprofitar parts comunes amb altres plugins perquè
</I>&gt;<i> no saps si te'ls instal·laran tots dos... I la comunicació entre core i
</I>&gt;<i> plugins es fa només per programació estructurada no per orientació a
</I>&gt;<i> objectes, de manera que és més pobra.
</I>
Una mica pobra si que es. El avantatge es que també es molt simple.
Vaig pensar de fer una integració basada en objectes però llavors la qüantitat 
de codi necesaria per integrar plugin amb core s'hem disparava. I no era 
gaire convenient si el que vols es fer molts de plugins.

&gt;<i>
</I>&gt;<i> &gt; 	2.- Ganamos la funcionalidad de poder elegir si poner elementos o no en
</I>&gt;<i> &gt; el programa. Con lo que ganamos mucho en la personalización y adaptación
</I>&gt;<i> &gt; a cada modelo de negocio.
</I>&gt;<i>
</I>&gt;<i> Això sí. Això està bé. Per això caldria treure el que raonablement pugui
</I>&gt;<i> molestar a segons quins usuaris. Però si acabem trient-ho tot llavors serà
</I>&gt;<i> molt díficil mantenir una certa coherència. Va bé que el programa sempre
</I>&gt;<i> faci una mica un mínim i llavors tingui pluguins per casos més especials. 
</I>&gt;<i> Vaja, decidir per funcionalitat.
</I>El gran problema es que m'ho he topat de cara.
Hem de fer una adaptació per una gestió escolar on els clients deixen de esser 
clients, els articles deixen de esser articles i la part de proveïdors queda 
igual.
I, com no, tinc casos on la gestió de proveïdors no interessa en absolut.
Vaig pensar de fer un plugin que se dediques a amagar coses del core perque no 
se mostrasin. Pero em va semblar tant barruer que ho vaig descartar.

Tenim unes bones clases comunes (listado, subform3, ficha, empresabase etc) 
que han de creixer i han de minimitzar la quantitat de codi a la resta de 
subclases i tot ha de evolucionar cap a una bona estructura orientada a 
objectes. Però al mateix temps hem de emplear modularitat per aconseguir 
esser multiproposit. No es sencill però es la única opció que tenim per fer 
un bon software que sigui prou atractiu a quants més desenvolupadors millor. 

&gt;<i>
</I>&gt;<i> Clar. Però si les treu llavors el procés de compres i el de vendes
</I>&gt;<i> serà menys coherent. Entenc que inventaris, o comercials, o contractes
</I>&gt;<i> siguin plugins, perquè no tots els negocis en necessiten, però
</I>&gt;<i> factures de proveïdors n'hi ha a tots els negocis, les entrin al
</I>&gt;<i> programa o no. I si algú les treu del programa potser a la llarga
</I>&gt;<i> tingui més problemes quan vulgui incorporar comptabilitat o alguna
</I>&gt;<i> cosa. Tal com estava diria que no molestaven molt si no les volies fer
</I>&gt;<i> servir, però animava a fer-les servir.
</I>&gt;<i>
</I>Hi ha que m'ha dit que no volia comandes a proveïdors.
Hi ha qui només voldría anar de pressuposts a factures sense haver de pasar 
per comandes i albarans. Creq que hem de deixar a cada un establir quin es el 
model de negoci que vol seguir i que pugui aplicar-lo.

&gt;<i> De totes maneres, potser seria qüestió d'estudiar millor quins casos d'ús
</I>&gt;<i> hi ha, i potser resuta que sí que molesten i és millor posar-les com a
</I>&gt;<i> plugin. D'entrada sobta, perquè el concepte que tenen al darrera sembla
</I>&gt;<i> difícil de que no existeixi en una empresa.
</I>&gt;<i>
</I>

&gt;<i> &gt; 	Alguien que quiera que solo el usuario X vea las facturas de proveedor
</I>&gt;<i> &gt; sólo tiene que activarle el plugin al usuario X y los demás usuarios no
</I>&gt;<i> &gt; tienen ni que saber que esa funcionalidad existe y no tienen un programa
</I>&gt;<i> &gt; complicado en exceso. Y me da a mi que necesitaremos hacer uso de esta
</I>&gt;<i> &gt; característica por la complejidad que van cogiendo cada uno de los
</I>&gt;<i> &gt; componentes. (que si el contable quiere ver los asientos generados por la
</I>&gt;<i> &gt; factura tal, que si quiere pasar la factura de un sitio a otro, que si
</I>&gt;<i> &gt; los informes personalizados van a ser un montón, etc etc etc) Al final es
</I>&gt;<i> &gt; mejor que no tengamos un mamotreto gigantesco al que no de ganas mirar de
</I>&gt;<i> &gt; frente.
</I>&gt;<i>
</I>&gt;<i> Vols dir des del punt de vista de l'usuari o del desenvolupador?. El
</I>&gt;<i> desenvolupador tindrà el mamotreto igual repartit en més plugins que
</I>&gt;<i> no és evident com interaccionen, i haurà de preveure més casos (totes
</I>&gt;<i> les combinacions de plugins possibles). L'usuari potser ho vegi més
</I>&gt;<i> fàcil, però l'assimetria entre vendes i compres també pot confondre.
</I>&gt;<i> De fet el que aconseguim multiplicant els plugins és fecilitar que
</I>&gt;<i> un desenvolupador se centri només amb els que necessiti i &quot;trenqui&quot;
</I>&gt;<i> els altres amb els seus canvis. Això pot passar amb plugins o sense,
</I>&gt;<i> però sembla més fàcil de controlar amb pocs plugins que amb molts.
</I>&gt;<i>
</I>&gt;<i> Pel que fa a seguretat no estic segur que n'hi hagi prou que un usuari
</I>&gt;<i> no tingui un plugin configurat perquè no sàpiga que la funcionalitat
</I>&gt;<i> existeix. Si no ha de tenir accès a les dades el millor seria
</I>&gt;<i> prohibir-li a la BD, perquè és molt fàcil obrir la BD en OpenOffice o
</I>&gt;<i> on sigui i trobar-se totes les dades que l'administrador es pensava
</I>&gt;<i> que havia amagat per no posar un plugin. I la configuració de plugins
</I>&gt;<i> és accessible a cada usuari, en última instància l'usuari es pot
</I>&gt;<i> instal·lar un bulmages o un pgadmin al seu home per accedir al que
</I>&gt;<i> vulgui. Llavors el millor és animar a posar la seguretat al sistema de
</I>&gt;<i> fitxers i la bd, prop de les dades.
</I>&gt;<i>
</I>&gt;<i> Quan les restriccions són més complicades (per exemple si ha de veure
</I>&gt;<i> factures dels últims 3 mesos però no anteriors) llavors potser es
</I>&gt;<i> poden posar al programa, però ficar-ho com a plugins gairebé
</I>&gt;<i> garantitza que s'ho puguin saltar configurant-se el plugin que els
</I>&gt;<i> falta. Encara si està al core s'han de prendre la molèstia
</I>&gt;<i> d'instal·lar un altre bulmages o accedir a postgres a mà, però si
</I>&gt;<i> només depen de quin plugin tinguis, només has de tocar el ~/.bulmages
</I>&gt;<i> (si no t'han tret els permisos, però i te'ls treuen no pots imprimir,
</I>&gt;<i> ni fer gran cosa).
</I>&gt;<i>
</I>&gt;<i> Jo veuria més lògic tenir un sitema de permisos per a cada
</I>&gt;<i> funcionalitat que fossin configurables, però que els avalués el core
</I>&gt;<i> (o si de cas que el core cridés a un plugin, però veig més normal un
</I>&gt;<i> plugin per seguretat que una combinació de plugins que sigui la
</I>&gt;<i> combinació que defineixi la seguretat, perquè a vegades no és tan
</I>&gt;<i> fàcil com plugin si o plugin no, sinó que un usuari potser ha de poder
</I>&gt;<i> entrar factures però no consultar històric, etc.)
</I>&gt;<i>
</I>&gt;<i> Però prescindint de seguretat, només mirant de tenir un programa més
</I>&gt;<i> senzill per alguns usuaris que per altres, em sembla bé. Però és
</I>&gt;<i> tornar una mica al que deiem de que l'únic criteri és la
</I>&gt;<i> funcionalitat. Si el programa té sentit sense una funcionalitat, doncs
</I>&gt;<i> que sigui un plugin, si no té sentit, doncs que no ho sigui.
</I>&gt;<i>
</I>No home. El tenir un sistema de plugins per posar o llevar coses no exclou una 
bona administració dels permisos a la base de dades.
Com sempre la seguretat esta per sota de la aplicació. Precisament per això 
tenim la administració de permisos a la base de dades. De fet jo consider que 
només es segur si la base de dades no ho permet fer. El cas que comentes de 
només veurer les factures dels tres darrers mesos només es viable mitjançant 
una vista i amb permisos sobre la vista. No se pot fer al programa.


&gt;<i> &gt; 	En cuanto a lo de un único plugin de proveedores yo pienso que no. Que
</I>&gt;<i> &gt; los plugins deben ser lo más reducidos posible para combinarlos cuanto
</I>&gt;<i> &gt; más mejor y obtener versiones más ajustables. Lo que si quiero hacer es
</I>&gt;<i> &gt; en el bulmasetup poner metaplugins que instalen varios plugins a la vez
</I>&gt;<i> &gt; con el fin de llegar a hacer el metaplugin de carnicas, el metaplugin de
</I>&gt;<i> &gt; papelerias, el metaplugin de cada tipo de negocio.
</I>&gt;<i>
</I>&gt;<i> Això dels metaplugins pot estar bé. Com més plugins més reduïts més
</I>&gt;<i> combinacions possibles. Això té avantatges, però és més complexe de
</I>&gt;<i> gestionar (per desenvolupar, instal·lar, etc.). Per tant només ho faria
</I>&gt;<i> quan aporti algun avantatge clar.
</I>&gt;<i>
</I>També ho podem plantejar al inrevés. Si algú vol implementar una funcionalitat 
nova la pot fer en forma de plugin i quan estigui madura i demostrat la seva 
importancia llavors es pot traslladar al core. Es una garantia de cara als 
desenvolupadors novells.

I també com a opció per mantenir codi experimental resulta molt atractiu. Molt 
mes útil que tirar de una branca de svn.

Reconec que a mi també me fa por. L'únic que puc dir al respecte es:
 Anem a provar-ho i si no ens agrada el resultat donem mitja volta.


Salut


-- 
Tomeu Borrás Riera
Conetxia Soluciones Informáticas
902 88 11 66
971 29 06 29

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Mensaje anterior: <A HREF="000705.html">[BulmaGés][BulmaGÃ©s]r2873 - in trunk/bulmages/bulmafact: plugin  s plugins/plugin _tc_articulos plugins/plugincompraventa plugins/plugin  etiquetado plugins/pluginfacturaprov plugins/pluginimpresionesmultiples plugins/pluginivainc plugins/pluginmail	plugins/pl
</A></li>
	<LI>Próximo mensaje: <A HREF="000708.html">[BulmaGés][BulmaGÃ©s]r2873 - in trunk/bulmages/bulmafact: plugin  s plugins/plugin _tc_articulos plugins/plugincompraventa plugins/plugin  etiquetado plugins/pluginfacturaprov plugins/pluginimpresionesmultiples plugins/pluginivainc plugins/pluginmail	plugins/pl
</A></li>
         <LI> <B>Mensajes ordenados por:</B> 
              <a href="date.html#707">[ fecha ]</a>
              <a href="thread.html#707">[ hilo ]</a>
              <a href="subject.html#707">[ asunto ]</a>
              <a href="author.html#707">[ autor ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bulmages-main">Más información sobre la lista de distribución Bulmages-main </a><br>
</body></html>

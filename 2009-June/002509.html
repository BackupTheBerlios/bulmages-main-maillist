<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [BulmaGés]r3527 - in trunk/bulmages/bulmafact: plugins/pluginbf_alias	plugins/pluginbf_articulo src
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bulmages-main/2009-June/index.html" >
   <LINK REL="made" HREF="mailto:bulmages-main%40lists.berlios.de?Subject=Re%3A%20%3D%3Futf-8%3Fb%3FW0J1bG1hR8Opc10%3D%3F%3D%0A%20%3D%3Fiso-8859-1%3Fq%3Fr3527_-_in_trunk/bulm%3F%3D%0A%20%3D%3Fiso-8859-1%3Fq%3Fages/bulmafact%3D3A_plugins/pluginbf%3D5Falias%3D09plugins/plugi%3F%3D%0A%20%3D%3Fiso-8859-1%3Fq%3Fnbf%3D5Farticulo_src%3F%3D&In-Reply-To=%3C200906242130.52277.tborras%40conetxia.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <LINK REL="Previous"  HREF="002508.html">
   <LINK REL="Next"  HREF="002510.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[BulmaGés]r3527 - in trunk/bulmages/bulmafact: plugins/pluginbf_alias	plugins/pluginbf_articulo src </H1>
    <B>Tomeu Borras</B> 
    <A HREF="mailto:bulmages-main%40lists.berlios.de?Subject=Re%3A%20%3D%3Futf-8%3Fb%3FW0J1bG1hR8Opc10%3D%3F%3D%0A%20%3D%3Fiso-8859-1%3Fq%3Fr3527_-_in_trunk/bulm%3F%3D%0A%20%3D%3Fiso-8859-1%3Fq%3Fages/bulmafact%3D3A_plugins/pluginbf%3D5Falias%3D09plugins/plugi%3F%3D%0A%20%3D%3Fiso-8859-1%3Fq%3Fnbf%3D5Farticulo_src%3F%3D&In-Reply-To=%3C200906242130.52277.tborras%40conetxia.com%3E"
       TITLE="[BulmaGés]r3527 - in trunk/bulmages/bulmafact: plugins/pluginbf_alias	plugins/pluginbf_articulo src">tborras en conetxia.com
       </A><BR>
    <I>Mie Jun 24 21:30:52 CEST 2009</I>
    <P><UL>
        <LI>Mensaje anterior: <A HREF="002508.html">[BulmaGés]r3527 - in trunk/bulmages/bulmafact: plugins/pluginbf_alias	plugins/pluginbf_articulo src
</A></li>
        <LI>Próximo mensaje: <A HREF="002510.html">[BulmaGés] r3528 -	trunk/bulmages/bulmafact/plugins/pluginbf_actividad/openreports
</A></li>
         <LI> <B>Mensajes ordenados por:</B> 
              <a href="date.html#2509">[ fecha ]</a>
              <a href="thread.html#2509">[ hilo ]</a>
              <a href="subject.html#2509">[ asunto ]</a>
              <a href="author.html#2509">[ autor ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Només era una esborrany de funcionament. Tens rao en tot el que comentes. 
Sobretot en lo de escapar la entrada del usuari que es un vici que tinc (no 
tenir-lo en compte) que he de corregir.

Lo de posibleAlias ho tenia posat pero l'he llevat perque pensava que no anava 
i després ha estat una altre cosa. I no l'he tornat a posar.

Enfi, que tot teu per fer els canvis que et pareguin oportuns.

PD: A mi tampoc m'agrada el g_editor (no mola gens ni mica) pero com dius no 
he trobat altre forma de accedir al editor.

Salut

El Wednesday 24 June 2009 21:22:57 Xavi Drudis Ferran escribió:
&gt;<i> On Wed, Jun 24, 2009 at 07:28:44PM +0200, <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">svn en mail.berlios.de</A> wrote:
</I>&gt;<i> &gt; Author: tborras
</I>&gt;<i> &gt; Date: 2009-06-24 19:28:37 +0200 (dc, 24 jun 2009)
</I>&gt;<i> &gt; New Revision: 3527
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Modified:
</I>&gt;<i> &gt;    trunk/bulmages/bulmafact/plugins/pluginbf_alias/pluginbf_alias.cpp
</I>&gt;<i> &gt;    trunk/bulmages/bulmafact/plugins/pluginbf_alias/pluginbf_alias.h
</I>&gt;<i> &gt;   
</I>&gt;<i> &gt; trunk/bulmages/bulmafact/plugins/pluginbf_articulo/pluginbf_articulo.cpp
</I>&gt;<i> &gt; trunk/bulmages/bulmafact/plugins/pluginbf_articulo/pluginbf_articulo.h
</I>&gt;<i> &gt; trunk/bulmages/bulmafact/src/bfbuscararticulo.cpp
</I>&gt;<i> &gt;    trunk/bulmages/bulmafact/src/bfbuscararticulo.h
</I>&gt;<i> &gt;    trunk/bulmages/bulmafact/src/bfsubform.cpp
</I>&gt;<i> &gt; Log:
</I>&gt;<i> &gt; Pongo la edicion de articulos y de paso arreglo el bug de cuelgue al
</I>&gt;<i> &gt; pulsar sobre el desplegable. Tambien cambio el plugin_alias para que los
</I>&gt;<i> &gt; alias se integren dentro del buscador en caso de estar puestos. Espero
</I>&gt;<i> &gt; vuestra opinion
</I>&gt;<i>
</I>&gt;<i> La idea em sembla bé. I la velocitat en implementar-la em flipa.
</I>&gt;<i>
</I>&gt;<i> L'única cosa que em fa una mica de por, però no veig que trenqui res
</I>&gt;<i> concret és que es faci servir g_editor per accedir a l'editor. Em fa
</I>&gt;<i> l'efecte que algun dia les Qt cridaran un createEditor quan no ens ho
</I>&gt;<i> esperem i la variable global quedarà apuntant a un editor que no és el
</I>&gt;<i> que esperem. Però no vaig trobar cap manera de saber quin editor
</I>&gt;<i> estava actiu preguntant-ho directament a un objecte.
</I>&gt;<i>
</I>&gt;<i> D'altra banda estaria bé escapar sempre l'entrada de l'usuari abans de
</I>&gt;<i> posar-la a l'SQL, o fer servir la versió amb paràmetres de loadQuery
</I>&gt;<i> (que crec que no la fa servir ningú a part de jo que la vaig fer,
</I>&gt;<i> sospito que no vaig encertar la interfície). Encara que un pugui
</I>&gt;<i> pensar que els codis d'articles o alias no tindran apòstrofs, no se
</I>&gt;<i> sap mai, i que no tinguin apòstrofs no vol dir que un usuari no pugui
</I>&gt;<i> entrar un apòstrof (per exemple per equivocació quan volia picar un
</I>&gt;<i> 0). I no cal que peti per error de sintaxi a l'SQL, no?.  Ara ho
</I>&gt;<i> canviaré.
</I>&gt;<i>
</I>&gt;<i> Hi ha una cosa que sembla diferent al funcionament dels àlies. Abans
</I>&gt;<i> si no entraves un alies exacte no et trobava res, i només afegia un
</I>&gt;<i> article (o cap) que coincidís amb l'alies. Ara no distingeix
</I>&gt;<i> majúscules i afegeix qualsevol article que contingui el text entrat a
</I>&gt;<i> algun dels seus alias. No sé si és que se m'escapen casos d'us, però
</I>&gt;<i> per als codis de barres això no cal, i per a altres usos potser pot
</I>&gt;<i> arribar a despistar, no sé. En qualsevol cas enlenteix molt les coses
</I>&gt;<i> perquè evitar usar l'índex pels alies. Però potser hi ha algun
</I>&gt;<i> requeriment que ho justifica, no sé. En tot cas abans no anava així.
</I>&gt;<i>
</I>&gt;<i> I parlant d'eficiència. Al plugin alias hi havia un mètode
</I>&gt;<i> posibleAlias que mirava si el text entrat estava entre el màxim i el
</I>&gt;<i> mínim dels alias existents, i la lòngitud també estava entra la màxima
</I>&gt;<i> i mínima, de manera que si no es complia això s'estalviava un
</I>&gt;<i> select. Això va bé quan comproves aquestes coses a cada tecla pitjada.
</I>&gt;<i> Però no es pot fer si vols buscar subcadenes (que jo em pensava que no
</I>&gt;<i> calia).  Depen de què faci servir la gent com a codis d'article o com
</I>&gt;<i> a alias, però en alguns casos només mirant el rang de les inicials i
</I>&gt;<i> la lòngitud de la cadena pots saber si és un alias o no (per exemple,
</I>&gt;<i> moltes vegades tots els alies seran codis de barres numèrics (entre
</I>&gt;<i> &quot;0...&quot; i &quot;9...&quot;) i amb una longitud fixa o com a molt unes poques
</I>&gt;<i> longituds. En aquests casos sempre que no es compleixi això no cal ni
</I>&gt;<i> mirar alias. Si treiem l'heurisme de possibleAlias perdem aquesta
</I>&gt;<i> optimització, però si de debó necessitem omplir el combo amb els
</I>&gt;<i> articles dels alies que continguin el text entrat com a subcadena, no
</I>&gt;<i> tenim més remei.
</I>&gt;<i>
</I>&gt;<i> Això de les subcadenes és realment un requeriment ?
</I>&gt;<i>
</I>&gt;<i> Però ara ho vaig a provar, que de moment només m'ho he llegit, i potser no
</I>&gt;<i> ho he entés bé.
</I>


-- 
Tomeu Borrás Riera
Conetxia Soluciones Informáticas
902 88 11 66
971 29 06 29

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Mensaje anterior: <A HREF="002508.html">[BulmaGés]r3527 - in trunk/bulmages/bulmafact: plugins/pluginbf_alias	plugins/pluginbf_articulo src
</A></li>
	<LI>Próximo mensaje: <A HREF="002510.html">[BulmaGés] r3528 -	trunk/bulmages/bulmafact/plugins/pluginbf_actividad/openreports
</A></li>
         <LI> <B>Mensajes ordenados por:</B> 
              <a href="date.html#2509">[ fecha ]</a>
              <a href="thread.html#2509">[ hilo ]</a>
              <a href="subject.html#2509">[ asunto ]</a>
              <a href="author.html#2509">[ autor ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bulmages-main">Más información sobre la lista de distribución Bulmages-main </a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [BulmaGés] [Gitorious] Activity: tborras pushed 15	commits to master...
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bulmages-main/2012-April/index.html" >
   <LINK REL="made" HREF="mailto:bulmages-main%40lists.berlios.de?Subject=Re%3A%20%3D%3Futf-8%3Fb%3FW0J1bG1hR8Opc10%3D%3F%3D%20%5BGitorious%5D%20Activity%3A%20tborras%20pushed%2015%0A%09commits%20to%20master...&In-Reply-To=%3C20120417062548.B0221758F7%40steelheart.shortcut.kunder.linpro.no%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <LINK REL="Previous"  HREF="007047.html">
   <LINK REL="Next"  HREF="007048.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[BulmaGés] [Gitorious] Activity: tborras pushed 15	commits to master... </H1>
    <B>Gitorious</B> 
    <A HREF="mailto:bulmages-main%40lists.berlios.de?Subject=Re%3A%20%3D%3Futf-8%3Fb%3FW0J1bG1hR8Opc10%3D%3F%3D%20%5BGitorious%5D%20Activity%3A%20tborras%20pushed%2015%0A%09commits%20to%20master...&In-Reply-To=%3C20120417062548.B0221758F7%40steelheart.shortcut.kunder.linpro.no%3E"
       TITLE="[BulmaGés] [Gitorious] Activity: tborras pushed 15	commits to master...">no-reply en gitorious.org
       </A><BR>
    <I>Mar Abr 17 08:25:48 CEST 2012</I>
    <P><UL>
        <LI>Mensaje anterior: <A HREF="007047.html">[BulmaGés]Implementacion alternativa de rml2pdf
</A></li>
        <LI>Próximo mensaje: <A HREF="007048.html">[BulmaGés] [Gitorious] Activity: tborras created	branch release14 in...
</A></li>
         <LI> <B>Mensajes ordenados por:</B> 
              <a href="date.html#7050">[ fecha ]</a>
              <a href="thread.html#7050">[ hilo ]</a>
              <a href="subject.html#7050">[ asunto ]</a>
              <a href="author.html#7050">[ autor ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

Hello bulmagesmailing,

One of your favorites has a new activity:
------------------------------------------------------------------------
tborras pushed 15 commits to master
master changed from 69e2448 to cd5d32e

View the commit log at <A HREF="https://gitorious.org/bulmages/bulmages/commits">https://gitorious.org/bulmages/bulmages/commits</A>

View the diff online: <A HREF="https://gitorious.org/bulmages/bulmages/commit/69e2448240823e5ec9c31c3e6713483e1f772beb/diffs/cd5d32e507c7cac4d507441eb3760838ca32f895">https://gitorious.org/bulmages/bulmages/commit/69e2448240823e5ec9c31c3e6713483e1f772beb/diffs/cd5d32e507c7cac4d507441eb3760838ca32f895</A>

Diff: 

commit cd5d32e507c7cac4d507441eb3760838ca32f895
Author: Tomeu Borras &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">tborras en conetxia.com</A>&gt;
Date:   Mon Apr 16 13:31:24 2012 +0200

    Cambio el estilo para que saque un color más corporativo

diff --git a/bulmages/installbulmages/openreports/ca/estilos.rml b/bulmages/installbulmages/openreports/ca/estilos.rml
index a329f63..b51092b 100644
--- a/bulmages/installbulmages/openreports/ca/estilos.rml
+++ b/bulmages/installbulmages/openreports/ca/estilos.rml
@@ -7,7 +7,7 @@
 	&lt;blockTableStyle id=&quot;cabecera&quot;&gt;	
 		&lt;blockAlignment value=&quot;CENTER&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;blockTextColor colorName=&quot;(0,0,0)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;	
-		&lt;blockBackground colorName=&quot;(0.18,0.42,0.18)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
+		&lt;blockBackground colorName=&quot;(0.18,0.38,0.42)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica&quot; size=&quot;12&quot; start=&quot;0,-1&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;lineStyle kind=&quot;INNERGRID&quot; colorName=&quot;(0.5,0.5,0.5)&quot;  start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
@@ -30,7 +30,7 @@
 	&lt;blockTableStyle id=&quot;tabladescuento&quot;&gt;
 		&lt;blockAlignment value=&quot;RIGHT&quot; start=&quot;2,1&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;blockAlignment value=&quot;CENTER&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
-		&lt;blockBackground colorName=&quot;(0.18,0.42,0.18)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
+		&lt;blockBackground colorName=&quot;(0.18,0.38,0.42)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockTextColor colorName=&quot;(0,0,0)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;lineStyle kind=&quot;LINEBEFORE&quot; colorName=&quot;(0.5,0.5,0.5)&quot;  start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;lineStyle kind=&quot;LINEBELOW&quot; colorName=&quot;(0,0,0)&quot;  start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
@@ -44,7 +44,7 @@
 		&lt;blockAlignment value=&quot;RIGHT&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;blockTextColor colorName=&quot;(1,1,1)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;	
 		&lt;blockBackground colorName=&quot;(1,1,1)&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
-		&lt;blockBackground colorName=&quot;(0.18,0.42,0.18)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
+		&lt;blockBackground colorName=&quot;(0.18,0.38,0.42)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica&quot; size=&quot;12&quot; start=&quot;0,-1&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;lineStyle kind=&quot;INNERGRID&quot; colorName=&quot;(0.5,0.5,0.5)&quot;  start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
@@ -70,13 +70,13 @@
 	&lt;blockTableStyle id=&quot;total&quot;&gt;
 		&lt;blockValign value=&quot;TOP&quot;/&gt;
 		&lt;blockLeftPadding length=&quot;0mm&quot; /&gt;
-		&lt;lineStyle kind=&quot;LINEBELOW&quot; colorName=&quot;blue&quot; start=&quot;0,1&quot; stop=&quot;-1,1&quot; /&gt;
+		&lt;lineStyle kind=&quot;LINEBELOW&quot; colorName=&quot;(0.18,0.38,0.42)&quot; start=&quot;0,1&quot; stop=&quot;-1,1&quot; /&gt;
 		&lt;!--&lt;lineStyle kind=&quot;GRID&quot; /&gt;--&gt;
 	&lt;/blockTableStyle&gt;
 
 	&lt;blockTableStyle id=&quot;titulo&quot;&gt;	
 		&lt;blockFont name=&quot;Helvetica-Bold&quot; /&gt;
-		&lt;blockBackground colorName=&quot;(0.18,0.42,0.18)&quot; /&gt;
+		&lt;blockBackground colorName=&quot;(0.18,0.38,0.42)&quot; /&gt;
 		&lt;blockTextColor colorName=&quot;(1,1,1)&quot; /&gt;
 		&lt;blockAlignment value=&quot;RIGHT&quot; /&gt;
 	&lt;/blockTableStyle&gt;
diff --git a/bulmages/installbulmages/openreports/ca/plantilla.rml b/bulmages/installbulmages/openreports/ca/plantilla.rml
index c32cc72..f305922 100644
--- a/bulmages/installbulmages/openreports/ca/plantilla.rml
+++ b/bulmages/installbulmages/openreports/ca/plantilla.rml
@@ -2,7 +2,7 @@
 &lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
 &lt;document&gt;
 		&lt;!-- EL LOGO DE CABECERA --&gt;
-		&lt;image x=&quot;1cm&quot; y=&quot;27cm&quot; width=&quot;8cm&quot; file=&quot;logo.jpg&quot;/&gt;
+		&lt;image x=&quot;2cm&quot; y=&quot;27cm&quot; width=&quot;5cm&quot; file=&quot;logo.jpg&quot;/&gt;
 
 		&lt;!-- EL PIE DE PAGINA --&gt;
 		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;10&quot;/&gt;	
@@ -30,7 +30,7 @@
 
 
 		&lt;!-- EL RECUADRO DONDE VA EL CLIENTE --&gt;
-		&lt;stroke color=&quot;(0.18,0.42,0.18)&quot;/&gt;
+		&lt;stroke color=&quot;(0.18,0.38,0.42)&quot;/&gt;
 		&lt;lineMode width=&quot;0.3mm&quot;/&gt;
 		&lt;!-- EL RECUADRO FECHA --&gt;
 		&lt;rect round=&quot;0.05cm&quot; x=&quot;9.8cm&quot; y=&quot;27.3cm&quot; width=&quot;10cm&quot; height=&quot;1.2cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;
@@ -41,8 +41,8 @@
 		&lt;!-- EL RECUADRO EMPRESA --&gt;
 		&lt;rect round=&quot;0.05cm&quot; x=&quot;1.3cm&quot; y=&quot;23.2cm&quot; width=&quot;8cm&quot; height=&quot;2.3cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;
 
-		&lt;fill color=&quot;(0.18,0.42,0.18)&quot; /&gt;
-		&lt;stroke color=&quot;(0.18,0.42,0.18)&quot; /&gt;
+		&lt;fill color=&quot;(0.18,0.38,0.42)&quot; /&gt;
+		&lt;stroke color=&quot;(0.18,0.38,0.42)&quot; /&gt;
 		&lt;rect x=&quot;1cm&quot; y=&quot;21.8cm&quot; width=&quot;19cm&quot; height=&quot;0.6cm&quot; fill=&quot;yes&quot; stroke=&quot;yes&quot;/&gt;
 		&lt;!--&lt;rect x=&quot;1cm&quot; y=&quot;6.8cm&quot; width=&quot;19cm&quot; height=&quot;0.6cm&quot; fill=&quot;yes&quot; stroke=&quot;no&quot;/&gt;--&gt;
 		&lt;!--&lt;rect x=&quot;1cm&quot; y=&quot;6.4cm&quot; width=&quot;19cm&quot; height=&quot;0.6cm&quot; fill=&quot;no&quot; stroke=&quot;no&quot;/&gt;--&gt;
@@ -52,7 +52,7 @@
 
 
 		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
-		&lt;fill color=&quot;(0.18,0.42,0.18)&quot;/&gt;
+		&lt;fill color=&quot;(0.18,0.38,0.42)&quot;/&gt;
 		&lt;rect x=&quot;9.9cm&quot; y=&quot;26.4cm&quot; width=&quot;9.8cm&quot; height=&quot;0.6cm&quot; fill=&quot;yes&quot; stroke=&quot;no&quot;/&gt;
 
 &lt;/document&gt;
diff --git a/bulmages/installbulmages/openreports/en/estilos.rml b/bulmages/installbulmages/openreports/en/estilos.rml
index a329f63..b51092b 100644
--- a/bulmages/installbulmages/openreports/en/estilos.rml
+++ b/bulmages/installbulmages/openreports/en/estilos.rml
@@ -7,7 +7,7 @@
 	&lt;blockTableStyle id=&quot;cabecera&quot;&gt;	
 		&lt;blockAlignment value=&quot;CENTER&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;blockTextColor colorName=&quot;(0,0,0)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;	
-		&lt;blockBackground colorName=&quot;(0.18,0.42,0.18)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
+		&lt;blockBackground colorName=&quot;(0.18,0.38,0.42)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica&quot; size=&quot;12&quot; start=&quot;0,-1&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;lineStyle kind=&quot;INNERGRID&quot; colorName=&quot;(0.5,0.5,0.5)&quot;  start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
@@ -30,7 +30,7 @@
 	&lt;blockTableStyle id=&quot;tabladescuento&quot;&gt;
 		&lt;blockAlignment value=&quot;RIGHT&quot; start=&quot;2,1&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;blockAlignment value=&quot;CENTER&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
-		&lt;blockBackground colorName=&quot;(0.18,0.42,0.18)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
+		&lt;blockBackground colorName=&quot;(0.18,0.38,0.42)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockTextColor colorName=&quot;(0,0,0)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;lineStyle kind=&quot;LINEBEFORE&quot; colorName=&quot;(0.5,0.5,0.5)&quot;  start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;lineStyle kind=&quot;LINEBELOW&quot; colorName=&quot;(0,0,0)&quot;  start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
@@ -44,7 +44,7 @@
 		&lt;blockAlignment value=&quot;RIGHT&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;blockTextColor colorName=&quot;(1,1,1)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;	
 		&lt;blockBackground colorName=&quot;(1,1,1)&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
-		&lt;blockBackground colorName=&quot;(0.18,0.42,0.18)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
+		&lt;blockBackground colorName=&quot;(0.18,0.38,0.42)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica&quot; size=&quot;12&quot; start=&quot;0,-1&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;lineStyle kind=&quot;INNERGRID&quot; colorName=&quot;(0.5,0.5,0.5)&quot;  start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
@@ -70,13 +70,13 @@
 	&lt;blockTableStyle id=&quot;total&quot;&gt;
 		&lt;blockValign value=&quot;TOP&quot;/&gt;
 		&lt;blockLeftPadding length=&quot;0mm&quot; /&gt;
-		&lt;lineStyle kind=&quot;LINEBELOW&quot; colorName=&quot;blue&quot; start=&quot;0,1&quot; stop=&quot;-1,1&quot; /&gt;
+		&lt;lineStyle kind=&quot;LINEBELOW&quot; colorName=&quot;(0.18,0.38,0.42)&quot; start=&quot;0,1&quot; stop=&quot;-1,1&quot; /&gt;
 		&lt;!--&lt;lineStyle kind=&quot;GRID&quot; /&gt;--&gt;
 	&lt;/blockTableStyle&gt;
 
 	&lt;blockTableStyle id=&quot;titulo&quot;&gt;	
 		&lt;blockFont name=&quot;Helvetica-Bold&quot; /&gt;
-		&lt;blockBackground colorName=&quot;(0.18,0.42,0.18)&quot; /&gt;
+		&lt;blockBackground colorName=&quot;(0.18,0.38,0.42)&quot; /&gt;
 		&lt;blockTextColor colorName=&quot;(1,1,1)&quot; /&gt;
 		&lt;blockAlignment value=&quot;RIGHT&quot; /&gt;
 	&lt;/blockTableStyle&gt;
diff --git a/bulmages/installbulmages/openreports/en/plantilla.rml b/bulmages/installbulmages/openreports/en/plantilla.rml
index c32cc72..f305922 100644
--- a/bulmages/installbulmages/openreports/en/plantilla.rml
+++ b/bulmages/installbulmages/openreports/en/plantilla.rml
@@ -2,7 +2,7 @@
 &lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
 &lt;document&gt;
 		&lt;!-- EL LOGO DE CABECERA --&gt;
-		&lt;image x=&quot;1cm&quot; y=&quot;27cm&quot; width=&quot;8cm&quot; file=&quot;logo.jpg&quot;/&gt;
+		&lt;image x=&quot;2cm&quot; y=&quot;27cm&quot; width=&quot;5cm&quot; file=&quot;logo.jpg&quot;/&gt;
 
 		&lt;!-- EL PIE DE PAGINA --&gt;
 		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;10&quot;/&gt;	
@@ -30,7 +30,7 @@
 
 
 		&lt;!-- EL RECUADRO DONDE VA EL CLIENTE --&gt;
-		&lt;stroke color=&quot;(0.18,0.42,0.18)&quot;/&gt;
+		&lt;stroke color=&quot;(0.18,0.38,0.42)&quot;/&gt;
 		&lt;lineMode width=&quot;0.3mm&quot;/&gt;
 		&lt;!-- EL RECUADRO FECHA --&gt;
 		&lt;rect round=&quot;0.05cm&quot; x=&quot;9.8cm&quot; y=&quot;27.3cm&quot; width=&quot;10cm&quot; height=&quot;1.2cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;
@@ -41,8 +41,8 @@
 		&lt;!-- EL RECUADRO EMPRESA --&gt;
 		&lt;rect round=&quot;0.05cm&quot; x=&quot;1.3cm&quot; y=&quot;23.2cm&quot; width=&quot;8cm&quot; height=&quot;2.3cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;
 
-		&lt;fill color=&quot;(0.18,0.42,0.18)&quot; /&gt;
-		&lt;stroke color=&quot;(0.18,0.42,0.18)&quot; /&gt;
+		&lt;fill color=&quot;(0.18,0.38,0.42)&quot; /&gt;
+		&lt;stroke color=&quot;(0.18,0.38,0.42)&quot; /&gt;
 		&lt;rect x=&quot;1cm&quot; y=&quot;21.8cm&quot; width=&quot;19cm&quot; height=&quot;0.6cm&quot; fill=&quot;yes&quot; stroke=&quot;yes&quot;/&gt;
 		&lt;!--&lt;rect x=&quot;1cm&quot; y=&quot;6.8cm&quot; width=&quot;19cm&quot; height=&quot;0.6cm&quot; fill=&quot;yes&quot; stroke=&quot;no&quot;/&gt;--&gt;
 		&lt;!--&lt;rect x=&quot;1cm&quot; y=&quot;6.4cm&quot; width=&quot;19cm&quot; height=&quot;0.6cm&quot; fill=&quot;no&quot; stroke=&quot;no&quot;/&gt;--&gt;
@@ -52,7 +52,7 @@
 
 
 		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
-		&lt;fill color=&quot;(0.18,0.42,0.18)&quot;/&gt;
+		&lt;fill color=&quot;(0.18,0.38,0.42)&quot;/&gt;
 		&lt;rect x=&quot;9.9cm&quot; y=&quot;26.4cm&quot; width=&quot;9.8cm&quot; height=&quot;0.6cm&quot; fill=&quot;yes&quot; stroke=&quot;no&quot;/&gt;
 
 &lt;/document&gt;
diff --git a/bulmages/installbulmages/openreports/es/estilos.rml b/bulmages/installbulmages/openreports/es/estilos.rml
index a329f63..b51092b 100644
--- a/bulmages/installbulmages/openreports/es/estilos.rml
+++ b/bulmages/installbulmages/openreports/es/estilos.rml
@@ -7,7 +7,7 @@
 	&lt;blockTableStyle id=&quot;cabecera&quot;&gt;	
 		&lt;blockAlignment value=&quot;CENTER&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;blockTextColor colorName=&quot;(0,0,0)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;	
-		&lt;blockBackground colorName=&quot;(0.18,0.42,0.18)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
+		&lt;blockBackground colorName=&quot;(0.18,0.38,0.42)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica&quot; size=&quot;12&quot; start=&quot;0,-1&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;lineStyle kind=&quot;INNERGRID&quot; colorName=&quot;(0.5,0.5,0.5)&quot;  start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
@@ -30,7 +30,7 @@
 	&lt;blockTableStyle id=&quot;tabladescuento&quot;&gt;
 		&lt;blockAlignment value=&quot;RIGHT&quot; start=&quot;2,1&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;blockAlignment value=&quot;CENTER&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
-		&lt;blockBackground colorName=&quot;(0.18,0.42,0.18)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
+		&lt;blockBackground colorName=&quot;(0.18,0.38,0.42)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockTextColor colorName=&quot;(0,0,0)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;lineStyle kind=&quot;LINEBEFORE&quot; colorName=&quot;(0.5,0.5,0.5)&quot;  start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;lineStyle kind=&quot;LINEBELOW&quot; colorName=&quot;(0,0,0)&quot;  start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
@@ -44,7 +44,7 @@
 		&lt;blockAlignment value=&quot;RIGHT&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;blockTextColor colorName=&quot;(1,1,1)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;	
 		&lt;blockBackground colorName=&quot;(1,1,1)&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
-		&lt;blockBackground colorName=&quot;(0.18,0.42,0.18)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
+		&lt;blockBackground colorName=&quot;(0.18,0.38,0.42)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica&quot; size=&quot;12&quot; start=&quot;0,-1&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;lineStyle kind=&quot;INNERGRID&quot; colorName=&quot;(0.5,0.5,0.5)&quot;  start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
@@ -70,13 +70,13 @@
 	&lt;blockTableStyle id=&quot;total&quot;&gt;
 		&lt;blockValign value=&quot;TOP&quot;/&gt;
 		&lt;blockLeftPadding length=&quot;0mm&quot; /&gt;
-		&lt;lineStyle kind=&quot;LINEBELOW&quot; colorName=&quot;blue&quot; start=&quot;0,1&quot; stop=&quot;-1,1&quot; /&gt;
+		&lt;lineStyle kind=&quot;LINEBELOW&quot; colorName=&quot;(0.18,0.38,0.42)&quot; start=&quot;0,1&quot; stop=&quot;-1,1&quot; /&gt;
 		&lt;!--&lt;lineStyle kind=&quot;GRID&quot; /&gt;--&gt;
 	&lt;/blockTableStyle&gt;
 
 	&lt;blockTableStyle id=&quot;titulo&quot;&gt;	
 		&lt;blockFont name=&quot;Helvetica-Bold&quot; /&gt;
-		&lt;blockBackground colorName=&quot;(0.18,0.42,0.18)&quot; /&gt;
+		&lt;blockBackground colorName=&quot;(0.18,0.38,0.42)&quot; /&gt;
 		&lt;blockTextColor colorName=&quot;(1,1,1)&quot; /&gt;
 		&lt;blockAlignment value=&quot;RIGHT&quot; /&gt;
 	&lt;/blockTableStyle&gt;
diff --git a/bulmages/installbulmages/openreports/es/plantilla.rml b/bulmages/installbulmages/openreports/es/plantilla.rml
index c32cc72..f305922 100644
--- a/bulmages/installbulmages/openreports/es/plantilla.rml
+++ b/bulmages/installbulmages/openreports/es/plantilla.rml
@@ -2,7 +2,7 @@
 &lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
 &lt;document&gt;
 		&lt;!-- EL LOGO DE CABECERA --&gt;
-		&lt;image x=&quot;1cm&quot; y=&quot;27cm&quot; width=&quot;8cm&quot; file=&quot;logo.jpg&quot;/&gt;
+		&lt;image x=&quot;2cm&quot; y=&quot;27cm&quot; width=&quot;5cm&quot; file=&quot;logo.jpg&quot;/&gt;
 
 		&lt;!-- EL PIE DE PAGINA --&gt;
 		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;10&quot;/&gt;	
@@ -30,7 +30,7 @@
 
 
 		&lt;!-- EL RECUADRO DONDE VA EL CLIENTE --&gt;
-		&lt;stroke color=&quot;(0.18,0.42,0.18)&quot;/&gt;
+		&lt;stroke color=&quot;(0.18,0.38,0.42)&quot;/&gt;
 		&lt;lineMode width=&quot;0.3mm&quot;/&gt;
 		&lt;!-- EL RECUADRO FECHA --&gt;
 		&lt;rect round=&quot;0.05cm&quot; x=&quot;9.8cm&quot; y=&quot;27.3cm&quot; width=&quot;10cm&quot; height=&quot;1.2cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;
@@ -41,8 +41,8 @@
 		&lt;!-- EL RECUADRO EMPRESA --&gt;
 		&lt;rect round=&quot;0.05cm&quot; x=&quot;1.3cm&quot; y=&quot;23.2cm&quot; width=&quot;8cm&quot; height=&quot;2.3cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;
 
-		&lt;fill color=&quot;(0.18,0.42,0.18)&quot; /&gt;
-		&lt;stroke color=&quot;(0.18,0.42,0.18)&quot; /&gt;
+		&lt;fill color=&quot;(0.18,0.38,0.42)&quot; /&gt;
+		&lt;stroke color=&quot;(0.18,0.38,0.42)&quot; /&gt;
 		&lt;rect x=&quot;1cm&quot; y=&quot;21.8cm&quot; width=&quot;19cm&quot; height=&quot;0.6cm&quot; fill=&quot;yes&quot; stroke=&quot;yes&quot;/&gt;
 		&lt;!--&lt;rect x=&quot;1cm&quot; y=&quot;6.8cm&quot; width=&quot;19cm&quot; height=&quot;0.6cm&quot; fill=&quot;yes&quot; stroke=&quot;no&quot;/&gt;--&gt;
 		&lt;!--&lt;rect x=&quot;1cm&quot; y=&quot;6.4cm&quot; width=&quot;19cm&quot; height=&quot;0.6cm&quot; fill=&quot;no&quot; stroke=&quot;no&quot;/&gt;--&gt;
@@ -52,7 +52,7 @@
 
 
 		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
-		&lt;fill color=&quot;(0.18,0.42,0.18)&quot;/&gt;
+		&lt;fill color=&quot;(0.18,0.38,0.42)&quot;/&gt;
 		&lt;rect x=&quot;9.9cm&quot; y=&quot;26.4cm&quot; width=&quot;9.8cm&quot; height=&quot;0.6cm&quot; fill=&quot;yes&quot; stroke=&quot;no&quot;/&gt;
 
 &lt;/document&gt;
diff --git a/bulmages/installbulmages/openreports/fr/estilos.rml b/bulmages/installbulmages/openreports/fr/estilos.rml
index a329f63..b51092b 100644
--- a/bulmages/installbulmages/openreports/fr/estilos.rml
+++ b/bulmages/installbulmages/openreports/fr/estilos.rml
@@ -7,7 +7,7 @@
 	&lt;blockTableStyle id=&quot;cabecera&quot;&gt;	
 		&lt;blockAlignment value=&quot;CENTER&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;blockTextColor colorName=&quot;(0,0,0)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;	
-		&lt;blockBackground colorName=&quot;(0.18,0.42,0.18)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
+		&lt;blockBackground colorName=&quot;(0.18,0.38,0.42)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica&quot; size=&quot;12&quot; start=&quot;0,-1&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;lineStyle kind=&quot;INNERGRID&quot; colorName=&quot;(0.5,0.5,0.5)&quot;  start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
@@ -30,7 +30,7 @@
 	&lt;blockTableStyle id=&quot;tabladescuento&quot;&gt;
 		&lt;blockAlignment value=&quot;RIGHT&quot; start=&quot;2,1&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;blockAlignment value=&quot;CENTER&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
-		&lt;blockBackground colorName=&quot;(0.18,0.42,0.18)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
+		&lt;blockBackground colorName=&quot;(0.18,0.38,0.42)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockTextColor colorName=&quot;(0,0,0)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;lineStyle kind=&quot;LINEBEFORE&quot; colorName=&quot;(0.5,0.5,0.5)&quot;  start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;lineStyle kind=&quot;LINEBELOW&quot; colorName=&quot;(0,0,0)&quot;  start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
@@ -44,7 +44,7 @@
 		&lt;blockAlignment value=&quot;RIGHT&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;blockTextColor colorName=&quot;(1,1,1)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;	
 		&lt;blockBackground colorName=&quot;(1,1,1)&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
-		&lt;blockBackground colorName=&quot;(0.18,0.42,0.18)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
+		&lt;blockBackground colorName=&quot;(0.18,0.38,0.42)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica&quot; size=&quot;12&quot; start=&quot;0,-1&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;lineStyle kind=&quot;INNERGRID&quot; colorName=&quot;(0.5,0.5,0.5)&quot;  start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
@@ -70,13 +70,13 @@
 	&lt;blockTableStyle id=&quot;total&quot;&gt;
 		&lt;blockValign value=&quot;TOP&quot;/&gt;
 		&lt;blockLeftPadding length=&quot;0mm&quot; /&gt;
-		&lt;lineStyle kind=&quot;LINEBELOW&quot; colorName=&quot;blue&quot; start=&quot;0,1&quot; stop=&quot;-1,1&quot; /&gt;
+		&lt;lineStyle kind=&quot;LINEBELOW&quot; colorName=&quot;(0.18,0.38,0.42)&quot; start=&quot;0,1&quot; stop=&quot;-1,1&quot; /&gt;
 		&lt;!--&lt;lineStyle kind=&quot;GRID&quot; /&gt;--&gt;
 	&lt;/blockTableStyle&gt;
 
 	&lt;blockTableStyle id=&quot;titulo&quot;&gt;	
 		&lt;blockFont name=&quot;Helvetica-Bold&quot; /&gt;
-		&lt;blockBackground colorName=&quot;(0.18,0.42,0.18)&quot; /&gt;
+		&lt;blockBackground colorName=&quot;(0.18,0.38,0.42)&quot; /&gt;
 		&lt;blockTextColor colorName=&quot;(1,1,1)&quot; /&gt;
 		&lt;blockAlignment value=&quot;RIGHT&quot; /&gt;
 	&lt;/blockTableStyle&gt;
diff --git a/bulmages/installbulmages/openreports/fr/plantilla.rml b/bulmages/installbulmages/openreports/fr/plantilla.rml
index c32cc72..f305922 100644
--- a/bulmages/installbulmages/openreports/fr/plantilla.rml
+++ b/bulmages/installbulmages/openreports/fr/plantilla.rml
@@ -2,7 +2,7 @@
 &lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
 &lt;document&gt;
 		&lt;!-- EL LOGO DE CABECERA --&gt;
-		&lt;image x=&quot;1cm&quot; y=&quot;27cm&quot; width=&quot;8cm&quot; file=&quot;logo.jpg&quot;/&gt;
+		&lt;image x=&quot;2cm&quot; y=&quot;27cm&quot; width=&quot;5cm&quot; file=&quot;logo.jpg&quot;/&gt;
 
 		&lt;!-- EL PIE DE PAGINA --&gt;
 		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;10&quot;/&gt;	
@@ -30,7 +30,7 @@
 
 
 		&lt;!-- EL RECUADRO DONDE VA EL CLIENTE --&gt;
-		&lt;stroke color=&quot;(0.18,0.42,0.18)&quot;/&gt;
+		&lt;stroke color=&quot;(0.18,0.38,0.42)&quot;/&gt;
 		&lt;lineMode width=&quot;0.3mm&quot;/&gt;
 		&lt;!-- EL RECUADRO FECHA --&gt;
 		&lt;rect round=&quot;0.05cm&quot; x=&quot;9.8cm&quot; y=&quot;27.3cm&quot; width=&quot;10cm&quot; height=&quot;1.2cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;
@@ -41,8 +41,8 @@
 		&lt;!-- EL RECUADRO EMPRESA --&gt;
 		&lt;rect round=&quot;0.05cm&quot; x=&quot;1.3cm&quot; y=&quot;23.2cm&quot; width=&quot;8cm&quot; height=&quot;2.3cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;
 
-		&lt;fill color=&quot;(0.18,0.42,0.18)&quot; /&gt;
-		&lt;stroke color=&quot;(0.18,0.42,0.18)&quot; /&gt;
+		&lt;fill color=&quot;(0.18,0.38,0.42)&quot; /&gt;
+		&lt;stroke color=&quot;(0.18,0.38,0.42)&quot; /&gt;
 		&lt;rect x=&quot;1cm&quot; y=&quot;21.8cm&quot; width=&quot;19cm&quot; height=&quot;0.6cm&quot; fill=&quot;yes&quot; stroke=&quot;yes&quot;/&gt;
 		&lt;!--&lt;rect x=&quot;1cm&quot; y=&quot;6.8cm&quot; width=&quot;19cm&quot; height=&quot;0.6cm&quot; fill=&quot;yes&quot; stroke=&quot;no&quot;/&gt;--&gt;
 		&lt;!--&lt;rect x=&quot;1cm&quot; y=&quot;6.4cm&quot; width=&quot;19cm&quot; height=&quot;0.6cm&quot; fill=&quot;no&quot; stroke=&quot;no&quot;/&gt;--&gt;
@@ -52,7 +52,7 @@
 
 
 		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
-		&lt;fill color=&quot;(0.18,0.42,0.18)&quot;/&gt;
+		&lt;fill color=&quot;(0.18,0.38,0.42)&quot;/&gt;
 		&lt;rect x=&quot;9.9cm&quot; y=&quot;26.4cm&quot; width=&quot;9.8cm&quot; height=&quot;0.6cm&quot; fill=&quot;yes&quot; stroke=&quot;no&quot;/&gt;
 
 &lt;/document&gt;

commit cd53935d350ab95ff160babc1b2b1758380915c3
Author: Tomeu Borras &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">tborras en conetxia.com</A>&gt;
Date:   Mon Apr 16 12:19:39 2012 +0200

    Agreglo las plantillas de factura al repositorio

diff --git a/bulmages/bulmafact/plugins/pluginbf_clientefactura/README.ca b/bulmages/bulmafact/plugins/pluginbf_clientefactura/README.ca
index edaa8a4..33f74ea 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientefactura/README.ca
+++ b/bulmages/bulmafact/plugins/pluginbf_clientefactura/README.ca
@@ -36,7 +36,7 @@ Dependencias: libpluginbf_cliente.so
 
 Incompatibles:
 
-Reports: factura_alternativa1.rml; factura.rml; blform_FacturaView.qs; inf_detalleventasarticulo.pys; inf_resumcompras.pys; inf_familiacliente.pys; inf_ventas.ui
+Reports: factura.rml; blform_FacturaView.qs; inf_detalleventasarticulo.pys; inf_resumcompras.pys; inf_familiacliente.pys; inf_ventas.ui; impers_factura_grafica.rml; impers_factura_copia.rml; impers_factura_pagada.rml
 
 Categorias: Facturació genèrica;
 
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientefactura/README.en b/bulmages/bulmafact/plugins/pluginbf_clientefactura/README.en
index 4a36b31..d3df149 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientefactura/README.en
+++ b/bulmages/bulmafact/plugins/pluginbf_clientefactura/README.en
@@ -30,7 +30,7 @@ Dependencias: libpluginbf_cliente.so
 
 Incompatibles:
 
-Reports: factura_alternativa1.rml; factura.rml; blform_FacturaView.qs; inf_detalleventasarticulo.pys; inf_resumcompras.pys; inf_familiacliente.pys; inf_ventas.ui
+Reports: factura.rml; blform_FacturaView.qs; inf_detalleventasarticulo.pys; inf_resumcompras.pys; inf_familiacliente.pys; inf_ventas.ui; impers_factura_grafica.rml; impers_factura_copia.rml; impers_factura_pagada.rml
 
 Categorias: Generic invoicing;
 
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientefactura/README.es b/bulmages/bulmafact/plugins/pluginbf_clientefactura/README.es
index ca9d755..35f43ef 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientefactura/README.es
+++ b/bulmages/bulmafact/plugins/pluginbf_clientefactura/README.es
@@ -36,7 +36,7 @@ Dependencias: libpluginbf_cliente.so
 
 Incompatibles:
 
-Reports: factura_alternativa1.rml; factura.rml; blform_FacturaView.qs; inf_detalleventasarticulo.pys; inf_resumcompras.pys; inf_familiacliente.pys; inf_ventas.ui
+Reports: factura.rml; blform_FacturaView.qs; inf_detalleventasarticulo.pys; inf_resumcompras.pys; inf_familiacliente.pys; inf_ventas.ui; impers_factura_grafica.rml; impers_factura_copia.rml; impers_factura_pagada.rml
 
 Categorias: Facturacion generica;
 
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientefactura/README.fr b/bulmages/bulmafact/plugins/pluginbf_clientefactura/README.fr
index 1b0430a..4752e87 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientefactura/README.fr
+++ b/bulmages/bulmafact/plugins/pluginbf_clientefactura/README.fr
@@ -29,7 +29,7 @@ Dependencias: libpluginbf_cliente.so
 
 Incompatibles:
 
-Reports: factura_alternativa1.rml; factura.rml; blform_FacturaView.qs; inf_detalleventasarticulo.pys; inf_resumcompras.pys; inf_familiacliente.pys; inf_ventas.ui
+Reports: factura.rml; blform_FacturaView.qs; inf_detalleventasarticulo.pys; inf_resumcompras.pys; inf_familiacliente.pys; inf_ventas.ui; impers_factura_grafica.rml; impers_factura_copia.rml; impers_factura_pagada.rml
 
 Categorias: Facturation generique;
 
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/ca/factura.rml b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/ca/factura.rml
index fac08ba..6d8273e 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/ca/factura.rml
+++ b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/ca/factura.rml
@@ -1,144 +1,224 @@
-&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot; ?&gt;
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot; ?&gt;
 &lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
 &lt;document&gt;
-&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Factura&quot; author=&quot;Tomeu Borras&quot; allowSplitting=&quot;20&quot;&gt;
+&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Factura&quot; author=&quot;&quot;&gt;
 	&lt;pageTemplate id=&quot;main&quot;&gt;
 		&lt;pageGraphics&gt;
-		&lt;!-- include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/ --&gt;
-
-		&lt;!-- INCLUDE FILE=&quot;[CONF_DIR_OPENREPORTS]plantilla1.rml&quot; --&gt;
-
+		&lt;include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/&gt;
 
 		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
 		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;22&quot;/&gt;
-		&lt;drawString x=&quot;1.5cm&quot; y=&quot;24.5cm&quot;&gt;FACTURA&lt;/drawString&gt;
+		
+&lt;!--IF QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
 
-&lt;!--IF QUERY=&quot;SELECT * FROM CLIENTE WHERE idcliente = [idcliente]&quot;--&gt;
-&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente=[idcliente]&quot;--&gt;
-		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;24cm&quot;&gt;[nomcliente] -- [telcliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23.5cm&quot;&gt;[dircliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;11&quot;/&gt;
+		&lt;fill color=&quot;(1,1,1)&quot;/&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.53cm&quot;&gt;Datos del cliente:&lt;/drawString&gt;
 
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
+		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;26.05cm&quot;&gt;[idcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.6cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.15cm&quot;&gt;[cifcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.7cm&quot;&gt;[dircliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.25cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.8cm&quot;&gt;[telcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.35cm&quot;&gt;[mailcliente]&lt;/drawString&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
 		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
-		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;drawCentredString x=&quot;5.5cm&quot; y=&quot;21.2cm&quot;&gt;NIF&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;8.5cm&quot; y=&quot;21.2cm&quot;&gt;Cliente&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;11.5cm&quot; y=&quot;21.2cm&quot;&gt;Fecha&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;14.5cm&quot; y=&quot;21.2cm&quot;&gt;N. Fact&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;17.5cm&quot; y=&quot;21.2cm&quot;&gt;Ref&lt;/drawCentredString&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawCentredString x=&quot;5.5cm&quot; y=&quot;20.4cm&quot;&gt;[cifcliente]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;8.5cm&quot; y=&quot;20.4cm&quot;&gt;[idcliente]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;11.5cm&quot; y=&quot;20.4cm&quot;&gt;[ffactura]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;14.5cm&quot; y=&quot;20.4cm&quot;&gt;[codigoserie_factura]-[numfactura]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;17.5cm&quot; y=&quot;20.4cm&quot;&gt;[reffactura]&lt;/drawCentredString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.05cm&quot;&gt;Nº Cliente:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.6cm&quot;&gt;Nombre/Empresa:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.15cm&quot;&gt;NIF/CIF:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.7cm&quot;&gt;Dirección:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.25cm&quot;&gt;Población:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.8cm&quot;&gt;Teléfono:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.35cm&quot;&gt;Dirección Email:&lt;/drawString&gt;
+
+		&lt;!--Fecha factura--&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
+
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.95cm&quot;&gt;Fecha factura:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.5cm&quot;&gt;Nº factura:&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.95cm&quot;&gt;Referencia:&lt;/drawString&gt;
+
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.95cm&quot;&gt;[ffactura]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.5cm&quot;&gt;[codigoserie_factura] / [numfactura]&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.5cm&quot;&gt;[reffactura]&lt;/drawString&gt;
+
+		&lt;!-- INCLUDE FILE=&quot;[CONF_DIR_OPENREPORTS]plantilla_empresa.rml&quot; --&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;26.3cm&quot;&gt;- FACTURA -&lt;/drawCentredString&gt;
+
 &lt;!--END QUERY--&gt;
 &lt;!--END IF QUERY--&gt;
-		&lt;/pageGraphics&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;7&quot;/&gt;
+		&lt;drawString x=&quot;15cm&quot; y=&quot;22.7cm&quot;&gt;Los importes están expresados en euros.&lt;/drawString&gt;
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;25.85cm&quot;&gt;Forma de pago: &lt;!--QUERY=&quot;SELECT descforma_pago FROM forma_pago WHERE idforma_pago = [idforma_pago] LIMIT 1&quot;--&gt;[descforma_pago]&lt;!--END QUERY--&gt;&lt;/drawCentredString&gt;
+
+	&lt;/pageGraphics&gt;
+
+
 		&lt;!-- FRAME DE CONTENIDOS --&gt;
-		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;5cm&quot; width=&quot;19cm&quot; height=&quot;15cm&quot;/&gt;
+		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;8cm&quot; width=&quot;19cm&quot; height=&quot;14.6cm&quot; /&gt;
+
+		
 	&lt;/pageTemplate&gt;
 
 &lt;/template&gt;
 
-
 &lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
 
-&lt;story&gt;
-&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;1.75cm, 8.55cm, 1.2cm, 1.7cm, 1.8cm, 2.25cm&quot; repeatRows=&quot;1&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;Codigo&lt;/td&gt;
-&lt;td&gt;Concepto&lt;/td&gt;
-&lt;td&gt;Und&lt;/td&gt;
-&lt;td&gt;Precio&lt;/td&gt;
-&lt;td&gt;Dto&lt;/td&gt;
-&lt;td&gt;Total&lt;/td&gt;
-&lt;/tr&gt;
+&lt;story&gt;	
+	&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;3.00cm, 8.5cm, 1.8cm, 2cm, 2.9cm&quot; splitByRow=&quot;2&quot; rowheights=&quot;2&quot; repeatRows=&quot;1&quot;&gt;
+		&lt;tr&gt;
+			&lt;td&gt;Codigo&lt;/td&gt;
+			&lt;td&gt;Concepto&lt;/td&gt;
+			&lt;td&gt;Unid:&lt;/td&gt;
+			&lt;td&gt;Precio/u:&lt;/td&gt;
+			&lt;td&gt;Subtotal s/iva:&lt;/td&gt;
+		&lt;/tr&gt;
 &lt;!--LINEAS DETALLE--&gt;
 &lt;tr&gt;
 &lt;td&gt;[codigocompletoarticulo]&lt;/td&gt;
 &lt;td&gt;[desclfactura]&lt;/td&gt;
 &lt;td&gt;[cantlfactura]&lt;/td&gt;
 &lt;td&gt;[pvplfactura]&lt;/td&gt;
-&lt;td&gt;[descuentolfactura]%&lt;/td&gt;
 &lt;td&gt;[totallfactura]&lt;/td&gt;
 &lt;/tr&gt;
 &lt;!--END LINEAS DETALLE--&gt;
-&lt;/blockTable&gt;
-
-&lt;blockTable colWidths=&quot;1.75cm, 8.55cm, 1.2cm, 1.7cm, 1.8cm, 2.25cm&quot; repeatRows=&quot;1&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;[comentfactura]&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/blockTable&gt;
-
-
-
+	
 &lt;!--IF DESCUENTOS--&gt;
-&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
-	&lt;place x=&quot;4cm&quot; y=&quot;3.5cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;blockTable style=&quot;tabladescuento&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt; Descuento&lt;/td&gt;
-&lt;td&gt; Porcentaje&lt;/td&gt;
-&lt;td&gt; Total &lt;/td&gt;
-&lt;/tr&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Descuento/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;% Dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;Total dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
 &lt;!--LINEAS DESCUENTO--&gt;
-&lt;tr&gt;
-	&lt;td&gt;[conceptdfactura]&lt;/td&gt;
-	&lt;td&gt;[proporciondfactura]%&lt;/td&gt;
-	&lt;td&gt;[totaldescdfactura]&lt;/td&gt;
-&lt;/tr&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[conceptdfactura]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;[proporciondfactura]%&lt;/td&gt;
+			&lt;td&gt;[totaldescdfactura]&lt;/td&gt;
+		&lt;/tr&gt;
 &lt;!--END LINEAS DESCUENTO--&gt;
-&lt;/blockTable&gt;
-&lt;/place&gt;
-&lt;/storyPlace&gt;
 &lt;!--END IF DESCUENTOS--&gt;
 
-&lt;storyPlace x=&quot;2cm&quot; y=&quot;0cm&quot; width=&quot;19cm&quot; height=&quot;2cm&quot;&gt;
-&lt;place x=&quot;2cm&quot; y=&quot;0.5cm&quot; width=&quot;19cm&quot; height=&quot;4.5cm&quot;&gt;
-&lt;blockTable colWidths=&quot;7cm, 7cm&quot;&gt;
-&lt;!--TOTALES--&gt;
-&lt;tr&gt;
-&lt;td&gt;&lt;para&gt;Base Imponible [tbimp]%: &lt;font color=&quot;blue&quot;&gt;[bimp]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;I.V.A. [tbimp]%:  &lt;font color=&quot;blue&quot;&gt;[iva]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;!--END TOTALES--&gt;
-
-&lt;!--TOTREQ--&gt;
-&lt;tr&gt;
-&lt;td colspan=&quot;2&quot;&gt;&lt;para&gt;R.Eq. [tre]%: &lt;font color=&quot;blue&quot;&gt;[re]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;!--END TOTREQ--&gt;
-&lt;/blockTable&gt;
-
 
-&lt;blockTable&gt;
-&lt;tr&gt;
-&lt;!-- td&gt;&lt;para&gt;Total Descuentos &lt;font color=&quot;blue&quot;&gt;[totaldesc]&lt;/font&gt;&lt;/para&gt;&lt;/td--&gt;
-&lt;td&gt;&lt;para&gt;Total Base Imponible &lt;font color=&quot;blue&quot;&gt;[totalbimp]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;Total I.V.A &lt;font color=&quot;blue&quot;&gt;[totaliva]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;Total R.Eq &lt;font color=&quot;blue&quot;&gt;[totalre]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;&lt;b&gt;&lt;font size=&quot;15&quot;&gt; Total &lt;font color=&quot;blue&quot;&gt;[total]&lt;/font&gt;&lt;/font&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/blockTable&gt;
-&lt;/place&gt;
-&lt;/storyPlace&gt;
+&lt;!--IF QUERY=&quot;SELECT comentfactura FROM factura WHERE length(comentfactura) &gt; 0 AND idfactura = [idfactura]&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT comentfactura FROM factura WHERE length(comentfactura) &gt; 0 AND idfactura = [idfactura]&quot;--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Comentario/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[comentfactura]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
 
+	&lt;/blockTable&gt;
+
+	
+	&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;20cm&quot; height=&quot;1cm&quot;&gt;
+		&lt;place x=&quot;1cm&quot; y=&quot;4cm&quot; width=&quot;19cm&quot; height=&quot;4cm&quot;&gt;
+			&lt;blockTable style=&quot;total&quot; colWidths=&quot;16.3cm,2.7cm&quot; &gt;
+				&lt;tr&gt;
+					&lt;td colspan=&quot;2&quot;&gt;
+						&lt;blockTable style=&quot;titulo&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm, 2.7cm&quot;&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Base Imponible:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;I.V.A.%:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Tot I.V.A.:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Total:&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;contenido&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm&quot; &gt;
+						&lt;!--TOTALES--&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[bimp]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[tbimp]%&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[iva]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;!--END TOTALES--&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;preciofinal&quot; colWidths=&quot;2.7cm&quot; &gt;
+							&lt;tr&gt;
+								&lt;td&gt;[total] &#8364;&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;/blockTable&gt;
+		&lt;/place&gt;
+	&lt;/storyPlace&gt;
 
 &lt;!-- storyPlace x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
 &lt;place x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;FACT [idfactura] [numfactura] [reffactura]&lt;/barCode&gt;
+&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;ALB [idfactura] [numfactura] [reffactura]&lt;/barCode&gt;
 &lt;/place&gt;
 &lt;/storyPlace --&gt;
+
+
+&lt;!-- QUERY = &quot;SELECT * FROM factura WHERE idfactura=[idfactura] AND idforma_pago = 8 &quot;--&gt;
+
+&lt;storyPlace x=&quot;1cm&quot; y=&quot;2cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
+&lt;place x=&quot;1cm&quot; y=&quot;2cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
+  &lt;para&gt;Para transferencias bancarias &quot;La Caixa&quot; 2100 0650 44 0200224097&lt;/para&gt;
+&lt;/place&gt;
+&lt;/storyPlace&gt;
+
+&lt;!-- END QUERY --&gt;
+
 &lt;/story&gt;
 &lt;/document&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/ca/factura_alternativa1.rml b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/ca/factura_alternativa1.rml
deleted file mode 100644
index 61226a2..0000000
--- a/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/ca/factura_alternativa1.rml
+++ /dev/null
@@ -1,86 +0,0 @@
-&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot; ?&gt;
-&lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
-&lt;document&gt;
-&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Factura&quot; author=&quot;Tomeu Borras&quot; allowSplitting=&quot;20&quot;&gt;
-	&lt;pageTemplate id=&quot;main&quot;&gt;
-		&lt;pageGraphics&gt;
-		&lt;include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/&gt;
-
-		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
-		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;22&quot;/&gt;
-		&lt;drawString x=&quot;1.5cm&quot; y=&quot;24.5cm&quot;&gt;FACTURA&lt;/drawString&gt;
-
-		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;24cm&quot;&gt;[nomcliente] -- [telcliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23.5cm&quot;&gt;[dircliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
-
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
-		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;drawCentredString x=&quot;5.5cm&quot; y=&quot;21.2cm&quot;&gt;NIF&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;8.5cm&quot; y=&quot;21.2cm&quot;&gt;Cliente&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;11.5cm&quot; y=&quot;21.2cm&quot;&gt;Fecha&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;14.5cm&quot; y=&quot;21.2cm&quot;&gt;N. Fact&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;17.5cm&quot; y=&quot;21.2cm&quot;&gt;Ref&lt;/drawCentredString&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawCentredString x=&quot;5.5cm&quot; y=&quot;20.4cm&quot;&gt;[cifcliente]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;8.5cm&quot; y=&quot;20.4cm&quot;&gt;[idcliente]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;11.5cm&quot; y=&quot;20.4cm&quot;&gt;[ffactura]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;14.5cm&quot; y=&quot;20.4cm&quot;&gt;[codigoserie_factura]-[numfactura]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;17.5cm&quot; y=&quot;20.4cm&quot;&gt;[reffactura]&lt;/drawCentredString&gt;
-		&lt;/pageGraphics&gt;
-		&lt;!-- FRAME DE CONTENIDOS --&gt;
-		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;5cm&quot; width=&quot;19cm&quot; height=&quot;15cm&quot;/&gt;
-	&lt;/pageTemplate&gt;
-
-&lt;/template&gt;
-
-
-&lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
-
-&lt;story&gt;
-&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;1.75cm, 8.55cm, 1.2cm, 1.7cm, 1.8cm, 2.25cm&quot; repeatRows=&quot;1&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;Codigo&lt;/td&gt;
-&lt;td&gt;Concepto&lt;/td&gt;
-&lt;td&gt;Und&lt;/td&gt;
-&lt;td&gt;Precio&lt;/td&gt;
-&lt;td&gt;Dto&lt;/td&gt;
-&lt;td&gt;Total&lt;/td&gt;
-&lt;/tr&gt;
-[story]
-&lt;/blockTable&gt;
-
-&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
-	&lt;place x=&quot;4cm&quot; y=&quot;3.5cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;blockTable&gt;
-&lt;tr&gt;
-&lt;td align=&quot;right&quot;&gt;
-	[descuentos]
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/blockTable&gt;
-&lt;/place&gt;
-&lt;/storyPlace&gt;
-
-&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
-&lt;place x=&quot;12cm&quot; y=&quot;2cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;blockTable&gt;
-&lt;tr&gt;
-&lt;td align=&quot;right&quot;&gt;
-	[totales]
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/blockTable&gt;
-&lt;/place&gt;
-&lt;/storyPlace&gt;
-&lt;!-- storyPlace x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
-&lt;place x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;FACT [idfactura] [numfactura] [reffactura]&lt;/barCode&gt;
-&lt;/place&gt;
-&lt;/storyPlace --&gt;
-&lt;/story&gt;
-&lt;/document&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/ca/impers_factura_copia.rml b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/ca/impers_factura_copia.rml
new file mode 100644
index 0000000..57cc5fc
--- /dev/null
+++ b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/ca/impers_factura_copia.rml
@@ -0,0 +1,219 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot; ?&gt;
+&lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
+&lt;document&gt;
+&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Copia Factura&quot; author=&quot;&quot;&gt;
+	&lt;pageTemplate id=&quot;main&quot;&gt;
+		&lt;pageGraphics&gt;
+		&lt;include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/&gt;
+
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
+
+		&lt;!-- PAGADA --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;34&quot;/&gt;
+		&lt;fill color=&quot;(1,0.3,0.3)&quot;/&gt;
+		&lt;stroke color=&quot;(1,0.3,0.3)&quot;/&gt;
+		&lt;translate dx=&quot;15cm&quot; dy=&quot;-6.5cm&quot;/&gt;
+		&lt;rotate degrees=&quot;20&quot;/&gt;                                                                          
+		&lt;drawString x=&quot;25mm&quot; y=&quot;15.8cm&quot;&gt;ES COPIA&lt;/drawString&gt;                                           
+		&lt;lineMode width=&quot;2mm&quot;/&gt;                                                                         
+		&lt;rect round=&quot;1cm&quot; x=&quot;17.5mm&quot; y=&quot;15cm&quot; width=&quot;6.9cm&quot; height=&quot;2.5cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;          
+		&lt;rotate degrees=&quot;-20&quot;/&gt;                                                                         
+		&lt;translate dx=&quot;-15cm&quot; dy=&quot;6.5cm&quot;/&gt; 
+		
+		
+&lt;!--IF QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;11&quot;/&gt;
+		&lt;fill color=&quot;(1,1,1)&quot;/&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.53cm&quot;&gt;Datos del cliente:&lt;/drawString&gt;
+
+		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;26.05cm&quot;&gt;[idcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.6cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.15cm&quot;&gt;[cifcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.7cm&quot;&gt;[dircliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.25cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.8cm&quot;&gt;[telcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.35cm&quot;&gt;[mailcliente]&lt;/drawString&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.05cm&quot;&gt;Nº Cliente:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.6cm&quot;&gt;Nombre/Empresa:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.15cm&quot;&gt;NIF/CIF:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.7cm&quot;&gt;Dirección:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.25cm&quot;&gt;Población:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.8cm&quot;&gt;Teléfono:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.35cm&quot;&gt;Dirección Email:&lt;/drawString&gt;
+
+		&lt;!--Fecha factura--&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
+
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.95cm&quot;&gt;Fecha factura:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.5cm&quot;&gt;Nº factura:&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.95cm&quot;&gt;Referencia:&lt;/drawString&gt;
+
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.95cm&quot;&gt;[ffactura]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.5cm&quot;&gt;[codigoserie_factura] / [numfactura]&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.5cm&quot;&gt;[reffactura]&lt;/drawString&gt;
+
+		&lt;!-- INCLUDE FILE=&quot;[CONF_DIR_OPENREPORTS]plantilla_empresa.rml&quot; --&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;26.3cm&quot;&gt;- FACTURA -&lt;/drawCentredString&gt;
+
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;7&quot;/&gt;
+		&lt;drawString x=&quot;15cm&quot; y=&quot;22.7cm&quot;&gt;Los importes están expresados en euros.&lt;/drawString&gt;
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;25.85cm&quot;&gt;Forma de pago: &lt;!--QUERY=&quot;SELECT descforma_pago FROM forma_pago WHERE idforma_pago = [idforma_pago] LIMIT 1&quot;--&gt;[descforma_pago]&lt;!--END QUERY--&gt;&lt;/drawCentredString&gt;
+
+	&lt;/pageGraphics&gt;
+
+
+		&lt;!-- FRAME DE CONTENIDOS --&gt;
+		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;8cm&quot; width=&quot;19cm&quot; height=&quot;14.6cm&quot; /&gt;
+
+		
+	&lt;/pageTemplate&gt;
+
+&lt;/template&gt;
+
+&lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
+
+&lt;story&gt;	
+	&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;3.00cm, 8.5cm, 1.8cm, 2cm, 2.9cm&quot; splitByRow=&quot;2&quot; rowheights=&quot;2&quot; repeatRows=&quot;1&quot;&gt;
+		&lt;tr&gt;
+			&lt;td&gt;Codigo&lt;/td&gt;
+			&lt;td&gt;Concepto&lt;/td&gt;
+			&lt;td&gt;Unid:&lt;/td&gt;
+			&lt;td&gt;Precio/u:&lt;/td&gt;
+			&lt;td&gt;Subtotal s/iva:&lt;/td&gt;
+		&lt;/tr&gt;
+		[story codigocompletoarticulo, descfactura, cantfactura, pvpfactura, subtotalfactura]
+	
+&lt;!--IF DESCUENTOS--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Descuento/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;% Dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;Total dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+&lt;!--LINEAS DESCUENTO--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[conceptdfactura]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;[proporciondfactura]%&lt;/td&gt;
+			&lt;td&gt;[totaldescdfactura]&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END LINEAS DESCUENTO--&gt;
+&lt;!--END IF DESCUENTOS--&gt;
+
+
+&lt;!--IF QUERY=&quot;SELECT comentfactura FROM factura WHERE length(comentfactura) &gt; 0 AND idfactura = [idfactura]&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT comentfactura FROM factura WHERE length(comentfactura) &gt; 0 AND idfactura = [idfactura]&quot;--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Comentario/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[comentfactura]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+	&lt;/blockTable&gt;
+
+	
+	&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;20cm&quot; height=&quot;1cm&quot;&gt;
+		&lt;place x=&quot;1cm&quot; y=&quot;4cm&quot; width=&quot;19cm&quot; height=&quot;4cm&quot;&gt;
+			&lt;blockTable style=&quot;total&quot; colWidths=&quot;16.3cm,2.7cm&quot; &gt;
+				&lt;tr&gt;
+					&lt;td colspan=&quot;2&quot;&gt;
+						&lt;blockTable style=&quot;titulo&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm, 2.7cm&quot;&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Base Imponible:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;I.V.A.%:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Tot I.V.A.:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Total:&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;contenido&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm&quot; &gt;
+						&lt;!--TOTALES--&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[bimp]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[tbimp]%&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[iva]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;!--END TOTALES--&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;preciofinal&quot; colWidths=&quot;2.7cm&quot; &gt;
+							&lt;tr&gt;
+								&lt;td&gt;[total] &#8364;&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;/blockTable&gt;
+		&lt;/place&gt;
+	&lt;/storyPlace&gt;
+
+&lt;!-- storyPlace x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
+&lt;place x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
+&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;ALB [idfactura] [numfactura] [reffactura]&lt;/barCode&gt;
+&lt;/place&gt;
+&lt;/storyPlace --&gt;
+
+
+&lt;/story&gt;
+&lt;/document&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/ca/impers_factura_grafica.rml b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/ca/impers_factura_grafica.rml
new file mode 100644
index 0000000..d669ae7
--- /dev/null
+++ b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/ca/impers_factura_grafica.rml
@@ -0,0 +1,257 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot; ?&gt;
+&lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
+&lt;document&gt;
+&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Factura con estadisticas&quot; author=&quot;&quot;&gt;
+	&lt;pageTemplate id=&quot;main&quot;&gt;
+		&lt;pageGraphics&gt;
+		&lt;include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/&gt;
+
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
+		
+		
+&lt;!--IF QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;11&quot;/&gt;
+		&lt;fill color=&quot;(1,1,1)&quot;/&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.53cm&quot;&gt;Datos del cliente:&lt;/drawString&gt;
+
+		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;26.05cm&quot;&gt;[idcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.6cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.15cm&quot;&gt;[cifcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.7cm&quot;&gt;[dircliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.25cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.8cm&quot;&gt;[telcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.35cm&quot;&gt;[mailcliente]&lt;/drawString&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.05cm&quot;&gt;Nº Cliente:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.6cm&quot;&gt;Nombre/Empresa:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.15cm&quot;&gt;NIF/CIF:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.7cm&quot;&gt;Dirección:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.25cm&quot;&gt;Población:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.8cm&quot;&gt;Teléfono:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.35cm&quot;&gt;Dirección Email:&lt;/drawString&gt;
+
+		&lt;!--Fecha factura--&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
+
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.95cm&quot;&gt;Fecha factura:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.5cm&quot;&gt;Nº factura:&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.95cm&quot;&gt;Referencia:&lt;/drawString&gt;
+
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.95cm&quot;&gt;[ffactura]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.5cm&quot;&gt;[codigoserie_factura] / [numfactura]&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.5cm&quot;&gt;[reffactura]&lt;/drawString&gt;
+
+		&lt;!-- INCLUDE FILE=&quot;[CONF_DIR_OPENREPORTS]plantilla_empresa.rml&quot; --&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;26.3cm&quot;&gt;- FACTURA -&lt;/drawCentredString&gt;
+
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;7&quot;/&gt;
+		&lt;drawString x=&quot;15cm&quot; y=&quot;22.7cm&quot;&gt;Los importes están expresados en euros.&lt;/drawString&gt;
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;25.85cm&quot;&gt;Forma de pago: &lt;!--QUERY=&quot;SELECT descforma_pago FROM forma_pago WHERE idforma_pago = [idforma_pago] LIMIT 1&quot;--&gt;[descforma_pago]&lt;!--END QUERY--&gt;&lt;/drawCentredString&gt;
+
+	&lt;/pageGraphics&gt;
+
+
+		&lt;!-- FRAME DE CONTENIDOS --&gt;
+		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;8cm&quot; width=&quot;19cm&quot; height=&quot;14.6cm&quot; /&gt;
+
+		
+	&lt;/pageTemplate&gt;
+
+&lt;/template&gt;
+
+&lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
+
+&lt;story&gt;	
+	&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;3.00cm, 8.5cm, 1.8cm, 2cm, 2.9cm&quot; splitByRow=&quot;2&quot; rowheights=&quot;2&quot; repeatRows=&quot;1&quot;&gt;
+		&lt;tr&gt;
+			&lt;td&gt;Codigo&lt;/td&gt;
+			&lt;td&gt;Concepto&lt;/td&gt;
+			&lt;td&gt;Unid:&lt;/td&gt;
+			&lt;td&gt;Precio/u:&lt;/td&gt;
+			&lt;td&gt;Subtotal s/iva:&lt;/td&gt;
+		&lt;/tr&gt;
+		[story codigocompletoarticulo, descfactura, cantfactura, pvpfactura, subtotalfactura]
+	
+&lt;!--IF DESCUENTOS--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Descuento/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;% Dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;Total dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+&lt;!--LINEAS DESCUENTO--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[conceptdfactura]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;[proporciondfactura]%&lt;/td&gt;
+			&lt;td&gt;[totaldescdfactura]&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END LINEAS DESCUENTO--&gt;
+&lt;!--END IF DESCUENTOS--&gt;
+
+
+&lt;!--IF QUERY=&quot;SELECT comentfactura FROM factura WHERE length(comentfactura) &gt; 0 AND idfactura = [idfactura]&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT comentfactura FROM factura WHERE length(comentfactura) &gt; 0 AND idfactura = [idfactura]&quot;--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Comentario/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[comentfactura]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+	&lt;/blockTable&gt;
+
+	
+	&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;20cm&quot; height=&quot;1cm&quot;&gt;
+		&lt;place x=&quot;1cm&quot; y=&quot;4cm&quot; width=&quot;19cm&quot; height=&quot;4cm&quot;&gt;
+			&lt;blockTable style=&quot;total&quot; colWidths=&quot;16.3cm,2.7cm&quot; &gt;
+				&lt;tr&gt;
+					&lt;td colspan=&quot;2&quot;&gt;
+						&lt;blockTable style=&quot;titulo&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm, 2.7cm&quot;&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Base Imponible:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;I.V.A.%:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Tot I.V.A.:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Total:&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;contenido&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm&quot; &gt;
+						&lt;!--TOTALES--&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[bimp]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[tbimp]%&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[iva]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;!--END TOTALES--&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;preciofinal&quot; colWidths=&quot;2.7cm&quot; &gt;
+							&lt;tr&gt;
+								&lt;td&gt;[total] &#8364;&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;/blockTable&gt;
+		&lt;/place&gt;
+	&lt;/storyPlace&gt;
+
+
+&lt;storyPlace x=&quot;1cm&quot; y=&quot;1cm&quot; width=&quot;5cm&quot; height=&quot;5cm&quot;&gt;
+&lt;!-- place x=&quot;0cm&quot; y=&quot;-1cm&quot; width=&quot;5cm&quot; height=&quot;5cm&quot;&gt;
+&lt;illustration width=&quot;5cm&quot; height=&quot;4cm&quot; --&gt;
+  
+&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+&lt;drawString x=&quot;3cm&quot; y=&quot;5.5cm&quot;&gt;Facturacion del 2011&lt;/drawString&gt;
+&lt;barChart x=&quot;2cm&quot; y=&quot;1cm&quot; width=&quot;7cm&quot; height=&quot;3cm&quot;&gt;               
+
+&lt;!--QUERY=&quot;select '01/01/2011'::date as fin,  '31/01/2011'::date as fout 
+union select '01/02/2011'::date, '28/02/2011'::date 
+union select '01/03/2011'::date, '31/03/2011'::date
+union select '01/04/2011'::date, '30/04/2011'::date
+union select '01/05/2011'::date, '31/05/2011'::date
+union select '01/06/2011'::date, '30/06/2011'::date
+union select '01/07/2011'::date, '31/07/2011'::date
+union select '01/08/2011'::date, '31/08/2011'::date
+union select '01/09/2011'::date, '30/09/2011'::date
+union select '01/10/2011'::date, '31/10/2011'::date
+union select '01/11/2011'::date, '30/11/2011'::date
+union select '01/12/2011'::date, '31/12/2011'::date
+union select '01/01/2010'::date, '31/01/2010'::date 
+union select '01/02/2010'::date, '28/02/2010'::date 
+union select '01/03/2010'::date, '31/03/2010'::date
+union select '01/04/2010'::date, '30/04/2010'::date
+union select '01/05/2010'::date, '31/05/2010'::date
+union select '01/06/2010'::date, '30/06/2010'::date
+union select '01/07/2010'::date, '31/07/2010'::date
+union select '01/08/2010'::date, '31/08/2010'::date
+union select '01/09/2010'::date, '30/09/2010'::date
+union select '01/10/2010'::date, '31/10/2010'::date
+union select '01/11/2010'::date, '30/11/2010'::date
+union select '01/12/2010'::date, '31/12/2010'::date
+ORDER BY fin&quot;--&gt;
+
+&lt;!--IF SUBQUERY=&quot;SELECT COALESCE(sum(totalfactura),0) AS totalr FROM factura WHERE idcliente=[idcliente] AND ffactura &gt;= '[fin]'::date AND ffactura &lt;= '[fout]'::date&quot;--&gt;
+&lt;!-- SUBQUERY=&quot;SELECT COALESCE(sum(totalfactura),0) AS totalr FROM factura WHERE idcliente=[idcliente] AND ffactura &gt;= '[fin]'::date AND ffactura &lt;= '[fout]'::date&quot;--&gt;
+&lt;categorie color=&quot;(1,0.4,0.6)&quot;&gt;[fin] - [fout]&lt;/categorie&gt;
+&lt;data&gt;[totalr]&lt;/data&gt;
+&lt;!-- END SUBQUERY--&gt;
+
+&lt;!--END IF SUBQUERY--&gt;
+&lt;!--END QUERY--&gt;
+
+&lt;/barChart&gt;  
+&lt;!-- /illustration&gt;
+&lt;/place --&gt;
+&lt;/storyPlace&gt;
+
+&lt;!-- storyPlace x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
+&lt;place x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
+&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;ALB [idfactura] [numfactura] [reffactura]&lt;/barCode&gt;
+&lt;/place&gt;
+&lt;/storyPlace --&gt;
+
+
+&lt;/story&gt;
+&lt;/document&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/ca/impers_factura_pagada.rml b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/ca/impers_factura_pagada.rml
new file mode 100644
index 0000000..413f675
--- /dev/null
+++ b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/ca/impers_factura_pagada.rml
@@ -0,0 +1,219 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot; ?&gt;
+&lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
+&lt;document&gt;
+&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Factura Pagada&quot; author=&quot;&quot;&gt;
+	&lt;pageTemplate id=&quot;main&quot;&gt;
+		&lt;pageGraphics&gt;
+		&lt;include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/&gt;
+
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
+
+		&lt;!-- PAGADA --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;34&quot;/&gt;
+		&lt;fill color=&quot;(1,0.3,0.3)&quot;/&gt;
+		&lt;stroke color=&quot;(1,0.3,0.3)&quot;/&gt;
+		&lt;translate dx=&quot;15cm&quot; dy=&quot;-6.5cm&quot;/&gt;
+		&lt;rotate degrees=&quot;20&quot;/&gt;                                                                          
+		&lt;drawString x=&quot;25mm&quot; y=&quot;15.8cm&quot;&gt;PAGADO&lt;/drawString&gt;                                           
+		&lt;lineMode width=&quot;2mm&quot;/&gt;                                                                         
+		&lt;rect round=&quot;1cm&quot; x=&quot;17.5mm&quot; y=&quot;15cm&quot; width=&quot;6.5cm&quot; height=&quot;2.5cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;          
+		&lt;rotate degrees=&quot;-20&quot;/&gt;                                                                         
+		&lt;translate dx=&quot;-15cm&quot; dy=&quot;6.5cm&quot;/&gt; 
+		
+		
+&lt;!--IF QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;11&quot;/&gt;
+		&lt;fill color=&quot;(1,1,1)&quot;/&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.53cm&quot;&gt;Datos del cliente:&lt;/drawString&gt;
+
+		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;26.05cm&quot;&gt;[idcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.6cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.15cm&quot;&gt;[cifcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.7cm&quot;&gt;[dircliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.25cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.8cm&quot;&gt;[telcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.35cm&quot;&gt;[mailcliente]&lt;/drawString&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.05cm&quot;&gt;Nº Cliente:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.6cm&quot;&gt;Nombre/Empresa:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.15cm&quot;&gt;NIF/CIF:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.7cm&quot;&gt;Dirección:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.25cm&quot;&gt;Población:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.8cm&quot;&gt;Teléfono:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.35cm&quot;&gt;Dirección Email:&lt;/drawString&gt;
+
+		&lt;!--Fecha factura--&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
+
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.95cm&quot;&gt;Fecha factura:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.5cm&quot;&gt;Nº factura:&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.95cm&quot;&gt;Referencia:&lt;/drawString&gt;
+
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.95cm&quot;&gt;[ffactura]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.5cm&quot;&gt;[codigoserie_factura] / [numfactura]&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.5cm&quot;&gt;[reffactura]&lt;/drawString&gt;
+
+		&lt;!-- INCLUDE FILE=&quot;[CONF_DIR_OPENREPORTS]plantilla_empresa.rml&quot; --&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;26.3cm&quot;&gt;- FACTURA -&lt;/drawCentredString&gt;
+
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;7&quot;/&gt;
+		&lt;drawString x=&quot;15cm&quot; y=&quot;22.7cm&quot;&gt;Los importes están expresados en euros.&lt;/drawString&gt;
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;25.85cm&quot;&gt;Forma de pago: &lt;!--QUERY=&quot;SELECT descforma_pago FROM forma_pago WHERE idforma_pago = [idforma_pago] LIMIT 1&quot;--&gt;[descforma_pago]&lt;!--END QUERY--&gt;&lt;/drawCentredString&gt;
+
+	&lt;/pageGraphics&gt;
+
+
+		&lt;!-- FRAME DE CONTENIDOS --&gt;
+		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;8cm&quot; width=&quot;19cm&quot; height=&quot;14.6cm&quot; /&gt;
+
+		
+	&lt;/pageTemplate&gt;
+
+&lt;/template&gt;
+
+&lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
+
+&lt;story&gt;	
+	&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;3.00cm, 8.5cm, 1.8cm, 2cm, 2.9cm&quot; splitByRow=&quot;2&quot; rowheights=&quot;2&quot; repeatRows=&quot;1&quot;&gt;
+		&lt;tr&gt;
+			&lt;td&gt;Codigo&lt;/td&gt;
+			&lt;td&gt;Concepto&lt;/td&gt;
+			&lt;td&gt;Unid:&lt;/td&gt;
+			&lt;td&gt;Precio/u:&lt;/td&gt;
+			&lt;td&gt;Subtotal s/iva:&lt;/td&gt;
+		&lt;/tr&gt;
+		[story codigocompletoarticulo, descfactura, cantfactura, pvpfactura, subtotalfactura]
+	
+&lt;!--IF DESCUENTOS--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Descuento/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;% Dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;Total dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+&lt;!--LINEAS DESCUENTO--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[conceptdfactura]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;[proporciondfactura]%&lt;/td&gt;
+			&lt;td&gt;[totaldescdfactura]&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END LINEAS DESCUENTO--&gt;
+&lt;!--END IF DESCUENTOS--&gt;
+
+
+&lt;!--IF QUERY=&quot;SELECT comentfactura FROM factura WHERE length(comentfactura) &gt; 0 AND idfactura = [idfactura]&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT comentfactura FROM factura WHERE length(comentfactura) &gt; 0 AND idfactura = [idfactura]&quot;--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Comentario/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[comentfactura]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+	&lt;/blockTable&gt;
+
+	
+	&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;20cm&quot; height=&quot;1cm&quot;&gt;
+		&lt;place x=&quot;1cm&quot; y=&quot;4cm&quot; width=&quot;19cm&quot; height=&quot;4cm&quot;&gt;
+			&lt;blockTable style=&quot;total&quot; colWidths=&quot;16.3cm,2.7cm&quot; &gt;
+				&lt;tr&gt;
+					&lt;td colspan=&quot;2&quot;&gt;
+						&lt;blockTable style=&quot;titulo&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm, 2.7cm&quot;&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Base Imponible:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;I.V.A.%:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Tot I.V.A.:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Total:&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;contenido&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm&quot; &gt;
+						&lt;!--TOTALES--&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[bimp]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[tbimp]%&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[iva]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;!--END TOTALES--&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;preciofinal&quot; colWidths=&quot;2.7cm&quot; &gt;
+							&lt;tr&gt;
+								&lt;td&gt;[total] &#8364;&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;/blockTable&gt;
+		&lt;/place&gt;
+	&lt;/storyPlace&gt;
+
+&lt;!-- storyPlace x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
+&lt;place x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
+&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;ALB [idfactura] [numfactura] [reffactura]&lt;/barCode&gt;
+&lt;/place&gt;
+&lt;/storyPlace --&gt;
+
+
+&lt;/story&gt;
+&lt;/document&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/en/factura.rml b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/en/factura.rml
index fac08ba..6d8273e 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/en/factura.rml
+++ b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/en/factura.rml
@@ -1,144 +1,224 @@
-&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot; ?&gt;
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot; ?&gt;
 &lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
 &lt;document&gt;
-&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Factura&quot; author=&quot;Tomeu Borras&quot; allowSplitting=&quot;20&quot;&gt;
+&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Factura&quot; author=&quot;&quot;&gt;
 	&lt;pageTemplate id=&quot;main&quot;&gt;
 		&lt;pageGraphics&gt;
-		&lt;!-- include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/ --&gt;
-
-		&lt;!-- INCLUDE FILE=&quot;[CONF_DIR_OPENREPORTS]plantilla1.rml&quot; --&gt;
-
+		&lt;include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/&gt;
 
 		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
 		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;22&quot;/&gt;
-		&lt;drawString x=&quot;1.5cm&quot; y=&quot;24.5cm&quot;&gt;FACTURA&lt;/drawString&gt;
+		
+&lt;!--IF QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
 
-&lt;!--IF QUERY=&quot;SELECT * FROM CLIENTE WHERE idcliente = [idcliente]&quot;--&gt;
-&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente=[idcliente]&quot;--&gt;
-		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;24cm&quot;&gt;[nomcliente] -- [telcliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23.5cm&quot;&gt;[dircliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;11&quot;/&gt;
+		&lt;fill color=&quot;(1,1,1)&quot;/&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.53cm&quot;&gt;Datos del cliente:&lt;/drawString&gt;
 
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
+		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;26.05cm&quot;&gt;[idcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.6cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.15cm&quot;&gt;[cifcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.7cm&quot;&gt;[dircliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.25cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.8cm&quot;&gt;[telcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.35cm&quot;&gt;[mailcliente]&lt;/drawString&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
 		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
-		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;drawCentredString x=&quot;5.5cm&quot; y=&quot;21.2cm&quot;&gt;NIF&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;8.5cm&quot; y=&quot;21.2cm&quot;&gt;Cliente&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;11.5cm&quot; y=&quot;21.2cm&quot;&gt;Fecha&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;14.5cm&quot; y=&quot;21.2cm&quot;&gt;N. Fact&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;17.5cm&quot; y=&quot;21.2cm&quot;&gt;Ref&lt;/drawCentredString&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawCentredString x=&quot;5.5cm&quot; y=&quot;20.4cm&quot;&gt;[cifcliente]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;8.5cm&quot; y=&quot;20.4cm&quot;&gt;[idcliente]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;11.5cm&quot; y=&quot;20.4cm&quot;&gt;[ffactura]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;14.5cm&quot; y=&quot;20.4cm&quot;&gt;[codigoserie_factura]-[numfactura]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;17.5cm&quot; y=&quot;20.4cm&quot;&gt;[reffactura]&lt;/drawCentredString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.05cm&quot;&gt;Nº Cliente:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.6cm&quot;&gt;Nombre/Empresa:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.15cm&quot;&gt;NIF/CIF:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.7cm&quot;&gt;Dirección:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.25cm&quot;&gt;Población:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.8cm&quot;&gt;Teléfono:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.35cm&quot;&gt;Dirección Email:&lt;/drawString&gt;
+
+		&lt;!--Fecha factura--&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
+
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.95cm&quot;&gt;Fecha factura:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.5cm&quot;&gt;Nº factura:&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.95cm&quot;&gt;Referencia:&lt;/drawString&gt;
+
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.95cm&quot;&gt;[ffactura]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.5cm&quot;&gt;[codigoserie_factura] / [numfactura]&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.5cm&quot;&gt;[reffactura]&lt;/drawString&gt;
+
+		&lt;!-- INCLUDE FILE=&quot;[CONF_DIR_OPENREPORTS]plantilla_empresa.rml&quot; --&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;26.3cm&quot;&gt;- FACTURA -&lt;/drawCentredString&gt;
+
 &lt;!--END QUERY--&gt;
 &lt;!--END IF QUERY--&gt;
-		&lt;/pageGraphics&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;7&quot;/&gt;
+		&lt;drawString x=&quot;15cm&quot; y=&quot;22.7cm&quot;&gt;Los importes están expresados en euros.&lt;/drawString&gt;
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;25.85cm&quot;&gt;Forma de pago: &lt;!--QUERY=&quot;SELECT descforma_pago FROM forma_pago WHERE idforma_pago = [idforma_pago] LIMIT 1&quot;--&gt;[descforma_pago]&lt;!--END QUERY--&gt;&lt;/drawCentredString&gt;
+
+	&lt;/pageGraphics&gt;
+
+
 		&lt;!-- FRAME DE CONTENIDOS --&gt;
-		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;5cm&quot; width=&quot;19cm&quot; height=&quot;15cm&quot;/&gt;
+		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;8cm&quot; width=&quot;19cm&quot; height=&quot;14.6cm&quot; /&gt;
+
+		
 	&lt;/pageTemplate&gt;
 
 &lt;/template&gt;
 
-
 &lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
 
-&lt;story&gt;
-&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;1.75cm, 8.55cm, 1.2cm, 1.7cm, 1.8cm, 2.25cm&quot; repeatRows=&quot;1&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;Codigo&lt;/td&gt;
-&lt;td&gt;Concepto&lt;/td&gt;
-&lt;td&gt;Und&lt;/td&gt;
-&lt;td&gt;Precio&lt;/td&gt;
-&lt;td&gt;Dto&lt;/td&gt;
-&lt;td&gt;Total&lt;/td&gt;
-&lt;/tr&gt;
+&lt;story&gt;	
+	&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;3.00cm, 8.5cm, 1.8cm, 2cm, 2.9cm&quot; splitByRow=&quot;2&quot; rowheights=&quot;2&quot; repeatRows=&quot;1&quot;&gt;
+		&lt;tr&gt;
+			&lt;td&gt;Codigo&lt;/td&gt;
+			&lt;td&gt;Concepto&lt;/td&gt;
+			&lt;td&gt;Unid:&lt;/td&gt;
+			&lt;td&gt;Precio/u:&lt;/td&gt;
+			&lt;td&gt;Subtotal s/iva:&lt;/td&gt;
+		&lt;/tr&gt;
 &lt;!--LINEAS DETALLE--&gt;
 &lt;tr&gt;
 &lt;td&gt;[codigocompletoarticulo]&lt;/td&gt;
 &lt;td&gt;[desclfactura]&lt;/td&gt;
 &lt;td&gt;[cantlfactura]&lt;/td&gt;
 &lt;td&gt;[pvplfactura]&lt;/td&gt;
-&lt;td&gt;[descuentolfactura]%&lt;/td&gt;
 &lt;td&gt;[totallfactura]&lt;/td&gt;
 &lt;/tr&gt;
 &lt;!--END LINEAS DETALLE--&gt;
-&lt;/blockTable&gt;
-
-&lt;blockTable colWidths=&quot;1.75cm, 8.55cm, 1.2cm, 1.7cm, 1.8cm, 2.25cm&quot; repeatRows=&quot;1&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;[comentfactura]&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/blockTable&gt;
-
-
-
+	
 &lt;!--IF DESCUENTOS--&gt;
-&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
-	&lt;place x=&quot;4cm&quot; y=&quot;3.5cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;blockTable style=&quot;tabladescuento&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt; Descuento&lt;/td&gt;
-&lt;td&gt; Porcentaje&lt;/td&gt;
-&lt;td&gt; Total &lt;/td&gt;
-&lt;/tr&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Descuento/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;% Dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;Total dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
 &lt;!--LINEAS DESCUENTO--&gt;
-&lt;tr&gt;
-	&lt;td&gt;[conceptdfactura]&lt;/td&gt;
-	&lt;td&gt;[proporciondfactura]%&lt;/td&gt;
-	&lt;td&gt;[totaldescdfactura]&lt;/td&gt;
-&lt;/tr&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[conceptdfactura]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;[proporciondfactura]%&lt;/td&gt;
+			&lt;td&gt;[totaldescdfactura]&lt;/td&gt;
+		&lt;/tr&gt;
 &lt;!--END LINEAS DESCUENTO--&gt;
-&lt;/blockTable&gt;
-&lt;/place&gt;
-&lt;/storyPlace&gt;
 &lt;!--END IF DESCUENTOS--&gt;
 
-&lt;storyPlace x=&quot;2cm&quot; y=&quot;0cm&quot; width=&quot;19cm&quot; height=&quot;2cm&quot;&gt;
-&lt;place x=&quot;2cm&quot; y=&quot;0.5cm&quot; width=&quot;19cm&quot; height=&quot;4.5cm&quot;&gt;
-&lt;blockTable colWidths=&quot;7cm, 7cm&quot;&gt;
-&lt;!--TOTALES--&gt;
-&lt;tr&gt;
-&lt;td&gt;&lt;para&gt;Base Imponible [tbimp]%: &lt;font color=&quot;blue&quot;&gt;[bimp]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;I.V.A. [tbimp]%:  &lt;font color=&quot;blue&quot;&gt;[iva]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;!--END TOTALES--&gt;
-
-&lt;!--TOTREQ--&gt;
-&lt;tr&gt;
-&lt;td colspan=&quot;2&quot;&gt;&lt;para&gt;R.Eq. [tre]%: &lt;font color=&quot;blue&quot;&gt;[re]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;!--END TOTREQ--&gt;
-&lt;/blockTable&gt;
-
 
-&lt;blockTable&gt;
-&lt;tr&gt;
-&lt;!-- td&gt;&lt;para&gt;Total Descuentos &lt;font color=&quot;blue&quot;&gt;[totaldesc]&lt;/font&gt;&lt;/para&gt;&lt;/td--&gt;
-&lt;td&gt;&lt;para&gt;Total Base Imponible &lt;font color=&quot;blue&quot;&gt;[totalbimp]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;Total I.V.A &lt;font color=&quot;blue&quot;&gt;[totaliva]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;Total R.Eq &lt;font color=&quot;blue&quot;&gt;[totalre]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;&lt;b&gt;&lt;font size=&quot;15&quot;&gt; Total &lt;font color=&quot;blue&quot;&gt;[total]&lt;/font&gt;&lt;/font&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/blockTable&gt;
-&lt;/place&gt;
-&lt;/storyPlace&gt;
+&lt;!--IF QUERY=&quot;SELECT comentfactura FROM factura WHERE length(comentfactura) &gt; 0 AND idfactura = [idfactura]&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT comentfactura FROM factura WHERE length(comentfactura) &gt; 0 AND idfactura = [idfactura]&quot;--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Comentario/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[comentfactura]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
 
+	&lt;/blockTable&gt;
+
+	
+	&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;20cm&quot; height=&quot;1cm&quot;&gt;
+		&lt;place x=&quot;1cm&quot; y=&quot;4cm&quot; width=&quot;19cm&quot; height=&quot;4cm&quot;&gt;
+			&lt;blockTable style=&quot;total&quot; colWidths=&quot;16.3cm,2.7cm&quot; &gt;
+				&lt;tr&gt;
+					&lt;td colspan=&quot;2&quot;&gt;
+						&lt;blockTable style=&quot;titulo&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm, 2.7cm&quot;&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Base Imponible:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;I.V.A.%:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Tot I.V.A.:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Total:&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;contenido&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm&quot; &gt;
+						&lt;!--TOTALES--&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[bimp]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[tbimp]%&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[iva]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;!--END TOTALES--&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;preciofinal&quot; colWidths=&quot;2.7cm&quot; &gt;
+							&lt;tr&gt;
+								&lt;td&gt;[total] &#8364;&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;/blockTable&gt;
+		&lt;/place&gt;
+	&lt;/storyPlace&gt;
 
 &lt;!-- storyPlace x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
 &lt;place x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;FACT [idfactura] [numfactura] [reffactura]&lt;/barCode&gt;
+&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;ALB [idfactura] [numfactura] [reffactura]&lt;/barCode&gt;
 &lt;/place&gt;
 &lt;/storyPlace --&gt;
+
+
+&lt;!-- QUERY = &quot;SELECT * FROM factura WHERE idfactura=[idfactura] AND idforma_pago = 8 &quot;--&gt;
+
+&lt;storyPlace x=&quot;1cm&quot; y=&quot;2cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
+&lt;place x=&quot;1cm&quot; y=&quot;2cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
+  &lt;para&gt;Para transferencias bancarias &quot;La Caixa&quot; 2100 0650 44 0200224097&lt;/para&gt;
+&lt;/place&gt;
+&lt;/storyPlace&gt;
+
+&lt;!-- END QUERY --&gt;
+
 &lt;/story&gt;
 &lt;/document&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/en/factura_alternativa1.rml b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/en/factura_alternativa1.rml
deleted file mode 100644
index 61226a2..0000000
--- a/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/en/factura_alternativa1.rml
+++ /dev/null
@@ -1,86 +0,0 @@
-&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot; ?&gt;
-&lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
-&lt;document&gt;
-&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Factura&quot; author=&quot;Tomeu Borras&quot; allowSplitting=&quot;20&quot;&gt;
-	&lt;pageTemplate id=&quot;main&quot;&gt;
-		&lt;pageGraphics&gt;
-		&lt;include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/&gt;
-
-		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
-		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;22&quot;/&gt;
-		&lt;drawString x=&quot;1.5cm&quot; y=&quot;24.5cm&quot;&gt;FACTURA&lt;/drawString&gt;
-
-		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;24cm&quot;&gt;[nomcliente] -- [telcliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23.5cm&quot;&gt;[dircliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
-
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
-		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;drawCentredString x=&quot;5.5cm&quot; y=&quot;21.2cm&quot;&gt;NIF&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;8.5cm&quot; y=&quot;21.2cm&quot;&gt;Cliente&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;11.5cm&quot; y=&quot;21.2cm&quot;&gt;Fecha&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;14.5cm&quot; y=&quot;21.2cm&quot;&gt;N. Fact&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;17.5cm&quot; y=&quot;21.2cm&quot;&gt;Ref&lt;/drawCentredString&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawCentredString x=&quot;5.5cm&quot; y=&quot;20.4cm&quot;&gt;[cifcliente]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;8.5cm&quot; y=&quot;20.4cm&quot;&gt;[idcliente]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;11.5cm&quot; y=&quot;20.4cm&quot;&gt;[ffactura]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;14.5cm&quot; y=&quot;20.4cm&quot;&gt;[codigoserie_factura]-[numfactura]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;17.5cm&quot; y=&quot;20.4cm&quot;&gt;[reffactura]&lt;/drawCentredString&gt;
-		&lt;/pageGraphics&gt;
-		&lt;!-- FRAME DE CONTENIDOS --&gt;
-		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;5cm&quot; width=&quot;19cm&quot; height=&quot;15cm&quot;/&gt;
-	&lt;/pageTemplate&gt;
-
-&lt;/template&gt;
-
-
-&lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
-
-&lt;story&gt;
-&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;1.75cm, 8.55cm, 1.2cm, 1.7cm, 1.8cm, 2.25cm&quot; repeatRows=&quot;1&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;Codigo&lt;/td&gt;
-&lt;td&gt;Concepto&lt;/td&gt;
-&lt;td&gt;Und&lt;/td&gt;
-&lt;td&gt;Precio&lt;/td&gt;
-&lt;td&gt;Dto&lt;/td&gt;
-&lt;td&gt;Total&lt;/td&gt;
-&lt;/tr&gt;
-[story]
-&lt;/blockTable&gt;
-
-&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
-	&lt;place x=&quot;4cm&quot; y=&quot;3.5cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;blockTable&gt;
-&lt;tr&gt;
-&lt;td align=&quot;right&quot;&gt;
-	[descuentos]
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/blockTable&gt;
-&lt;/place&gt;
-&lt;/storyPlace&gt;
-
-&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
-&lt;place x=&quot;12cm&quot; y=&quot;2cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;blockTable&gt;
-&lt;tr&gt;
-&lt;td align=&quot;right&quot;&gt;
-	[totales]
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/blockTable&gt;
-&lt;/place&gt;
-&lt;/storyPlace&gt;
-&lt;!-- storyPlace x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
-&lt;place x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;FACT [idfactura] [numfactura] [reffactura]&lt;/barCode&gt;
-&lt;/place&gt;
-&lt;/storyPlace --&gt;
-&lt;/story&gt;
-&lt;/document&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/en/impers_factura_copia.rml b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/en/impers_factura_copia.rml
new file mode 100644
index 0000000..57cc5fc
--- /dev/null
+++ b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/en/impers_factura_copia.rml
@@ -0,0 +1,219 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot; ?&gt;
+&lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
+&lt;document&gt;
+&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Copia Factura&quot; author=&quot;&quot;&gt;
+	&lt;pageTemplate id=&quot;main&quot;&gt;
+		&lt;pageGraphics&gt;
+		&lt;include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/&gt;
+
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
+
+		&lt;!-- PAGADA --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;34&quot;/&gt;
+		&lt;fill color=&quot;(1,0.3,0.3)&quot;/&gt;
+		&lt;stroke color=&quot;(1,0.3,0.3)&quot;/&gt;
+		&lt;translate dx=&quot;15cm&quot; dy=&quot;-6.5cm&quot;/&gt;
+		&lt;rotate degrees=&quot;20&quot;/&gt;                                                                          
+		&lt;drawString x=&quot;25mm&quot; y=&quot;15.8cm&quot;&gt;ES COPIA&lt;/drawString&gt;                                           
+		&lt;lineMode width=&quot;2mm&quot;/&gt;                                                                         
+		&lt;rect round=&quot;1cm&quot; x=&quot;17.5mm&quot; y=&quot;15cm&quot; width=&quot;6.9cm&quot; height=&quot;2.5cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;          
+		&lt;rotate degrees=&quot;-20&quot;/&gt;                                                                         
+		&lt;translate dx=&quot;-15cm&quot; dy=&quot;6.5cm&quot;/&gt; 
+		
+		
+&lt;!--IF QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;11&quot;/&gt;
+		&lt;fill color=&quot;(1,1,1)&quot;/&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.53cm&quot;&gt;Datos del cliente:&lt;/drawString&gt;
+
+		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;26.05cm&quot;&gt;[idcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.6cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.15cm&quot;&gt;[cifcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.7cm&quot;&gt;[dircliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.25cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.8cm&quot;&gt;[telcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.35cm&quot;&gt;[mailcliente]&lt;/drawString&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.05cm&quot;&gt;Nº Cliente:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.6cm&quot;&gt;Nombre/Empresa:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.15cm&quot;&gt;NIF/CIF:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.7cm&quot;&gt;Dirección:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.25cm&quot;&gt;Población:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.8cm&quot;&gt;Teléfono:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.35cm&quot;&gt;Dirección Email:&lt;/drawString&gt;
+
+		&lt;!--Fecha factura--&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
+
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.95cm&quot;&gt;Fecha factura:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.5cm&quot;&gt;Nº factura:&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.95cm&quot;&gt;Referencia:&lt;/drawString&gt;
+
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.95cm&quot;&gt;[ffactura]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.5cm&quot;&gt;[codigoserie_factura] / [numfactura]&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.5cm&quot;&gt;[reffactura]&lt;/drawString&gt;
+
+		&lt;!-- INCLUDE FILE=&quot;[CONF_DIR_OPENREPORTS]plantilla_empresa.rml&quot; --&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;26.3cm&quot;&gt;- FACTURA -&lt;/drawCentredString&gt;
+
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;7&quot;/&gt;
+		&lt;drawString x=&quot;15cm&quot; y=&quot;22.7cm&quot;&gt;Los importes están expresados en euros.&lt;/drawString&gt;
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;25.85cm&quot;&gt;Forma de pago: &lt;!--QUERY=&quot;SELECT descforma_pago FROM forma_pago WHERE idforma_pago = [idforma_pago] LIMIT 1&quot;--&gt;[descforma_pago]&lt;!--END QUERY--&gt;&lt;/drawCentredString&gt;
+
+	&lt;/pageGraphics&gt;
+
+
+		&lt;!-- FRAME DE CONTENIDOS --&gt;
+		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;8cm&quot; width=&quot;19cm&quot; height=&quot;14.6cm&quot; /&gt;
+
+		
+	&lt;/pageTemplate&gt;
+
+&lt;/template&gt;
+
+&lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
+
+&lt;story&gt;	
+	&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;3.00cm, 8.5cm, 1.8cm, 2cm, 2.9cm&quot; splitByRow=&quot;2&quot; rowheights=&quot;2&quot; repeatRows=&quot;1&quot;&gt;
+		&lt;tr&gt;
+			&lt;td&gt;Codigo&lt;/td&gt;
+			&lt;td&gt;Concepto&lt;/td&gt;
+			&lt;td&gt;Unid:&lt;/td&gt;
+			&lt;td&gt;Precio/u:&lt;/td&gt;
+			&lt;td&gt;Subtotal s/iva:&lt;/td&gt;
+		&lt;/tr&gt;
+		[story codigocompletoarticulo, descfactura, cantfactura, pvpfactura, subtotalfactura]
+	
+&lt;!--IF DESCUENTOS--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Descuento/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;% Dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;Total dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+&lt;!--LINEAS DESCUENTO--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[conceptdfactura]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;[proporciondfactura]%&lt;/td&gt;
+			&lt;td&gt;[totaldescdfactura]&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END LINEAS DESCUENTO--&gt;
+&lt;!--END IF DESCUENTOS--&gt;
+
+
+&lt;!--IF QUERY=&quot;SELECT comentfactura FROM factura WHERE length(comentfactura) &gt; 0 AND idfactura = [idfactura]&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT comentfactura FROM factura WHERE length(comentfactura) &gt; 0 AND idfactura = [idfactura]&quot;--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Comentario/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[comentfactura]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+	&lt;/blockTable&gt;
+
+	
+	&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;20cm&quot; height=&quot;1cm&quot;&gt;
+		&lt;place x=&quot;1cm&quot; y=&quot;4cm&quot; width=&quot;19cm&quot; height=&quot;4cm&quot;&gt;
+			&lt;blockTable style=&quot;total&quot; colWidths=&quot;16.3cm,2.7cm&quot; &gt;
+				&lt;tr&gt;
+					&lt;td colspan=&quot;2&quot;&gt;
+						&lt;blockTable style=&quot;titulo&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm, 2.7cm&quot;&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Base Imponible:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;I.V.A.%:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Tot I.V.A.:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Total:&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;contenido&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm&quot; &gt;
+						&lt;!--TOTALES--&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[bimp]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[tbimp]%&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[iva]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;!--END TOTALES--&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;preciofinal&quot; colWidths=&quot;2.7cm&quot; &gt;
+							&lt;tr&gt;
+								&lt;td&gt;[total] &#8364;&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;/blockTable&gt;
+		&lt;/place&gt;
+	&lt;/storyPlace&gt;
+
+&lt;!-- storyPlace x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
+&lt;place x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
+&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;ALB [idfactura] [numfactura] [reffactura]&lt;/barCode&gt;
+&lt;/place&gt;
+&lt;/storyPlace --&gt;
+
+
+&lt;/story&gt;
+&lt;/document&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/en/impers_factura_grafica.rml b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/en/impers_factura_grafica.rml
new file mode 100644
index 0000000..d669ae7
--- /dev/null
+++ b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/en/impers_factura_grafica.rml
@@ -0,0 +1,257 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot; ?&gt;
+&lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
+&lt;document&gt;
+&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Factura con estadisticas&quot; author=&quot;&quot;&gt;
+	&lt;pageTemplate id=&quot;main&quot;&gt;
+		&lt;pageGraphics&gt;
+		&lt;include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/&gt;
+
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
+		
+		
+&lt;!--IF QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;11&quot;/&gt;
+		&lt;fill color=&quot;(1,1,1)&quot;/&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.53cm&quot;&gt;Datos del cliente:&lt;/drawString&gt;
+
+		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;26.05cm&quot;&gt;[idcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.6cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.15cm&quot;&gt;[cifcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.7cm&quot;&gt;[dircliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.25cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.8cm&quot;&gt;[telcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.35cm&quot;&gt;[mailcliente]&lt;/drawString&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.05cm&quot;&gt;Nº Cliente:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.6cm&quot;&gt;Nombre/Empresa:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.15cm&quot;&gt;NIF/CIF:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.7cm&quot;&gt;Dirección:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.25cm&quot;&gt;Población:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.8cm&quot;&gt;Teléfono:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.35cm&quot;&gt;Dirección Email:&lt;/drawString&gt;
+
+		&lt;!--Fecha factura--&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
+
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.95cm&quot;&gt;Fecha factura:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.5cm&quot;&gt;Nº factura:&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.95cm&quot;&gt;Referencia:&lt;/drawString&gt;
+
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.95cm&quot;&gt;[ffactura]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.5cm&quot;&gt;[codigoserie_factura] / [numfactura]&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.5cm&quot;&gt;[reffactura]&lt;/drawString&gt;
+
+		&lt;!-- INCLUDE FILE=&quot;[CONF_DIR_OPENREPORTS]plantilla_empresa.rml&quot; --&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;26.3cm&quot;&gt;- FACTURA -&lt;/drawCentredString&gt;
+
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;7&quot;/&gt;
+		&lt;drawString x=&quot;15cm&quot; y=&quot;22.7cm&quot;&gt;Los importes están expresados en euros.&lt;/drawString&gt;
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;25.85cm&quot;&gt;Forma de pago: &lt;!--QUERY=&quot;SELECT descforma_pago FROM forma_pago WHERE idforma_pago = [idforma_pago] LIMIT 1&quot;--&gt;[descforma_pago]&lt;!--END QUERY--&gt;&lt;/drawCentredString&gt;
+
+	&lt;/pageGraphics&gt;
+
+
+		&lt;!-- FRAME DE CONTENIDOS --&gt;
+		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;8cm&quot; width=&quot;19cm&quot; height=&quot;14.6cm&quot; /&gt;
+
+		
+	&lt;/pageTemplate&gt;
+
+&lt;/template&gt;
+
+&lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
+
+&lt;story&gt;	
+	&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;3.00cm, 8.5cm, 1.8cm, 2cm, 2.9cm&quot; splitByRow=&quot;2&quot; rowheights=&quot;2&quot; repeatRows=&quot;1&quot;&gt;
+		&lt;tr&gt;
+			&lt;td&gt;Codigo&lt;/td&gt;
+			&lt;td&gt;Concepto&lt;/td&gt;
+			&lt;td&gt;Unid:&lt;/td&gt;
+			&lt;td&gt;Precio/u:&lt;/td&gt;
+			&lt;td&gt;Subtotal s/iva:&lt;/td&gt;
+		&lt;/tr&gt;
+		[story codigocompletoarticulo, descfactura, cantfactura, pvpfactura, subtotalfactura]
+	
+&lt;!--IF DESCUENTOS--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Descuento/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;% Dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;Total dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+&lt;!--LINEAS DESCUENTO--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[conceptdfactura]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;[proporciondfactura]%&lt;/td&gt;
+			&lt;td&gt;[totaldescdfactura]&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END LINEAS DESCUENTO--&gt;
+&lt;!--END IF DESCUENTOS--&gt;
+
+
+&lt;!--IF QUERY=&quot;SELECT comentfactura FROM factura WHERE length(comentfactura) &gt; 0 AND idfactura = [idfactura]&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT comentfactura FROM factura WHERE length(comentfactura) &gt; 0 AND idfactura = [idfactura]&quot;--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Comentario/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[comentfactura]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+	&lt;/blockTable&gt;
+
+	
+	&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;20cm&quot; height=&quot;1cm&quot;&gt;
+		&lt;place x=&quot;1cm&quot; y=&quot;4cm&quot; width=&quot;19cm&quot; height=&quot;4cm&quot;&gt;
+			&lt;blockTable style=&quot;total&quot; colWidths=&quot;16.3cm,2.7cm&quot; &gt;
+				&lt;tr&gt;
+					&lt;td colspan=&quot;2&quot;&gt;
+						&lt;blockTable style=&quot;titulo&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm, 2.7cm&quot;&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Base Imponible:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;I.V.A.%:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Tot I.V.A.:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Total:&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;contenido&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm&quot; &gt;
+						&lt;!--TOTALES--&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[bimp]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[tbimp]%&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[iva]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;!--END TOTALES--&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;preciofinal&quot; colWidths=&quot;2.7cm&quot; &gt;
+							&lt;tr&gt;
+								&lt;td&gt;[total] &#8364;&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;/blockTable&gt;
+		&lt;/place&gt;
+	&lt;/storyPlace&gt;
+
+
+&lt;storyPlace x=&quot;1cm&quot; y=&quot;1cm&quot; width=&quot;5cm&quot; height=&quot;5cm&quot;&gt;
+&lt;!-- place x=&quot;0cm&quot; y=&quot;-1cm&quot; width=&quot;5cm&quot; height=&quot;5cm&quot;&gt;
+&lt;illustration width=&quot;5cm&quot; height=&quot;4cm&quot; --&gt;
+  
+&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+&lt;drawString x=&quot;3cm&quot; y=&quot;5.5cm&quot;&gt;Facturacion del 2011&lt;/drawString&gt;
+&lt;barChart x=&quot;2cm&quot; y=&quot;1cm&quot; width=&quot;7cm&quot; height=&quot;3cm&quot;&gt;               
+
+&lt;!--QUERY=&quot;select '01/01/2011'::date as fin,  '31/01/2011'::date as fout 
+union select '01/02/2011'::date, '28/02/2011'::date 
+union select '01/03/2011'::date, '31/03/2011'::date
+union select '01/04/2011'::date, '30/04/2011'::date
+union select '01/05/2011'::date, '31/05/2011'::date
+union select '01/06/2011'::date, '30/06/2011'::date
+union select '01/07/2011'::date, '31/07/2011'::date
+union select '01/08/2011'::date, '31/08/2011'::date
+union select '01/09/2011'::date, '30/09/2011'::date
+union select '01/10/2011'::date, '31/10/2011'::date
+union select '01/11/2011'::date, '30/11/2011'::date
+union select '01/12/2011'::date, '31/12/2011'::date
+union select '01/01/2010'::date, '31/01/2010'::date 
+union select '01/02/2010'::date, '28/02/2010'::date 
+union select '01/03/2010'::date, '31/03/2010'::date
+union select '01/04/2010'::date, '30/04/2010'::date
+union select '01/05/2010'::date, '31/05/2010'::date
+union select '01/06/2010'::date, '30/06/2010'::date
+union select '01/07/2010'::date, '31/07/2010'::date
+union select '01/08/2010'::date, '31/08/2010'::date
+union select '01/09/2010'::date, '30/09/2010'::date
+union select '01/10/2010'::date, '31/10/2010'::date
+union select '01/11/2010'::date, '30/11/2010'::date
+union select '01/12/2010'::date, '31/12/2010'::date
+ORDER BY fin&quot;--&gt;
+
+&lt;!--IF SUBQUERY=&quot;SELECT COALESCE(sum(totalfactura),0) AS totalr FROM factura WHERE idcliente=[idcliente] AND ffactura &gt;= '[fin]'::date AND ffactura &lt;= '[fout]'::date&quot;--&gt;
+&lt;!-- SUBQUERY=&quot;SELECT COALESCE(sum(totalfactura),0) AS totalr FROM factura WHERE idcliente=[idcliente] AND ffactura &gt;= '[fin]'::date AND ffactura &lt;= '[fout]'::date&quot;--&gt;
+&lt;categorie color=&quot;(1,0.4,0.6)&quot;&gt;[fin] - [fout]&lt;/categorie&gt;
+&lt;data&gt;[totalr]&lt;/data&gt;
+&lt;!-- END SUBQUERY--&gt;
+
+&lt;!--END IF SUBQUERY--&gt;
+&lt;!--END QUERY--&gt;
+
+&lt;/barChart&gt;  
+&lt;!-- /illustration&gt;
+&lt;/place --&gt;
+&lt;/storyPlace&gt;
+
+&lt;!-- storyPlace x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
+&lt;place x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
+&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;ALB [idfactura] [numfactura] [reffactura]&lt;/barCode&gt;
+&lt;/place&gt;
+&lt;/storyPlace --&gt;
+
+
+&lt;/story&gt;
+&lt;/document&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/en/impers_factura_pagada.rml b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/en/impers_factura_pagada.rml
new file mode 100644
index 0000000..413f675
--- /dev/null
+++ b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/en/impers_factura_pagada.rml
@@ -0,0 +1,219 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot; ?&gt;
+&lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
+&lt;document&gt;
+&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Factura Pagada&quot; author=&quot;&quot;&gt;
+	&lt;pageTemplate id=&quot;main&quot;&gt;
+		&lt;pageGraphics&gt;
+		&lt;include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/&gt;
+
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
+
+		&lt;!-- PAGADA --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;34&quot;/&gt;
+		&lt;fill color=&quot;(1,0.3,0.3)&quot;/&gt;
+		&lt;stroke color=&quot;(1,0.3,0.3)&quot;/&gt;
+		&lt;translate dx=&quot;15cm&quot; dy=&quot;-6.5cm&quot;/&gt;
+		&lt;rotate degrees=&quot;20&quot;/&gt;                                                                          
+		&lt;drawString x=&quot;25mm&quot; y=&quot;15.8cm&quot;&gt;PAGADO&lt;/drawString&gt;                                           
+		&lt;lineMode width=&quot;2mm&quot;/&gt;                                                                         
+		&lt;rect round=&quot;1cm&quot; x=&quot;17.5mm&quot; y=&quot;15cm&quot; width=&quot;6.5cm&quot; height=&quot;2.5cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;          
+		&lt;rotate degrees=&quot;-20&quot;/&gt;                                                                         
+		&lt;translate dx=&quot;-15cm&quot; dy=&quot;6.5cm&quot;/&gt; 
+		
+		
+&lt;!--IF QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;11&quot;/&gt;
+		&lt;fill color=&quot;(1,1,1)&quot;/&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.53cm&quot;&gt;Datos del cliente:&lt;/drawString&gt;
+
+		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;26.05cm&quot;&gt;[idcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.6cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.15cm&quot;&gt;[cifcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.7cm&quot;&gt;[dircliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.25cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.8cm&quot;&gt;[telcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.35cm&quot;&gt;[mailcliente]&lt;/drawString&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.05cm&quot;&gt;Nº Cliente:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.6cm&quot;&gt;Nombre/Empresa:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.15cm&quot;&gt;NIF/CIF:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.7cm&quot;&gt;Dirección:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.25cm&quot;&gt;Población:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.8cm&quot;&gt;Teléfono:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.35cm&quot;&gt;Dirección Email:&lt;/drawString&gt;
+
+		&lt;!--Fecha factura--&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
+
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.95cm&quot;&gt;Fecha factura:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.5cm&quot;&gt;Nº factura:&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.95cm&quot;&gt;Referencia:&lt;/drawString&gt;
+
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.95cm&quot;&gt;[ffactura]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.5cm&quot;&gt;[codigoserie_factura] / [numfactura]&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.5cm&quot;&gt;[reffactura]&lt;/drawString&gt;
+
+		&lt;!-- INCLUDE FILE=&quot;[CONF_DIR_OPENREPORTS]plantilla_empresa.rml&quot; --&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;26.3cm&quot;&gt;- FACTURA -&lt;/drawCentredString&gt;
+
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;7&quot;/&gt;
+		&lt;drawString x=&quot;15cm&quot; y=&quot;22.7cm&quot;&gt;Los importes están expresados en euros.&lt;/drawString&gt;
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;25.85cm&quot;&gt;Forma de pago: &lt;!--QUERY=&quot;SELECT descforma_pago FROM forma_pago WHERE idforma_pago = [idforma_pago] LIMIT 1&quot;--&gt;[descforma_pago]&lt;!--END QUERY--&gt;&lt;/drawCentredString&gt;
+
+	&lt;/pageGraphics&gt;
+
+
+		&lt;!-- FRAME DE CONTENIDOS --&gt;
+		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;8cm&quot; width=&quot;19cm&quot; height=&quot;14.6cm&quot; /&gt;
+
+		
+	&lt;/pageTemplate&gt;
+
+&lt;/template&gt;
+
+&lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
+
+&lt;story&gt;	
+	&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;3.00cm, 8.5cm, 1.8cm, 2cm, 2.9cm&quot; splitByRow=&quot;2&quot; rowheights=&quot;2&quot; repeatRows=&quot;1&quot;&gt;
+		&lt;tr&gt;
+			&lt;td&gt;Codigo&lt;/td&gt;
+			&lt;td&gt;Concepto&lt;/td&gt;
+			&lt;td&gt;Unid:&lt;/td&gt;
+			&lt;td&gt;Precio/u:&lt;/td&gt;
+			&lt;td&gt;Subtotal s/iva:&lt;/td&gt;
+		&lt;/tr&gt;
+		[story codigocompletoarticulo, descfactura, cantfactura, pvpfactura, subtotalfactura]
+	
+&lt;!--IF DESCUENTOS--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Descuento/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;% Dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;Total dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+&lt;!--LINEAS DESCUENTO--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[conceptdfactura]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;[proporciondfactura]%&lt;/td&gt;
+			&lt;td&gt;[totaldescdfactura]&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END LINEAS DESCUENTO--&gt;
+&lt;!--END IF DESCUENTOS--&gt;
+
+
+&lt;!--IF QUERY=&quot;SELECT comentfactura FROM factura WHERE length(comentfactura) &gt; 0 AND idfactura = [idfactura]&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT comentfactura FROM factura WHERE length(comentfactura) &gt; 0 AND idfactura = [idfactura]&quot;--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Comentario/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[comentfactura]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+	&lt;/blockTable&gt;
+
+	
+	&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;20cm&quot; height=&quot;1cm&quot;&gt;
+		&lt;place x=&quot;1cm&quot; y=&quot;4cm&quot; width=&quot;19cm&quot; height=&quot;4cm&quot;&gt;
+			&lt;blockTable style=&quot;total&quot; colWidths=&quot;16.3cm,2.7cm&quot; &gt;
+				&lt;tr&gt;
+					&lt;td colspan=&quot;2&quot;&gt;
+						&lt;blockTable style=&quot;titulo&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm, 2.7cm&quot;&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Base Imponible:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;I.V.A.%:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Tot I.V.A.:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Total:&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;contenido&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm&quot; &gt;
+						&lt;!--TOTALES--&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[bimp]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[tbimp]%&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[iva]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;!--END TOTALES--&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;preciofinal&quot; colWidths=&quot;2.7cm&quot; &gt;
+							&lt;tr&gt;
+								&lt;td&gt;[total] &#8364;&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;/blockTable&gt;
+		&lt;/place&gt;
+	&lt;/storyPlace&gt;
+
+&lt;!-- storyPlace x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
+&lt;place x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
+&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;ALB [idfactura] [numfactura] [reffactura]&lt;/barCode&gt;
+&lt;/place&gt;
+&lt;/storyPlace --&gt;
+
+
+&lt;/story&gt;
+&lt;/document&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/es/factura.rml b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/es/factura.rml
index fac08ba..6d8273e 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/es/factura.rml
+++ b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/es/factura.rml
@@ -1,144 +1,224 @@
-&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot; ?&gt;
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot; ?&gt;
 &lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
 &lt;document&gt;
-&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Factura&quot; author=&quot;Tomeu Borras&quot; allowSplitting=&quot;20&quot;&gt;
+&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Factura&quot; author=&quot;&quot;&gt;
 	&lt;pageTemplate id=&quot;main&quot;&gt;
 		&lt;pageGraphics&gt;
-		&lt;!-- include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/ --&gt;
-
-		&lt;!-- INCLUDE FILE=&quot;[CONF_DIR_OPENREPORTS]plantilla1.rml&quot; --&gt;
-
+		&lt;include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/&gt;
 
 		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
 		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;22&quot;/&gt;
-		&lt;drawString x=&quot;1.5cm&quot; y=&quot;24.5cm&quot;&gt;FACTURA&lt;/drawString&gt;
+		
+&lt;!--IF QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
 
-&lt;!--IF QUERY=&quot;SELECT * FROM CLIENTE WHERE idcliente = [idcliente]&quot;--&gt;
-&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente=[idcliente]&quot;--&gt;
-		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;24cm&quot;&gt;[nomcliente] -- [telcliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23.5cm&quot;&gt;[dircliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;11&quot;/&gt;
+		&lt;fill color=&quot;(1,1,1)&quot;/&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.53cm&quot;&gt;Datos del cliente:&lt;/drawString&gt;
 
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
+		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;26.05cm&quot;&gt;[idcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.6cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.15cm&quot;&gt;[cifcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.7cm&quot;&gt;[dircliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.25cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.8cm&quot;&gt;[telcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.35cm&quot;&gt;[mailcliente]&lt;/drawString&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
 		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
-		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;drawCentredString x=&quot;5.5cm&quot; y=&quot;21.2cm&quot;&gt;NIF&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;8.5cm&quot; y=&quot;21.2cm&quot;&gt;Cliente&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;11.5cm&quot; y=&quot;21.2cm&quot;&gt;Fecha&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;14.5cm&quot; y=&quot;21.2cm&quot;&gt;N. Fact&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;17.5cm&quot; y=&quot;21.2cm&quot;&gt;Ref&lt;/drawCentredString&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawCentredString x=&quot;5.5cm&quot; y=&quot;20.4cm&quot;&gt;[cifcliente]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;8.5cm&quot; y=&quot;20.4cm&quot;&gt;[idcliente]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;11.5cm&quot; y=&quot;20.4cm&quot;&gt;[ffactura]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;14.5cm&quot; y=&quot;20.4cm&quot;&gt;[codigoserie_factura]-[numfactura]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;17.5cm&quot; y=&quot;20.4cm&quot;&gt;[reffactura]&lt;/drawCentredString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.05cm&quot;&gt;Nº Cliente:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.6cm&quot;&gt;Nombre/Empresa:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.15cm&quot;&gt;NIF/CIF:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.7cm&quot;&gt;Dirección:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.25cm&quot;&gt;Población:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.8cm&quot;&gt;Teléfono:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.35cm&quot;&gt;Dirección Email:&lt;/drawString&gt;
+
+		&lt;!--Fecha factura--&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
+
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.95cm&quot;&gt;Fecha factura:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.5cm&quot;&gt;Nº factura:&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.95cm&quot;&gt;Referencia:&lt;/drawString&gt;
+
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.95cm&quot;&gt;[ffactura]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.5cm&quot;&gt;[codigoserie_factura] / [numfactura]&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.5cm&quot;&gt;[reffactura]&lt;/drawString&gt;
+
+		&lt;!-- INCLUDE FILE=&quot;[CONF_DIR_OPENREPORTS]plantilla_empresa.rml&quot; --&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;26.3cm&quot;&gt;- FACTURA -&lt;/drawCentredString&gt;
+
 &lt;!--END QUERY--&gt;
 &lt;!--END IF QUERY--&gt;
-		&lt;/pageGraphics&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;7&quot;/&gt;
+		&lt;drawString x=&quot;15cm&quot; y=&quot;22.7cm&quot;&gt;Los importes están expresados en euros.&lt;/drawString&gt;
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;25.85cm&quot;&gt;Forma de pago: &lt;!--QUERY=&quot;SELECT descforma_pago FROM forma_pago WHERE idforma_pago = [idforma_pago] LIMIT 1&quot;--&gt;[descforma_pago]&lt;!--END QUERY--&gt;&lt;/drawCentredString&gt;
+
+	&lt;/pageGraphics&gt;
+
+
 		&lt;!-- FRAME DE CONTENIDOS --&gt;
-		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;5cm&quot; width=&quot;19cm&quot; height=&quot;15cm&quot;/&gt;
+		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;8cm&quot; width=&quot;19cm&quot; height=&quot;14.6cm&quot; /&gt;
+
+		
 	&lt;/pageTemplate&gt;
 
 &lt;/template&gt;
 
-
 &lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
 
-&lt;story&gt;
-&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;1.75cm, 8.55cm, 1.2cm, 1.7cm, 1.8cm, 2.25cm&quot; repeatRows=&quot;1&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;Codigo&lt;/td&gt;
-&lt;td&gt;Concepto&lt;/td&gt;
-&lt;td&gt;Und&lt;/td&gt;
-&lt;td&gt;Precio&lt;/td&gt;
-&lt;td&gt;Dto&lt;/td&gt;
-&lt;td&gt;Total&lt;/td&gt;
-&lt;/tr&gt;
+&lt;story&gt;	
+	&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;3.00cm, 8.5cm, 1.8cm, 2cm, 2.9cm&quot; splitByRow=&quot;2&quot; rowheights=&quot;2&quot; repeatRows=&quot;1&quot;&gt;
+		&lt;tr&gt;
+			&lt;td&gt;Codigo&lt;/td&gt;
+			&lt;td&gt;Concepto&lt;/td&gt;
+			&lt;td&gt;Unid:&lt;/td&gt;
+			&lt;td&gt;Precio/u:&lt;/td&gt;
+			&lt;td&gt;Subtotal s/iva:&lt;/td&gt;
+		&lt;/tr&gt;
 &lt;!--LINEAS DETALLE--&gt;
 &lt;tr&gt;
 &lt;td&gt;[codigocompletoarticulo]&lt;/td&gt;
 &lt;td&gt;[desclfactura]&lt;/td&gt;
 &lt;td&gt;[cantlfactura]&lt;/td&gt;
 &lt;td&gt;[pvplfactura]&lt;/td&gt;
-&lt;td&gt;[descuentolfactura]%&lt;/td&gt;
 &lt;td&gt;[totallfactura]&lt;/td&gt;
 &lt;/tr&gt;
 &lt;!--END LINEAS DETALLE--&gt;
-&lt;/blockTable&gt;
-
-&lt;blockTable colWidths=&quot;1.75cm, 8.55cm, 1.2cm, 1.7cm, 1.8cm, 2.25cm&quot; repeatRows=&quot;1&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;[comentfactura]&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/blockTable&gt;
-
-
-
+	
 &lt;!--IF DESCUENTOS--&gt;
-&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
-	&lt;place x=&quot;4cm&quot; y=&quot;3.5cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;blockTable style=&quot;tabladescuento&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt; Descuento&lt;/td&gt;
-&lt;td&gt; Porcentaje&lt;/td&gt;
-&lt;td&gt; Total &lt;/td&gt;
-&lt;/tr&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Descuento/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;% Dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;Total dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
 &lt;!--LINEAS DESCUENTO--&gt;
-&lt;tr&gt;
-	&lt;td&gt;[conceptdfactura]&lt;/td&gt;
-	&lt;td&gt;[proporciondfactura]%&lt;/td&gt;
-	&lt;td&gt;[totaldescdfactura]&lt;/td&gt;
-&lt;/tr&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[conceptdfactura]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;[proporciondfactura]%&lt;/td&gt;
+			&lt;td&gt;[totaldescdfactura]&lt;/td&gt;
+		&lt;/tr&gt;
 &lt;!--END LINEAS DESCUENTO--&gt;
-&lt;/blockTable&gt;
-&lt;/place&gt;
-&lt;/storyPlace&gt;
 &lt;!--END IF DESCUENTOS--&gt;
 
-&lt;storyPlace x=&quot;2cm&quot; y=&quot;0cm&quot; width=&quot;19cm&quot; height=&quot;2cm&quot;&gt;
-&lt;place x=&quot;2cm&quot; y=&quot;0.5cm&quot; width=&quot;19cm&quot; height=&quot;4.5cm&quot;&gt;
-&lt;blockTable colWidths=&quot;7cm, 7cm&quot;&gt;
-&lt;!--TOTALES--&gt;
-&lt;tr&gt;
-&lt;td&gt;&lt;para&gt;Base Imponible [tbimp]%: &lt;font color=&quot;blue&quot;&gt;[bimp]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;I.V.A. [tbimp]%:  &lt;font color=&quot;blue&quot;&gt;[iva]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;!--END TOTALES--&gt;
-
-&lt;!--TOTREQ--&gt;
-&lt;tr&gt;
-&lt;td colspan=&quot;2&quot;&gt;&lt;para&gt;R.Eq. [tre]%: &lt;font color=&quot;blue&quot;&gt;[re]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;!--END TOTREQ--&gt;
-&lt;/blockTable&gt;
-
 
-&lt;blockTable&gt;
-&lt;tr&gt;
-&lt;!-- td&gt;&lt;para&gt;Total Descuentos &lt;font color=&quot;blue&quot;&gt;[totaldesc]&lt;/font&gt;&lt;/para&gt;&lt;/td--&gt;
-&lt;td&gt;&lt;para&gt;Total Base Imponible &lt;font color=&quot;blue&quot;&gt;[totalbimp]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;Total I.V.A &lt;font color=&quot;blue&quot;&gt;[totaliva]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;Total R.Eq &lt;font color=&quot;blue&quot;&gt;[totalre]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;&lt;b&gt;&lt;font size=&quot;15&quot;&gt; Total &lt;font color=&quot;blue&quot;&gt;[total]&lt;/font&gt;&lt;/font&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/blockTable&gt;
-&lt;/place&gt;
-&lt;/storyPlace&gt;
+&lt;!--IF QUERY=&quot;SELECT comentfactura FROM factura WHERE length(comentfactura) &gt; 0 AND idfactura = [idfactura]&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT comentfactura FROM factura WHERE length(comentfactura) &gt; 0 AND idfactura = [idfactura]&quot;--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Comentario/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[comentfactura]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
 
+	&lt;/blockTable&gt;
+
+	
+	&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;20cm&quot; height=&quot;1cm&quot;&gt;
+		&lt;place x=&quot;1cm&quot; y=&quot;4cm&quot; width=&quot;19cm&quot; height=&quot;4cm&quot;&gt;
+			&lt;blockTable style=&quot;total&quot; colWidths=&quot;16.3cm,2.7cm&quot; &gt;
+				&lt;tr&gt;
+					&lt;td colspan=&quot;2&quot;&gt;
+						&lt;blockTable style=&quot;titulo&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm, 2.7cm&quot;&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Base Imponible:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;I.V.A.%:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Tot I.V.A.:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Total:&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;contenido&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm&quot; &gt;
+						&lt;!--TOTALES--&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[bimp]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[tbimp]%&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[iva]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;!--END TOTALES--&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;preciofinal&quot; colWidths=&quot;2.7cm&quot; &gt;
+							&lt;tr&gt;
+								&lt;td&gt;[total] &#8364;&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;/blockTable&gt;
+		&lt;/place&gt;
+	&lt;/storyPlace&gt;
 
 &lt;!-- storyPlace x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
 &lt;place x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;FACT [idfactura] [numfactura] [reffactura]&lt;/barCode&gt;
+&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;ALB [idfactura] [numfactura] [reffactura]&lt;/barCode&gt;
 &lt;/place&gt;
 &lt;/storyPlace --&gt;
+
+
+&lt;!-- QUERY = &quot;SELECT * FROM factura WHERE idfactura=[idfactura] AND idforma_pago = 8 &quot;--&gt;
+
+&lt;storyPlace x=&quot;1cm&quot; y=&quot;2cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
+&lt;place x=&quot;1cm&quot; y=&quot;2cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
+  &lt;para&gt;Para transferencias bancarias &quot;La Caixa&quot; 2100 0650 44 0200224097&lt;/para&gt;
+&lt;/place&gt;
+&lt;/storyPlace&gt;
+
+&lt;!-- END QUERY --&gt;
+
 &lt;/story&gt;
 &lt;/document&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/es/factura_alternativa1.rml b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/es/factura_alternativa1.rml
deleted file mode 100644
index 61226a2..0000000
--- a/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/es/factura_alternativa1.rml
+++ /dev/null
@@ -1,86 +0,0 @@
-&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot; ?&gt;
-&lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
-&lt;document&gt;
-&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Factura&quot; author=&quot;Tomeu Borras&quot; allowSplitting=&quot;20&quot;&gt;
-	&lt;pageTemplate id=&quot;main&quot;&gt;
-		&lt;pageGraphics&gt;
-		&lt;include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/&gt;
-
-		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
-		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;22&quot;/&gt;
-		&lt;drawString x=&quot;1.5cm&quot; y=&quot;24.5cm&quot;&gt;FACTURA&lt;/drawString&gt;
-
-		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;24cm&quot;&gt;[nomcliente] -- [telcliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23.5cm&quot;&gt;[dircliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
-
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
-		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;drawCentredString x=&quot;5.5cm&quot; y=&quot;21.2cm&quot;&gt;NIF&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;8.5cm&quot; y=&quot;21.2cm&quot;&gt;Cliente&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;11.5cm&quot; y=&quot;21.2cm&quot;&gt;Fecha&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;14.5cm&quot; y=&quot;21.2cm&quot;&gt;N. Fact&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;17.5cm&quot; y=&quot;21.2cm&quot;&gt;Ref&lt;/drawCentredString&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawCentredString x=&quot;5.5cm&quot; y=&quot;20.4cm&quot;&gt;[cifcliente]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;8.5cm&quot; y=&quot;20.4cm&quot;&gt;[idcliente]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;11.5cm&quot; y=&quot;20.4cm&quot;&gt;[ffactura]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;14.5cm&quot; y=&quot;20.4cm&quot;&gt;[codigoserie_factura]-[numfactura]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;17.5cm&quot; y=&quot;20.4cm&quot;&gt;[reffactura]&lt;/drawCentredString&gt;
-		&lt;/pageGraphics&gt;
-		&lt;!-- FRAME DE CONTENIDOS --&gt;
-		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;5cm&quot; width=&quot;19cm&quot; height=&quot;15cm&quot;/&gt;
-	&lt;/pageTemplate&gt;
-
-&lt;/template&gt;
-
-
-&lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
-
-&lt;story&gt;
-&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;1.75cm, 8.55cm, 1.2cm, 1.7cm, 1.8cm, 2.25cm&quot; repeatRows=&quot;1&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;Codigo&lt;/td&gt;
-&lt;td&gt;Concepto&lt;/td&gt;
-&lt;td&gt;Und&lt;/td&gt;
-&lt;td&gt;Precio&lt;/td&gt;
-&lt;td&gt;Dto&lt;/td&gt;
-&lt;td&gt;Total&lt;/td&gt;
-&lt;/tr&gt;
-[story]
-&lt;/blockTable&gt;
-
-&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
-	&lt;place x=&quot;4cm&quot; y=&quot;3.5cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;blockTable&gt;
-&lt;tr&gt;
-&lt;td align=&quot;right&quot;&gt;
-	[descuentos]
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/blockTable&gt;
-&lt;/place&gt;
-&lt;/storyPlace&gt;
-
-&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
-&lt;place x=&quot;12cm&quot; y=&quot;2cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;blockTable&gt;
-&lt;tr&gt;
-&lt;td align=&quot;right&quot;&gt;
-	[totales]
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/blockTable&gt;
-&lt;/place&gt;
-&lt;/storyPlace&gt;
-&lt;!-- storyPlace x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
-&lt;place x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;FACT [idfactura] [numfactura] [reffactura]&lt;/barCode&gt;
-&lt;/place&gt;
-&lt;/storyPlace --&gt;
-&lt;/story&gt;
-&lt;/document&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/es/impers_factura_copia.rml b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/es/impers_factura_copia.rml
new file mode 100644
index 0000000..57cc5fc
--- /dev/null
+++ b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/es/impers_factura_copia.rml
@@ -0,0 +1,219 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot; ?&gt;
+&lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
+&lt;document&gt;
+&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Copia Factura&quot; author=&quot;&quot;&gt;
+	&lt;pageTemplate id=&quot;main&quot;&gt;
+		&lt;pageGraphics&gt;
+		&lt;include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/&gt;
+
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
+
+		&lt;!-- PAGADA --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;34&quot;/&gt;
+		&lt;fill color=&quot;(1,0.3,0.3)&quot;/&gt;
+		&lt;stroke color=&quot;(1,0.3,0.3)&quot;/&gt;
+		&lt;translate dx=&quot;15cm&quot; dy=&quot;-6.5cm&quot;/&gt;
+		&lt;rotate degrees=&quot;20&quot;/&gt;                                                                          
+		&lt;drawString x=&quot;25mm&quot; y=&quot;15.8cm&quot;&gt;ES COPIA&lt;/drawString&gt;                                           
+		&lt;lineMode width=&quot;2mm&quot;/&gt;                                                                         
+		&lt;rect round=&quot;1cm&quot; x=&quot;17.5mm&quot; y=&quot;15cm&quot; width=&quot;6.9cm&quot; height=&quot;2.5cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;          
+		&lt;rotate degrees=&quot;-20&quot;/&gt;                                                                         
+		&lt;translate dx=&quot;-15cm&quot; dy=&quot;6.5cm&quot;/&gt; 
+		
+		
+&lt;!--IF QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;11&quot;/&gt;
+		&lt;fill color=&quot;(1,1,1)&quot;/&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.53cm&quot;&gt;Datos del cliente:&lt;/drawString&gt;
+
+		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;26.05cm&quot;&gt;[idcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.6cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.15cm&quot;&gt;[cifcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.7cm&quot;&gt;[dircliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.25cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.8cm&quot;&gt;[telcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.35cm&quot;&gt;[mailcliente]&lt;/drawString&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.05cm&quot;&gt;Nº Cliente:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.6cm&quot;&gt;Nombre/Empresa:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.15cm&quot;&gt;NIF/CIF:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.7cm&quot;&gt;Dirección:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.25cm&quot;&gt;Población:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.8cm&quot;&gt;Teléfono:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.35cm&quot;&gt;Dirección Email:&lt;/drawString&gt;
+
+		&lt;!--Fecha factura--&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
+
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.95cm&quot;&gt;Fecha factura:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.5cm&quot;&gt;Nº factura:&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.95cm&quot;&gt;Referencia:&lt;/drawString&gt;
+
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.95cm&quot;&gt;[ffactura]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.5cm&quot;&gt;[codigoserie_factura] / [numfactura]&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.5cm&quot;&gt;[reffactura]&lt;/drawString&gt;
+
+		&lt;!-- INCLUDE FILE=&quot;[CONF_DIR_OPENREPORTS]plantilla_empresa.rml&quot; --&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;26.3cm&quot;&gt;- FACTURA -&lt;/drawCentredString&gt;
+
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;7&quot;/&gt;
+		&lt;drawString x=&quot;15cm&quot; y=&quot;22.7cm&quot;&gt;Los importes están expresados en euros.&lt;/drawString&gt;
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;25.85cm&quot;&gt;Forma de pago: &lt;!--QUERY=&quot;SELECT descforma_pago FROM forma_pago WHERE idforma_pago = [idforma_pago] LIMIT 1&quot;--&gt;[descforma_pago]&lt;!--END QUERY--&gt;&lt;/drawCentredString&gt;
+
+	&lt;/pageGraphics&gt;
+
+
+		&lt;!-- FRAME DE CONTENIDOS --&gt;
+		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;8cm&quot; width=&quot;19cm&quot; height=&quot;14.6cm&quot; /&gt;
+
+		
+	&lt;/pageTemplate&gt;
+
+&lt;/template&gt;
+
+&lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
+
+&lt;story&gt;	
+	&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;3.00cm, 8.5cm, 1.8cm, 2cm, 2.9cm&quot; splitByRow=&quot;2&quot; rowheights=&quot;2&quot; repeatRows=&quot;1&quot;&gt;
+		&lt;tr&gt;
+			&lt;td&gt;Codigo&lt;/td&gt;
+			&lt;td&gt;Concepto&lt;/td&gt;
+			&lt;td&gt;Unid:&lt;/td&gt;
+			&lt;td&gt;Precio/u:&lt;/td&gt;
+			&lt;td&gt;Subtotal s/iva:&lt;/td&gt;
+		&lt;/tr&gt;
+		[story codigocompletoarticulo, descfactura, cantfactura, pvpfactura, subtotalfactura]
+	
+&lt;!--IF DESCUENTOS--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Descuento/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;% Dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;Total dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+&lt;!--LINEAS DESCUENTO--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[conceptdfactura]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;[proporciondfactura]%&lt;/td&gt;
+			&lt;td&gt;[totaldescdfactura]&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END LINEAS DESCUENTO--&gt;
+&lt;!--END IF DESCUENTOS--&gt;
+
+
+&lt;!--IF QUERY=&quot;SELECT comentfactura FROM factura WHERE length(comentfactura) &gt; 0 AND idfactura = [idfactura]&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT comentfactura FROM factura WHERE length(comentfactura) &gt; 0 AND idfactura = [idfactura]&quot;--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Comentario/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[comentfactura]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+	&lt;/blockTable&gt;
+
+	
+	&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;20cm&quot; height=&quot;1cm&quot;&gt;
+		&lt;place x=&quot;1cm&quot; y=&quot;4cm&quot; width=&quot;19cm&quot; height=&quot;4cm&quot;&gt;
+			&lt;blockTable style=&quot;total&quot; colWidths=&quot;16.3cm,2.7cm&quot; &gt;
+				&lt;tr&gt;
+					&lt;td colspan=&quot;2&quot;&gt;
+						&lt;blockTable style=&quot;titulo&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm, 2.7cm&quot;&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Base Imponible:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;I.V.A.%:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Tot I.V.A.:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Total:&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;contenido&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm&quot; &gt;
+						&lt;!--TOTALES--&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[bimp]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[tbimp]%&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[iva]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;!--END TOTALES--&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;preciofinal&quot; colWidths=&quot;2.7cm&quot; &gt;
+							&lt;tr&gt;
+								&lt;td&gt;[total] &#8364;&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;/blockTable&gt;
+		&lt;/place&gt;
+	&lt;/storyPlace&gt;
+
+&lt;!-- storyPlace x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
+&lt;place x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
+&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;ALB [idfactura] [numfactura] [reffactura]&lt;/barCode&gt;
+&lt;/place&gt;
+&lt;/storyPlace --&gt;
+
+
+&lt;/story&gt;
+&lt;/document&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/es/impers_factura_grafica.rml b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/es/impers_factura_grafica.rml
new file mode 100644
index 0000000..d669ae7
--- /dev/null
+++ b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/es/impers_factura_grafica.rml
@@ -0,0 +1,257 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot; ?&gt;
+&lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
+&lt;document&gt;
+&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Factura con estadisticas&quot; author=&quot;&quot;&gt;
+	&lt;pageTemplate id=&quot;main&quot;&gt;
+		&lt;pageGraphics&gt;
+		&lt;include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/&gt;
+
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
+		
+		
+&lt;!--IF QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;11&quot;/&gt;
+		&lt;fill color=&quot;(1,1,1)&quot;/&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.53cm&quot;&gt;Datos del cliente:&lt;/drawString&gt;
+
+		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;26.05cm&quot;&gt;[idcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.6cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.15cm&quot;&gt;[cifcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.7cm&quot;&gt;[dircliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.25cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.8cm&quot;&gt;[telcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.35cm&quot;&gt;[mailcliente]&lt;/drawString&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.05cm&quot;&gt;Nº Cliente:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.6cm&quot;&gt;Nombre/Empresa:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.15cm&quot;&gt;NIF/CIF:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.7cm&quot;&gt;Dirección:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.25cm&quot;&gt;Población:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.8cm&quot;&gt;Teléfono:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.35cm&quot;&gt;Dirección Email:&lt;/drawString&gt;
+
+		&lt;!--Fecha factura--&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
+
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.95cm&quot;&gt;Fecha factura:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.5cm&quot;&gt;Nº factura:&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.95cm&quot;&gt;Referencia:&lt;/drawString&gt;
+
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.95cm&quot;&gt;[ffactura]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.5cm&quot;&gt;[codigoserie_factura] / [numfactura]&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.5cm&quot;&gt;[reffactura]&lt;/drawString&gt;
+
+		&lt;!-- INCLUDE FILE=&quot;[CONF_DIR_OPENREPORTS]plantilla_empresa.rml&quot; --&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;26.3cm&quot;&gt;- FACTURA -&lt;/drawCentredString&gt;
+
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;7&quot;/&gt;
+		&lt;drawString x=&quot;15cm&quot; y=&quot;22.7cm&quot;&gt;Los importes están expresados en euros.&lt;/drawString&gt;
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;25.85cm&quot;&gt;Forma de pago: &lt;!--QUERY=&quot;SELECT descforma_pago FROM forma_pago WHERE idforma_pago = [idforma_pago] LIMIT 1&quot;--&gt;[descforma_pago]&lt;!--END QUERY--&gt;&lt;/drawCentredString&gt;
+
+	&lt;/pageGraphics&gt;
+
+
+		&lt;!-- FRAME DE CONTENIDOS --&gt;
+		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;8cm&quot; width=&quot;19cm&quot; height=&quot;14.6cm&quot; /&gt;
+
+		
+	&lt;/pageTemplate&gt;
+
+&lt;/template&gt;
+
+&lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
+
+&lt;story&gt;	
+	&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;3.00cm, 8.5cm, 1.8cm, 2cm, 2.9cm&quot; splitByRow=&quot;2&quot; rowheights=&quot;2&quot; repeatRows=&quot;1&quot;&gt;
+		&lt;tr&gt;
+			&lt;td&gt;Codigo&lt;/td&gt;
+			&lt;td&gt;Concepto&lt;/td&gt;
+			&lt;td&gt;Unid:&lt;/td&gt;
+			&lt;td&gt;Precio/u:&lt;/td&gt;
+			&lt;td&gt;Subtotal s/iva:&lt;/td&gt;
+		&lt;/tr&gt;
+		[story codigocompletoarticulo, descfactura, cantfactura, pvpfactura, subtotalfactura]
+	
+&lt;!--IF DESCUENTOS--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Descuento/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;% Dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;Total dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+&lt;!--LINEAS DESCUENTO--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[conceptdfactura]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;[proporciondfactura]%&lt;/td&gt;
+			&lt;td&gt;[totaldescdfactura]&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END LINEAS DESCUENTO--&gt;
+&lt;!--END IF DESCUENTOS--&gt;
+
+
+&lt;!--IF QUERY=&quot;SELECT comentfactura FROM factura WHERE length(comentfactura) &gt; 0 AND idfactura = [idfactura]&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT comentfactura FROM factura WHERE length(comentfactura) &gt; 0 AND idfactura = [idfactura]&quot;--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Comentario/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[comentfactura]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+	&lt;/blockTable&gt;
+
+	
+	&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;20cm&quot; height=&quot;1cm&quot;&gt;
+		&lt;place x=&quot;1cm&quot; y=&quot;4cm&quot; width=&quot;19cm&quot; height=&quot;4cm&quot;&gt;
+			&lt;blockTable style=&quot;total&quot; colWidths=&quot;16.3cm,2.7cm&quot; &gt;
+				&lt;tr&gt;
+					&lt;td colspan=&quot;2&quot;&gt;
+						&lt;blockTable style=&quot;titulo&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm, 2.7cm&quot;&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Base Imponible:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;I.V.A.%:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Tot I.V.A.:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Total:&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;contenido&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm&quot; &gt;
+						&lt;!--TOTALES--&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[bimp]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[tbimp]%&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[iva]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;!--END TOTALES--&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;preciofinal&quot; colWidths=&quot;2.7cm&quot; &gt;
+							&lt;tr&gt;
+								&lt;td&gt;[total] &#8364;&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;/blockTable&gt;
+		&lt;/place&gt;
+	&lt;/storyPlace&gt;
+
+
+&lt;storyPlace x=&quot;1cm&quot; y=&quot;1cm&quot; width=&quot;5cm&quot; height=&quot;5cm&quot;&gt;
+&lt;!-- place x=&quot;0cm&quot; y=&quot;-1cm&quot; width=&quot;5cm&quot; height=&quot;5cm&quot;&gt;
+&lt;illustration width=&quot;5cm&quot; height=&quot;4cm&quot; --&gt;
+  
+&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+&lt;drawString x=&quot;3cm&quot; y=&quot;5.5cm&quot;&gt;Facturacion del 2011&lt;/drawString&gt;
+&lt;barChart x=&quot;2cm&quot; y=&quot;1cm&quot; width=&quot;7cm&quot; height=&quot;3cm&quot;&gt;               
+
+&lt;!--QUERY=&quot;select '01/01/2011'::date as fin,  '31/01/2011'::date as fout 
+union select '01/02/2011'::date, '28/02/2011'::date 
+union select '01/03/2011'::date, '31/03/2011'::date
+union select '01/04/2011'::date, '30/04/2011'::date
+union select '01/05/2011'::date, '31/05/2011'::date
+union select '01/06/2011'::date, '30/06/2011'::date
+union select '01/07/2011'::date, '31/07/2011'::date
+union select '01/08/2011'::date, '31/08/2011'::date
+union select '01/09/2011'::date, '30/09/2011'::date
+union select '01/10/2011'::date, '31/10/2011'::date
+union select '01/11/2011'::date, '30/11/2011'::date
+union select '01/12/2011'::date, '31/12/2011'::date
+union select '01/01/2010'::date, '31/01/2010'::date 
+union select '01/02/2010'::date, '28/02/2010'::date 
+union select '01/03/2010'::date, '31/03/2010'::date
+union select '01/04/2010'::date, '30/04/2010'::date
+union select '01/05/2010'::date, '31/05/2010'::date
+union select '01/06/2010'::date, '30/06/2010'::date
+union select '01/07/2010'::date, '31/07/2010'::date
+union select '01/08/2010'::date, '31/08/2010'::date
+union select '01/09/2010'::date, '30/09/2010'::date
+union select '01/10/2010'::date, '31/10/2010'::date
+union select '01/11/2010'::date, '30/11/2010'::date
+union select '01/12/2010'::date, '31/12/2010'::date
+ORDER BY fin&quot;--&gt;
+
+&lt;!--IF SUBQUERY=&quot;SELECT COALESCE(sum(totalfactura),0) AS totalr FROM factura WHERE idcliente=[idcliente] AND ffactura &gt;= '[fin]'::date AND ffactura &lt;= '[fout]'::date&quot;--&gt;
+&lt;!-- SUBQUERY=&quot;SELECT COALESCE(sum(totalfactura),0) AS totalr FROM factura WHERE idcliente=[idcliente] AND ffactura &gt;= '[fin]'::date AND ffactura &lt;= '[fout]'::date&quot;--&gt;
+&lt;categorie color=&quot;(1,0.4,0.6)&quot;&gt;[fin] - [fout]&lt;/categorie&gt;
+&lt;data&gt;[totalr]&lt;/data&gt;
+&lt;!-- END SUBQUERY--&gt;
+
+&lt;!--END IF SUBQUERY--&gt;
+&lt;!--END QUERY--&gt;
+
+&lt;/barChart&gt;  
+&lt;!-- /illustration&gt;
+&lt;/place --&gt;
+&lt;/storyPlace&gt;
+
+&lt;!-- storyPlace x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
+&lt;place x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
+&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;ALB [idfactura] [numfactura] [reffactura]&lt;/barCode&gt;
+&lt;/place&gt;
+&lt;/storyPlace --&gt;
+
+
+&lt;/story&gt;
+&lt;/document&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/es/impers_factura_pagada.rml b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/es/impers_factura_pagada.rml
new file mode 100644
index 0000000..413f675
--- /dev/null
+++ b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/es/impers_factura_pagada.rml
@@ -0,0 +1,219 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot; ?&gt;
+&lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
+&lt;document&gt;
+&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Factura Pagada&quot; author=&quot;&quot;&gt;
+	&lt;pageTemplate id=&quot;main&quot;&gt;
+		&lt;pageGraphics&gt;
+		&lt;include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/&gt;
+
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
+
+		&lt;!-- PAGADA --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;34&quot;/&gt;
+		&lt;fill color=&quot;(1,0.3,0.3)&quot;/&gt;
+		&lt;stroke color=&quot;(1,0.3,0.3)&quot;/&gt;
+		&lt;translate dx=&quot;15cm&quot; dy=&quot;-6.5cm&quot;/&gt;
+		&lt;rotate degrees=&quot;20&quot;/&gt;                                                                          
+		&lt;drawString x=&quot;25mm&quot; y=&quot;15.8cm&quot;&gt;PAGADO&lt;/drawString&gt;                                           
+		&lt;lineMode width=&quot;2mm&quot;/&gt;                                                                         
+		&lt;rect round=&quot;1cm&quot; x=&quot;17.5mm&quot; y=&quot;15cm&quot; width=&quot;6.5cm&quot; height=&quot;2.5cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;          
+		&lt;rotate degrees=&quot;-20&quot;/&gt;                                                                         
+		&lt;translate dx=&quot;-15cm&quot; dy=&quot;6.5cm&quot;/&gt; 
+		
+		
+&lt;!--IF QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;11&quot;/&gt;
+		&lt;fill color=&quot;(1,1,1)&quot;/&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.53cm&quot;&gt;Datos del cliente:&lt;/drawString&gt;
+
+		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;26.05cm&quot;&gt;[idcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.6cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.15cm&quot;&gt;[cifcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.7cm&quot;&gt;[dircliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.25cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.8cm&quot;&gt;[telcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.35cm&quot;&gt;[mailcliente]&lt;/drawString&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.05cm&quot;&gt;Nº Cliente:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.6cm&quot;&gt;Nombre/Empresa:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.15cm&quot;&gt;NIF/CIF:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.7cm&quot;&gt;Dirección:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.25cm&quot;&gt;Población:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.8cm&quot;&gt;Teléfono:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.35cm&quot;&gt;Dirección Email:&lt;/drawString&gt;
+
+		&lt;!--Fecha factura--&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
+
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.95cm&quot;&gt;Fecha factura:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.5cm&quot;&gt;Nº factura:&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.95cm&quot;&gt;Referencia:&lt;/drawString&gt;
+
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.95cm&quot;&gt;[ffactura]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.5cm&quot;&gt;[codigoserie_factura] / [numfactura]&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.5cm&quot;&gt;[reffactura]&lt;/drawString&gt;
+
+		&lt;!-- INCLUDE FILE=&quot;[CONF_DIR_OPENREPORTS]plantilla_empresa.rml&quot; --&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;26.3cm&quot;&gt;- FACTURA -&lt;/drawCentredString&gt;
+
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;7&quot;/&gt;
+		&lt;drawString x=&quot;15cm&quot; y=&quot;22.7cm&quot;&gt;Los importes están expresados en euros.&lt;/drawString&gt;
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;25.85cm&quot;&gt;Forma de pago: &lt;!--QUERY=&quot;SELECT descforma_pago FROM forma_pago WHERE idforma_pago = [idforma_pago] LIMIT 1&quot;--&gt;[descforma_pago]&lt;!--END QUERY--&gt;&lt;/drawCentredString&gt;
+
+	&lt;/pageGraphics&gt;
+
+
+		&lt;!-- FRAME DE CONTENIDOS --&gt;
+		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;8cm&quot; width=&quot;19cm&quot; height=&quot;14.6cm&quot; /&gt;
+
+		
+	&lt;/pageTemplate&gt;
+
+&lt;/template&gt;
+
+&lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
+
+&lt;story&gt;	
+	&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;3.00cm, 8.5cm, 1.8cm, 2cm, 2.9cm&quot; splitByRow=&quot;2&quot; rowheights=&quot;2&quot; repeatRows=&quot;1&quot;&gt;
+		&lt;tr&gt;
+			&lt;td&gt;Codigo&lt;/td&gt;
+			&lt;td&gt;Concepto&lt;/td&gt;
+			&lt;td&gt;Unid:&lt;/td&gt;
+			&lt;td&gt;Precio/u:&lt;/td&gt;
+			&lt;td&gt;Subtotal s/iva:&lt;/td&gt;
+		&lt;/tr&gt;
+		[story codigocompletoarticulo, descfactura, cantfactura, pvpfactura, subtotalfactura]
+	
+&lt;!--IF DESCUENTOS--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Descuento/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;% Dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;Total dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+&lt;!--LINEAS DESCUENTO--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[conceptdfactura]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;[proporciondfactura]%&lt;/td&gt;
+			&lt;td&gt;[totaldescdfactura]&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END LINEAS DESCUENTO--&gt;
+&lt;!--END IF DESCUENTOS--&gt;
+
+
+&lt;!--IF QUERY=&quot;SELECT comentfactura FROM factura WHERE length(comentfactura) &gt; 0 AND idfactura = [idfactura]&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT comentfactura FROM factura WHERE length(comentfactura) &gt; 0 AND idfactura = [idfactura]&quot;--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Comentario/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[comentfactura]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+	&lt;/blockTable&gt;
+
+	
+	&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;20cm&quot; height=&quot;1cm&quot;&gt;
+		&lt;place x=&quot;1cm&quot; y=&quot;4cm&quot; width=&quot;19cm&quot; height=&quot;4cm&quot;&gt;
+			&lt;blockTable style=&quot;total&quot; colWidths=&quot;16.3cm,2.7cm&quot; &gt;
+				&lt;tr&gt;
+					&lt;td colspan=&quot;2&quot;&gt;
+						&lt;blockTable style=&quot;titulo&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm, 2.7cm&quot;&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Base Imponible:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;I.V.A.%:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Tot I.V.A.:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Total:&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;contenido&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm&quot; &gt;
+						&lt;!--TOTALES--&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[bimp]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[tbimp]%&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[iva]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;!--END TOTALES--&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;preciofinal&quot; colWidths=&quot;2.7cm&quot; &gt;
+							&lt;tr&gt;
+								&lt;td&gt;[total] &#8364;&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;/blockTable&gt;
+		&lt;/place&gt;
+	&lt;/storyPlace&gt;
+
+&lt;!-- storyPlace x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
+&lt;place x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
+&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;ALB [idfactura] [numfactura] [reffactura]&lt;/barCode&gt;
+&lt;/place&gt;
+&lt;/storyPlace --&gt;
+
+
+&lt;/story&gt;
+&lt;/document&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/fr/factura.rml b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/fr/factura.rml
index fac08ba..6d8273e 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/fr/factura.rml
+++ b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/fr/factura.rml
@@ -1,144 +1,224 @@
-&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot; ?&gt;
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot; ?&gt;
 &lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
 &lt;document&gt;
-&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Factura&quot; author=&quot;Tomeu Borras&quot; allowSplitting=&quot;20&quot;&gt;
+&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Factura&quot; author=&quot;&quot;&gt;
 	&lt;pageTemplate id=&quot;main&quot;&gt;
 		&lt;pageGraphics&gt;
-		&lt;!-- include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/ --&gt;
-
-		&lt;!-- INCLUDE FILE=&quot;[CONF_DIR_OPENREPORTS]plantilla1.rml&quot; --&gt;
-
+		&lt;include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/&gt;
 
 		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
 		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;22&quot;/&gt;
-		&lt;drawString x=&quot;1.5cm&quot; y=&quot;24.5cm&quot;&gt;FACTURA&lt;/drawString&gt;
+		
+&lt;!--IF QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
 
-&lt;!--IF QUERY=&quot;SELECT * FROM CLIENTE WHERE idcliente = [idcliente]&quot;--&gt;
-&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente=[idcliente]&quot;--&gt;
-		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;24cm&quot;&gt;[nomcliente] -- [telcliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23.5cm&quot;&gt;[dircliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;11&quot;/&gt;
+		&lt;fill color=&quot;(1,1,1)&quot;/&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.53cm&quot;&gt;Datos del cliente:&lt;/drawString&gt;
 
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
+		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;26.05cm&quot;&gt;[idcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.6cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.15cm&quot;&gt;[cifcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.7cm&quot;&gt;[dircliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.25cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.8cm&quot;&gt;[telcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.35cm&quot;&gt;[mailcliente]&lt;/drawString&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
 		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
-		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;drawCentredString x=&quot;5.5cm&quot; y=&quot;21.2cm&quot;&gt;NIF&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;8.5cm&quot; y=&quot;21.2cm&quot;&gt;Cliente&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;11.5cm&quot; y=&quot;21.2cm&quot;&gt;Fecha&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;14.5cm&quot; y=&quot;21.2cm&quot;&gt;N. Fact&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;17.5cm&quot; y=&quot;21.2cm&quot;&gt;Ref&lt;/drawCentredString&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawCentredString x=&quot;5.5cm&quot; y=&quot;20.4cm&quot;&gt;[cifcliente]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;8.5cm&quot; y=&quot;20.4cm&quot;&gt;[idcliente]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;11.5cm&quot; y=&quot;20.4cm&quot;&gt;[ffactura]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;14.5cm&quot; y=&quot;20.4cm&quot;&gt;[codigoserie_factura]-[numfactura]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;17.5cm&quot; y=&quot;20.4cm&quot;&gt;[reffactura]&lt;/drawCentredString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.05cm&quot;&gt;Nº Cliente:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.6cm&quot;&gt;Nombre/Empresa:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.15cm&quot;&gt;NIF/CIF:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.7cm&quot;&gt;Dirección:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.25cm&quot;&gt;Población:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.8cm&quot;&gt;Teléfono:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.35cm&quot;&gt;Dirección Email:&lt;/drawString&gt;
+
+		&lt;!--Fecha factura--&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
+
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.95cm&quot;&gt;Fecha factura:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.5cm&quot;&gt;Nº factura:&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.95cm&quot;&gt;Referencia:&lt;/drawString&gt;
+
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.95cm&quot;&gt;[ffactura]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.5cm&quot;&gt;[codigoserie_factura] / [numfactura]&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.5cm&quot;&gt;[reffactura]&lt;/drawString&gt;
+
+		&lt;!-- INCLUDE FILE=&quot;[CONF_DIR_OPENREPORTS]plantilla_empresa.rml&quot; --&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;26.3cm&quot;&gt;- FACTURA -&lt;/drawCentredString&gt;
+
 &lt;!--END QUERY--&gt;
 &lt;!--END IF QUERY--&gt;
-		&lt;/pageGraphics&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;7&quot;/&gt;
+		&lt;drawString x=&quot;15cm&quot; y=&quot;22.7cm&quot;&gt;Los importes están expresados en euros.&lt;/drawString&gt;
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;25.85cm&quot;&gt;Forma de pago: &lt;!--QUERY=&quot;SELECT descforma_pago FROM forma_pago WHERE idforma_pago = [idforma_pago] LIMIT 1&quot;--&gt;[descforma_pago]&lt;!--END QUERY--&gt;&lt;/drawCentredString&gt;
+
+	&lt;/pageGraphics&gt;
+
+
 		&lt;!-- FRAME DE CONTENIDOS --&gt;
-		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;5cm&quot; width=&quot;19cm&quot; height=&quot;15cm&quot;/&gt;
+		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;8cm&quot; width=&quot;19cm&quot; height=&quot;14.6cm&quot; /&gt;
+
+		
 	&lt;/pageTemplate&gt;
 
 &lt;/template&gt;
 
-
 &lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
 
-&lt;story&gt;
-&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;1.75cm, 8.55cm, 1.2cm, 1.7cm, 1.8cm, 2.25cm&quot; repeatRows=&quot;1&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;Codigo&lt;/td&gt;
-&lt;td&gt;Concepto&lt;/td&gt;
-&lt;td&gt;Und&lt;/td&gt;
-&lt;td&gt;Precio&lt;/td&gt;
-&lt;td&gt;Dto&lt;/td&gt;
-&lt;td&gt;Total&lt;/td&gt;
-&lt;/tr&gt;
+&lt;story&gt;	
+	&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;3.00cm, 8.5cm, 1.8cm, 2cm, 2.9cm&quot; splitByRow=&quot;2&quot; rowheights=&quot;2&quot; repeatRows=&quot;1&quot;&gt;
+		&lt;tr&gt;
+			&lt;td&gt;Codigo&lt;/td&gt;
+			&lt;td&gt;Concepto&lt;/td&gt;
+			&lt;td&gt;Unid:&lt;/td&gt;
+			&lt;td&gt;Precio/u:&lt;/td&gt;
+			&lt;td&gt;Subtotal s/iva:&lt;/td&gt;
+		&lt;/tr&gt;
 &lt;!--LINEAS DETALLE--&gt;
 &lt;tr&gt;
 &lt;td&gt;[codigocompletoarticulo]&lt;/td&gt;
 &lt;td&gt;[desclfactura]&lt;/td&gt;
 &lt;td&gt;[cantlfactura]&lt;/td&gt;
 &lt;td&gt;[pvplfactura]&lt;/td&gt;
-&lt;td&gt;[descuentolfactura]%&lt;/td&gt;
 &lt;td&gt;[totallfactura]&lt;/td&gt;
 &lt;/tr&gt;
 &lt;!--END LINEAS DETALLE--&gt;
-&lt;/blockTable&gt;
-
-&lt;blockTable colWidths=&quot;1.75cm, 8.55cm, 1.2cm, 1.7cm, 1.8cm, 2.25cm&quot; repeatRows=&quot;1&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;[comentfactura]&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/blockTable&gt;
-
-
-
+	
 &lt;!--IF DESCUENTOS--&gt;
-&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
-	&lt;place x=&quot;4cm&quot; y=&quot;3.5cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;blockTable style=&quot;tabladescuento&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt; Descuento&lt;/td&gt;
-&lt;td&gt; Porcentaje&lt;/td&gt;
-&lt;td&gt; Total &lt;/td&gt;
-&lt;/tr&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Descuento/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;% Dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;Total dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
 &lt;!--LINEAS DESCUENTO--&gt;
-&lt;tr&gt;
-	&lt;td&gt;[conceptdfactura]&lt;/td&gt;
-	&lt;td&gt;[proporciondfactura]%&lt;/td&gt;
-	&lt;td&gt;[totaldescdfactura]&lt;/td&gt;
-&lt;/tr&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[conceptdfactura]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;[proporciondfactura]%&lt;/td&gt;
+			&lt;td&gt;[totaldescdfactura]&lt;/td&gt;
+		&lt;/tr&gt;
 &lt;!--END LINEAS DESCUENTO--&gt;
-&lt;/blockTable&gt;
-&lt;/place&gt;
-&lt;/storyPlace&gt;
 &lt;!--END IF DESCUENTOS--&gt;
 
-&lt;storyPlace x=&quot;2cm&quot; y=&quot;0cm&quot; width=&quot;19cm&quot; height=&quot;2cm&quot;&gt;
-&lt;place x=&quot;2cm&quot; y=&quot;0.5cm&quot; width=&quot;19cm&quot; height=&quot;4.5cm&quot;&gt;
-&lt;blockTable colWidths=&quot;7cm, 7cm&quot;&gt;
-&lt;!--TOTALES--&gt;
-&lt;tr&gt;
-&lt;td&gt;&lt;para&gt;Base Imponible [tbimp]%: &lt;font color=&quot;blue&quot;&gt;[bimp]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;I.V.A. [tbimp]%:  &lt;font color=&quot;blue&quot;&gt;[iva]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;!--END TOTALES--&gt;
-
-&lt;!--TOTREQ--&gt;
-&lt;tr&gt;
-&lt;td colspan=&quot;2&quot;&gt;&lt;para&gt;R.Eq. [tre]%: &lt;font color=&quot;blue&quot;&gt;[re]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;!--END TOTREQ--&gt;
-&lt;/blockTable&gt;
-
 
-&lt;blockTable&gt;
-&lt;tr&gt;
-&lt;!-- td&gt;&lt;para&gt;Total Descuentos &lt;font color=&quot;blue&quot;&gt;[totaldesc]&lt;/font&gt;&lt;/para&gt;&lt;/td--&gt;
-&lt;td&gt;&lt;para&gt;Total Base Imponible &lt;font color=&quot;blue&quot;&gt;[totalbimp]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;Total I.V.A &lt;font color=&quot;blue&quot;&gt;[totaliva]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;Total R.Eq &lt;font color=&quot;blue&quot;&gt;[totalre]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;&lt;b&gt;&lt;font size=&quot;15&quot;&gt; Total &lt;font color=&quot;blue&quot;&gt;[total]&lt;/font&gt;&lt;/font&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/blockTable&gt;
-&lt;/place&gt;
-&lt;/storyPlace&gt;
+&lt;!--IF QUERY=&quot;SELECT comentfactura FROM factura WHERE length(comentfactura) &gt; 0 AND idfactura = [idfactura]&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT comentfactura FROM factura WHERE length(comentfactura) &gt; 0 AND idfactura = [idfactura]&quot;--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Comentario/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[comentfactura]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
 
+	&lt;/blockTable&gt;
+
+	
+	&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;20cm&quot; height=&quot;1cm&quot;&gt;
+		&lt;place x=&quot;1cm&quot; y=&quot;4cm&quot; width=&quot;19cm&quot; height=&quot;4cm&quot;&gt;
+			&lt;blockTable style=&quot;total&quot; colWidths=&quot;16.3cm,2.7cm&quot; &gt;
+				&lt;tr&gt;
+					&lt;td colspan=&quot;2&quot;&gt;
+						&lt;blockTable style=&quot;titulo&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm, 2.7cm&quot;&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Base Imponible:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;I.V.A.%:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Tot I.V.A.:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Total:&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;contenido&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm&quot; &gt;
+						&lt;!--TOTALES--&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[bimp]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[tbimp]%&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[iva]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;!--END TOTALES--&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;preciofinal&quot; colWidths=&quot;2.7cm&quot; &gt;
+							&lt;tr&gt;
+								&lt;td&gt;[total] &#8364;&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;/blockTable&gt;
+		&lt;/place&gt;
+	&lt;/storyPlace&gt;
 
 &lt;!-- storyPlace x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
 &lt;place x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;FACT [idfactura] [numfactura] [reffactura]&lt;/barCode&gt;
+&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;ALB [idfactura] [numfactura] [reffactura]&lt;/barCode&gt;
 &lt;/place&gt;
 &lt;/storyPlace --&gt;
+
+
+&lt;!-- QUERY = &quot;SELECT * FROM factura WHERE idfactura=[idfactura] AND idforma_pago = 8 &quot;--&gt;
+
+&lt;storyPlace x=&quot;1cm&quot; y=&quot;2cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
+&lt;place x=&quot;1cm&quot; y=&quot;2cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
+  &lt;para&gt;Para transferencias bancarias &quot;La Caixa&quot; 2100 0650 44 0200224097&lt;/para&gt;
+&lt;/place&gt;
+&lt;/storyPlace&gt;
+
+&lt;!-- END QUERY --&gt;
+
 &lt;/story&gt;
 &lt;/document&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/fr/factura_alternativa1.rml b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/fr/factura_alternativa1.rml
deleted file mode 100644
index 61226a2..0000000
--- a/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/fr/factura_alternativa1.rml
+++ /dev/null
@@ -1,86 +0,0 @@
-&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot; ?&gt;
-&lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
-&lt;document&gt;
-&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Factura&quot; author=&quot;Tomeu Borras&quot; allowSplitting=&quot;20&quot;&gt;
-	&lt;pageTemplate id=&quot;main&quot;&gt;
-		&lt;pageGraphics&gt;
-		&lt;include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/&gt;
-
-		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
-		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;22&quot;/&gt;
-		&lt;drawString x=&quot;1.5cm&quot; y=&quot;24.5cm&quot;&gt;FACTURA&lt;/drawString&gt;
-
-		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;24cm&quot;&gt;[nomcliente] -- [telcliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23.5cm&quot;&gt;[dircliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
-
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
-		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;drawCentredString x=&quot;5.5cm&quot; y=&quot;21.2cm&quot;&gt;NIF&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;8.5cm&quot; y=&quot;21.2cm&quot;&gt;Cliente&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;11.5cm&quot; y=&quot;21.2cm&quot;&gt;Fecha&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;14.5cm&quot; y=&quot;21.2cm&quot;&gt;N. Fact&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;17.5cm&quot; y=&quot;21.2cm&quot;&gt;Ref&lt;/drawCentredString&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawCentredString x=&quot;5.5cm&quot; y=&quot;20.4cm&quot;&gt;[cifcliente]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;8.5cm&quot; y=&quot;20.4cm&quot;&gt;[idcliente]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;11.5cm&quot; y=&quot;20.4cm&quot;&gt;[ffactura]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;14.5cm&quot; y=&quot;20.4cm&quot;&gt;[codigoserie_factura]-[numfactura]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;17.5cm&quot; y=&quot;20.4cm&quot;&gt;[reffactura]&lt;/drawCentredString&gt;
-		&lt;/pageGraphics&gt;
-		&lt;!-- FRAME DE CONTENIDOS --&gt;
-		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;5cm&quot; width=&quot;19cm&quot; height=&quot;15cm&quot;/&gt;
-	&lt;/pageTemplate&gt;
-
-&lt;/template&gt;
-
-
-&lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
-
-&lt;story&gt;
-&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;1.75cm, 8.55cm, 1.2cm, 1.7cm, 1.8cm, 2.25cm&quot; repeatRows=&quot;1&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;Codigo&lt;/td&gt;
-&lt;td&gt;Concepto&lt;/td&gt;
-&lt;td&gt;Und&lt;/td&gt;
-&lt;td&gt;Precio&lt;/td&gt;
-&lt;td&gt;Dto&lt;/td&gt;
-&lt;td&gt;Total&lt;/td&gt;
-&lt;/tr&gt;
-[story]
-&lt;/blockTable&gt;
-
-&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
-	&lt;place x=&quot;4cm&quot; y=&quot;3.5cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;blockTable&gt;
-&lt;tr&gt;
-&lt;td align=&quot;right&quot;&gt;
-	[descuentos]
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/blockTable&gt;
-&lt;/place&gt;
-&lt;/storyPlace&gt;
-
-&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
-&lt;place x=&quot;12cm&quot; y=&quot;2cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;blockTable&gt;
-&lt;tr&gt;
-&lt;td align=&quot;right&quot;&gt;
-	[totales]
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/blockTable&gt;
-&lt;/place&gt;
-&lt;/storyPlace&gt;
-&lt;!-- storyPlace x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
-&lt;place x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;FACT [idfactura] [numfactura] [reffactura]&lt;/barCode&gt;
-&lt;/place&gt;
-&lt;/storyPlace --&gt;
-&lt;/story&gt;
-&lt;/document&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/fr/impers_factura_copia.rml b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/fr/impers_factura_copia.rml
new file mode 100644
index 0000000..57cc5fc
--- /dev/null
+++ b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/fr/impers_factura_copia.rml
@@ -0,0 +1,219 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot; ?&gt;
+&lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
+&lt;document&gt;
+&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Copia Factura&quot; author=&quot;&quot;&gt;
+	&lt;pageTemplate id=&quot;main&quot;&gt;
+		&lt;pageGraphics&gt;
+		&lt;include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/&gt;
+
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
+
+		&lt;!-- PAGADA --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;34&quot;/&gt;
+		&lt;fill color=&quot;(1,0.3,0.3)&quot;/&gt;
+		&lt;stroke color=&quot;(1,0.3,0.3)&quot;/&gt;
+		&lt;translate dx=&quot;15cm&quot; dy=&quot;-6.5cm&quot;/&gt;
+		&lt;rotate degrees=&quot;20&quot;/&gt;                                                                          
+		&lt;drawString x=&quot;25mm&quot; y=&quot;15.8cm&quot;&gt;ES COPIA&lt;/drawString&gt;                                           
+		&lt;lineMode width=&quot;2mm&quot;/&gt;                                                                         
+		&lt;rect round=&quot;1cm&quot; x=&quot;17.5mm&quot; y=&quot;15cm&quot; width=&quot;6.9cm&quot; height=&quot;2.5cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;          
+		&lt;rotate degrees=&quot;-20&quot;/&gt;                                                                         
+		&lt;translate dx=&quot;-15cm&quot; dy=&quot;6.5cm&quot;/&gt; 
+		
+		
+&lt;!--IF QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;11&quot;/&gt;
+		&lt;fill color=&quot;(1,1,1)&quot;/&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.53cm&quot;&gt;Datos del cliente:&lt;/drawString&gt;
+
+		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;26.05cm&quot;&gt;[idcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.6cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.15cm&quot;&gt;[cifcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.7cm&quot;&gt;[dircliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.25cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.8cm&quot;&gt;[telcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.35cm&quot;&gt;[mailcliente]&lt;/drawString&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.05cm&quot;&gt;Nº Cliente:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.6cm&quot;&gt;Nombre/Empresa:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.15cm&quot;&gt;NIF/CIF:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.7cm&quot;&gt;Dirección:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.25cm&quot;&gt;Población:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.8cm&quot;&gt;Teléfono:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.35cm&quot;&gt;Dirección Email:&lt;/drawString&gt;
+
+		&lt;!--Fecha factura--&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
+
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.95cm&quot;&gt;Fecha factura:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.5cm&quot;&gt;Nº factura:&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.95cm&quot;&gt;Referencia:&lt;/drawString&gt;
+
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.95cm&quot;&gt;[ffactura]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.5cm&quot;&gt;[codigoserie_factura] / [numfactura]&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.5cm&quot;&gt;[reffactura]&lt;/drawString&gt;
+
+		&lt;!-- INCLUDE FILE=&quot;[CONF_DIR_OPENREPORTS]plantilla_empresa.rml&quot; --&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;26.3cm&quot;&gt;- FACTURA -&lt;/drawCentredString&gt;
+
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;7&quot;/&gt;
+		&lt;drawString x=&quot;15cm&quot; y=&quot;22.7cm&quot;&gt;Los importes están expresados en euros.&lt;/drawString&gt;
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;25.85cm&quot;&gt;Forma de pago: &lt;!--QUERY=&quot;SELECT descforma_pago FROM forma_pago WHERE idforma_pago = [idforma_pago] LIMIT 1&quot;--&gt;[descforma_pago]&lt;!--END QUERY--&gt;&lt;/drawCentredString&gt;
+
+	&lt;/pageGraphics&gt;
+
+
+		&lt;!-- FRAME DE CONTENIDOS --&gt;
+		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;8cm&quot; width=&quot;19cm&quot; height=&quot;14.6cm&quot; /&gt;
+
+		
+	&lt;/pageTemplate&gt;
+
+&lt;/template&gt;
+
+&lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
+
+&lt;story&gt;	
+	&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;3.00cm, 8.5cm, 1.8cm, 2cm, 2.9cm&quot; splitByRow=&quot;2&quot; rowheights=&quot;2&quot; repeatRows=&quot;1&quot;&gt;
+		&lt;tr&gt;
+			&lt;td&gt;Codigo&lt;/td&gt;
+			&lt;td&gt;Concepto&lt;/td&gt;
+			&lt;td&gt;Unid:&lt;/td&gt;
+			&lt;td&gt;Precio/u:&lt;/td&gt;
+			&lt;td&gt;Subtotal s/iva:&lt;/td&gt;
+		&lt;/tr&gt;
+		[story codigocompletoarticulo, descfactura, cantfactura, pvpfactura, subtotalfactura]
+	
+&lt;!--IF DESCUENTOS--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Descuento/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;% Dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;Total dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+&lt;!--LINEAS DESCUENTO--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[conceptdfactura]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;[proporciondfactura]%&lt;/td&gt;
+			&lt;td&gt;[totaldescdfactura]&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END LINEAS DESCUENTO--&gt;
+&lt;!--END IF DESCUENTOS--&gt;
+
+
+&lt;!--IF QUERY=&quot;SELECT comentfactura FROM factura WHERE length(comentfactura) &gt; 0 AND idfactura = [idfactura]&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT comentfactura FROM factura WHERE length(comentfactura) &gt; 0 AND idfactura = [idfactura]&quot;--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Comentario/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[comentfactura]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+	&lt;/blockTable&gt;
+
+	
+	&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;20cm&quot; height=&quot;1cm&quot;&gt;
+		&lt;place x=&quot;1cm&quot; y=&quot;4cm&quot; width=&quot;19cm&quot; height=&quot;4cm&quot;&gt;
+			&lt;blockTable style=&quot;total&quot; colWidths=&quot;16.3cm,2.7cm&quot; &gt;
+				&lt;tr&gt;
+					&lt;td colspan=&quot;2&quot;&gt;
+						&lt;blockTable style=&quot;titulo&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm, 2.7cm&quot;&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Base Imponible:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;I.V.A.%:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Tot I.V.A.:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Total:&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;contenido&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm&quot; &gt;
+						&lt;!--TOTALES--&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[bimp]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[tbimp]%&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[iva]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;!--END TOTALES--&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;preciofinal&quot; colWidths=&quot;2.7cm&quot; &gt;
+							&lt;tr&gt;
+								&lt;td&gt;[total] &#8364;&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;/blockTable&gt;
+		&lt;/place&gt;
+	&lt;/storyPlace&gt;
+
+&lt;!-- storyPlace x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
+&lt;place x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
+&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;ALB [idfactura] [numfactura] [reffactura]&lt;/barCode&gt;
+&lt;/place&gt;
+&lt;/storyPlace --&gt;
+
+
+&lt;/story&gt;
+&lt;/document&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/fr/impers_factura_grafica.rml b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/fr/impers_factura_grafica.rml
new file mode 100644
index 0000000..d669ae7
--- /dev/null
+++ b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/fr/impers_factura_grafica.rml
@@ -0,0 +1,257 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot; ?&gt;
+&lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
+&lt;document&gt;
+&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Factura con estadisticas&quot; author=&quot;&quot;&gt;
+	&lt;pageTemplate id=&quot;main&quot;&gt;
+		&lt;pageGraphics&gt;
+		&lt;include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/&gt;
+
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
+		
+		
+&lt;!--IF QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;11&quot;/&gt;
+		&lt;fill color=&quot;(1,1,1)&quot;/&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.53cm&quot;&gt;Datos del cliente:&lt;/drawString&gt;
+
+		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;26.05cm&quot;&gt;[idcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.6cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.15cm&quot;&gt;[cifcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.7cm&quot;&gt;[dircliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.25cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.8cm&quot;&gt;[telcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.35cm&quot;&gt;[mailcliente]&lt;/drawString&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.05cm&quot;&gt;Nº Cliente:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.6cm&quot;&gt;Nombre/Empresa:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.15cm&quot;&gt;NIF/CIF:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.7cm&quot;&gt;Dirección:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.25cm&quot;&gt;Población:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.8cm&quot;&gt;Teléfono:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.35cm&quot;&gt;Dirección Email:&lt;/drawString&gt;
+
+		&lt;!--Fecha factura--&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
+
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.95cm&quot;&gt;Fecha factura:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.5cm&quot;&gt;Nº factura:&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.95cm&quot;&gt;Referencia:&lt;/drawString&gt;
+
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.95cm&quot;&gt;[ffactura]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.5cm&quot;&gt;[codigoserie_factura] / [numfactura]&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.5cm&quot;&gt;[reffactura]&lt;/drawString&gt;
+
+		&lt;!-- INCLUDE FILE=&quot;[CONF_DIR_OPENREPORTS]plantilla_empresa.rml&quot; --&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;26.3cm&quot;&gt;- FACTURA -&lt;/drawCentredString&gt;
+
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;7&quot;/&gt;
+		&lt;drawString x=&quot;15cm&quot; y=&quot;22.7cm&quot;&gt;Los importes están expresados en euros.&lt;/drawString&gt;
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;25.85cm&quot;&gt;Forma de pago: &lt;!--QUERY=&quot;SELECT descforma_pago FROM forma_pago WHERE idforma_pago = [idforma_pago] LIMIT 1&quot;--&gt;[descforma_pago]&lt;!--END QUERY--&gt;&lt;/drawCentredString&gt;
+
+	&lt;/pageGraphics&gt;
+
+
+		&lt;!-- FRAME DE CONTENIDOS --&gt;
+		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;8cm&quot; width=&quot;19cm&quot; height=&quot;14.6cm&quot; /&gt;
+
+		
+	&lt;/pageTemplate&gt;
+
+&lt;/template&gt;
+
+&lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
+
+&lt;story&gt;	
+	&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;3.00cm, 8.5cm, 1.8cm, 2cm, 2.9cm&quot; splitByRow=&quot;2&quot; rowheights=&quot;2&quot; repeatRows=&quot;1&quot;&gt;
+		&lt;tr&gt;
+			&lt;td&gt;Codigo&lt;/td&gt;
+			&lt;td&gt;Concepto&lt;/td&gt;
+			&lt;td&gt;Unid:&lt;/td&gt;
+			&lt;td&gt;Precio/u:&lt;/td&gt;
+			&lt;td&gt;Subtotal s/iva:&lt;/td&gt;
+		&lt;/tr&gt;
+		[story codigocompletoarticulo, descfactura, cantfactura, pvpfactura, subtotalfactura]
+	
+&lt;!--IF DESCUENTOS--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Descuento/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;% Dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;Total dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+&lt;!--LINEAS DESCUENTO--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[conceptdfactura]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;[proporciondfactura]%&lt;/td&gt;
+			&lt;td&gt;[totaldescdfactura]&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END LINEAS DESCUENTO--&gt;
+&lt;!--END IF DESCUENTOS--&gt;
+
+
+&lt;!--IF QUERY=&quot;SELECT comentfactura FROM factura WHERE length(comentfactura) &gt; 0 AND idfactura = [idfactura]&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT comentfactura FROM factura WHERE length(comentfactura) &gt; 0 AND idfactura = [idfactura]&quot;--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Comentario/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[comentfactura]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+	&lt;/blockTable&gt;
+
+	
+	&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;20cm&quot; height=&quot;1cm&quot;&gt;
+		&lt;place x=&quot;1cm&quot; y=&quot;4cm&quot; width=&quot;19cm&quot; height=&quot;4cm&quot;&gt;
+			&lt;blockTable style=&quot;total&quot; colWidths=&quot;16.3cm,2.7cm&quot; &gt;
+				&lt;tr&gt;
+					&lt;td colspan=&quot;2&quot;&gt;
+						&lt;blockTable style=&quot;titulo&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm, 2.7cm&quot;&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Base Imponible:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;I.V.A.%:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Tot I.V.A.:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Total:&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;contenido&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm&quot; &gt;
+						&lt;!--TOTALES--&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[bimp]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[tbimp]%&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[iva]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;!--END TOTALES--&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;preciofinal&quot; colWidths=&quot;2.7cm&quot; &gt;
+							&lt;tr&gt;
+								&lt;td&gt;[total] &#8364;&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;/blockTable&gt;
+		&lt;/place&gt;
+	&lt;/storyPlace&gt;
+
+
+&lt;storyPlace x=&quot;1cm&quot; y=&quot;1cm&quot; width=&quot;5cm&quot; height=&quot;5cm&quot;&gt;
+&lt;!-- place x=&quot;0cm&quot; y=&quot;-1cm&quot; width=&quot;5cm&quot; height=&quot;5cm&quot;&gt;
+&lt;illustration width=&quot;5cm&quot; height=&quot;4cm&quot; --&gt;
+  
+&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+&lt;drawString x=&quot;3cm&quot; y=&quot;5.5cm&quot;&gt;Facturacion del 2011&lt;/drawString&gt;
+&lt;barChart x=&quot;2cm&quot; y=&quot;1cm&quot; width=&quot;7cm&quot; height=&quot;3cm&quot;&gt;               
+
+&lt;!--QUERY=&quot;select '01/01/2011'::date as fin,  '31/01/2011'::date as fout 
+union select '01/02/2011'::date, '28/02/2011'::date 
+union select '01/03/2011'::date, '31/03/2011'::date
+union select '01/04/2011'::date, '30/04/2011'::date
+union select '01/05/2011'::date, '31/05/2011'::date
+union select '01/06/2011'::date, '30/06/2011'::date
+union select '01/07/2011'::date, '31/07/2011'::date
+union select '01/08/2011'::date, '31/08/2011'::date
+union select '01/09/2011'::date, '30/09/2011'::date
+union select '01/10/2011'::date, '31/10/2011'::date
+union select '01/11/2011'::date, '30/11/2011'::date
+union select '01/12/2011'::date, '31/12/2011'::date
+union select '01/01/2010'::date, '31/01/2010'::date 
+union select '01/02/2010'::date, '28/02/2010'::date 
+union select '01/03/2010'::date, '31/03/2010'::date
+union select '01/04/2010'::date, '30/04/2010'::date
+union select '01/05/2010'::date, '31/05/2010'::date
+union select '01/06/2010'::date, '30/06/2010'::date
+union select '01/07/2010'::date, '31/07/2010'::date
+union select '01/08/2010'::date, '31/08/2010'::date
+union select '01/09/2010'::date, '30/09/2010'::date
+union select '01/10/2010'::date, '31/10/2010'::date
+union select '01/11/2010'::date, '30/11/2010'::date
+union select '01/12/2010'::date, '31/12/2010'::date
+ORDER BY fin&quot;--&gt;
+
+&lt;!--IF SUBQUERY=&quot;SELECT COALESCE(sum(totalfactura),0) AS totalr FROM factura WHERE idcliente=[idcliente] AND ffactura &gt;= '[fin]'::date AND ffactura &lt;= '[fout]'::date&quot;--&gt;
+&lt;!-- SUBQUERY=&quot;SELECT COALESCE(sum(totalfactura),0) AS totalr FROM factura WHERE idcliente=[idcliente] AND ffactura &gt;= '[fin]'::date AND ffactura &lt;= '[fout]'::date&quot;--&gt;
+&lt;categorie color=&quot;(1,0.4,0.6)&quot;&gt;[fin] - [fout]&lt;/categorie&gt;
+&lt;data&gt;[totalr]&lt;/data&gt;
+&lt;!-- END SUBQUERY--&gt;
+
+&lt;!--END IF SUBQUERY--&gt;
+&lt;!--END QUERY--&gt;
+
+&lt;/barChart&gt;  
+&lt;!-- /illustration&gt;
+&lt;/place --&gt;
+&lt;/storyPlace&gt;
+
+&lt;!-- storyPlace x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
+&lt;place x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
+&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;ALB [idfactura] [numfactura] [reffactura]&lt;/barCode&gt;
+&lt;/place&gt;
+&lt;/storyPlace --&gt;
+
+
+&lt;/story&gt;
+&lt;/document&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/fr/impers_factura_pagada.rml b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/fr/impers_factura_pagada.rml
new file mode 100644
index 0000000..413f675
--- /dev/null
+++ b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/fr/impers_factura_pagada.rml
@@ -0,0 +1,219 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot; ?&gt;
+&lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
+&lt;document&gt;
+&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Factura Pagada&quot; author=&quot;&quot;&gt;
+	&lt;pageTemplate id=&quot;main&quot;&gt;
+		&lt;pageGraphics&gt;
+		&lt;include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/&gt;
+
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
+
+		&lt;!-- PAGADA --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;34&quot;/&gt;
+		&lt;fill color=&quot;(1,0.3,0.3)&quot;/&gt;
+		&lt;stroke color=&quot;(1,0.3,0.3)&quot;/&gt;
+		&lt;translate dx=&quot;15cm&quot; dy=&quot;-6.5cm&quot;/&gt;
+		&lt;rotate degrees=&quot;20&quot;/&gt;                                                                          
+		&lt;drawString x=&quot;25mm&quot; y=&quot;15.8cm&quot;&gt;PAGADO&lt;/drawString&gt;                                           
+		&lt;lineMode width=&quot;2mm&quot;/&gt;                                                                         
+		&lt;rect round=&quot;1cm&quot; x=&quot;17.5mm&quot; y=&quot;15cm&quot; width=&quot;6.5cm&quot; height=&quot;2.5cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;          
+		&lt;rotate degrees=&quot;-20&quot;/&gt;                                                                         
+		&lt;translate dx=&quot;-15cm&quot; dy=&quot;6.5cm&quot;/&gt; 
+		
+		
+&lt;!--IF QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;11&quot;/&gt;
+		&lt;fill color=&quot;(1,1,1)&quot;/&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.53cm&quot;&gt;Datos del cliente:&lt;/drawString&gt;
+
+		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;26.05cm&quot;&gt;[idcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.6cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.15cm&quot;&gt;[cifcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.7cm&quot;&gt;[dircliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.25cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.8cm&quot;&gt;[telcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.35cm&quot;&gt;[mailcliente]&lt;/drawString&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.05cm&quot;&gt;Nº Cliente:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.6cm&quot;&gt;Nombre/Empresa:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.15cm&quot;&gt;NIF/CIF:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.7cm&quot;&gt;Dirección:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.25cm&quot;&gt;Población:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.8cm&quot;&gt;Teléfono:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.35cm&quot;&gt;Dirección Email:&lt;/drawString&gt;
+
+		&lt;!--Fecha factura--&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
+
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.95cm&quot;&gt;Fecha factura:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.5cm&quot;&gt;Nº factura:&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.95cm&quot;&gt;Referencia:&lt;/drawString&gt;
+
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.95cm&quot;&gt;[ffactura]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.5cm&quot;&gt;[codigoserie_factura] / [numfactura]&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.5cm&quot;&gt;[reffactura]&lt;/drawString&gt;
+
+		&lt;!-- INCLUDE FILE=&quot;[CONF_DIR_OPENREPORTS]plantilla_empresa.rml&quot; --&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;26.3cm&quot;&gt;- FACTURA -&lt;/drawCentredString&gt;
+
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;7&quot;/&gt;
+		&lt;drawString x=&quot;15cm&quot; y=&quot;22.7cm&quot;&gt;Los importes están expresados en euros.&lt;/drawString&gt;
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;25.85cm&quot;&gt;Forma de pago: &lt;!--QUERY=&quot;SELECT descforma_pago FROM forma_pago WHERE idforma_pago = [idforma_pago] LIMIT 1&quot;--&gt;[descforma_pago]&lt;!--END QUERY--&gt;&lt;/drawCentredString&gt;
+
+	&lt;/pageGraphics&gt;
+
+
+		&lt;!-- FRAME DE CONTENIDOS --&gt;
+		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;8cm&quot; width=&quot;19cm&quot; height=&quot;14.6cm&quot; /&gt;
+
+		
+	&lt;/pageTemplate&gt;
+
+&lt;/template&gt;
+
+&lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
+
+&lt;story&gt;	
+	&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;3.00cm, 8.5cm, 1.8cm, 2cm, 2.9cm&quot; splitByRow=&quot;2&quot; rowheights=&quot;2&quot; repeatRows=&quot;1&quot;&gt;
+		&lt;tr&gt;
+			&lt;td&gt;Codigo&lt;/td&gt;
+			&lt;td&gt;Concepto&lt;/td&gt;
+			&lt;td&gt;Unid:&lt;/td&gt;
+			&lt;td&gt;Precio/u:&lt;/td&gt;
+			&lt;td&gt;Subtotal s/iva:&lt;/td&gt;
+		&lt;/tr&gt;
+		[story codigocompletoarticulo, descfactura, cantfactura, pvpfactura, subtotalfactura]
+	
+&lt;!--IF DESCUENTOS--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Descuento/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;% Dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;Total dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+&lt;!--LINEAS DESCUENTO--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[conceptdfactura]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;[proporciondfactura]%&lt;/td&gt;
+			&lt;td&gt;[totaldescdfactura]&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END LINEAS DESCUENTO--&gt;
+&lt;!--END IF DESCUENTOS--&gt;
+
+
+&lt;!--IF QUERY=&quot;SELECT comentfactura FROM factura WHERE length(comentfactura) &gt; 0 AND idfactura = [idfactura]&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT comentfactura FROM factura WHERE length(comentfactura) &gt; 0 AND idfactura = [idfactura]&quot;--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Comentario/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[comentfactura]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+	&lt;/blockTable&gt;
+
+	
+	&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;20cm&quot; height=&quot;1cm&quot;&gt;
+		&lt;place x=&quot;1cm&quot; y=&quot;4cm&quot; width=&quot;19cm&quot; height=&quot;4cm&quot;&gt;
+			&lt;blockTable style=&quot;total&quot; colWidths=&quot;16.3cm,2.7cm&quot; &gt;
+				&lt;tr&gt;
+					&lt;td colspan=&quot;2&quot;&gt;
+						&lt;blockTable style=&quot;titulo&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm, 2.7cm&quot;&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Base Imponible:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;I.V.A.%:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Tot I.V.A.:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Total:&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;contenido&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm&quot; &gt;
+						&lt;!--TOTALES--&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[bimp]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[tbimp]%&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[iva]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;!--END TOTALES--&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;preciofinal&quot; colWidths=&quot;2.7cm&quot; &gt;
+							&lt;tr&gt;
+								&lt;td&gt;[total] &#8364;&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;/blockTable&gt;
+		&lt;/place&gt;
+	&lt;/storyPlace&gt;
+
+&lt;!-- storyPlace x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
+&lt;place x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
+&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;ALB [idfactura] [numfactura] [reffactura]&lt;/barCode&gt;
+&lt;/place&gt;
+&lt;/storyPlace --&gt;
+
+
+&lt;/story&gt;
+&lt;/document&gt;

commit 9a3ebb002e50804b9c34dfa24b546b29d9905b78
Author: Tomeu Borras &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">tborras en conetxia.com</A>&gt;
Date:   Mon Apr 16 12:12:16 2012 +0200

    Cambio la plantilla de albaran

diff --git a/bulmages/bulmafact/plugins/pluginbf_clientealbaran/README.ca b/bulmages/bulmafact/plugins/pluginbf_clientealbaran/README.ca
index d0cc94e..1dc2186 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientealbaran/README.ca
+++ b/bulmages/bulmafact/plugins/pluginbf_clientealbaran/README.ca
@@ -32,7 +32,7 @@ Dependencias: libpluginbf_cliente.so
 
 Incompatibles:
 
-Reports: albarancliente.rml; albaran.rml; blform_AlbaranClienteView.qs
+Reports: albaran.rml; blform_AlbaranClienteView.qs
 
 Categorias: Facturació genèrica;
 
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientealbaran/README.en b/bulmages/bulmafact/plugins/pluginbf_clientealbaran/README.en
index 6448ad8..b9b1293 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientealbaran/README.en
+++ b/bulmages/bulmafact/plugins/pluginbf_clientealbaran/README.en
@@ -32,7 +32,7 @@ Dependencias: libpluginbf_cliente.so
 
 Incompatibles:
 
-Reports: albarancliente.rml; albaran.rml; blform_AlbaranClienteView.qs
+Reports: albaran.rml; blform_AlbaranClienteView.qs
 
 Categorias: Generic invoicing;
 
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientealbaran/README.es b/bulmages/bulmafact/plugins/pluginbf_clientealbaran/README.es
index b836439..1fe3af5 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientealbaran/README.es
+++ b/bulmages/bulmafact/plugins/pluginbf_clientealbaran/README.es
@@ -38,7 +38,7 @@ Dependencias: libpluginbf_cliente.so
 
 Incompatibles:
 
-Reports: albarancliente.rml; albaran.rml; blform_AlbaranClienteView.qs
+Reports: albaran.rml; blform_AlbaranClienteView.qs
 
 Categorias: Facturacion generica;
 
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientealbaran/README.fr b/bulmages/bulmafact/plugins/pluginbf_clientealbaran/README.fr
index f58e338..d1a5cd3 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientealbaran/README.fr
+++ b/bulmages/bulmafact/plugins/pluginbf_clientealbaran/README.fr
@@ -32,7 +32,7 @@ Dependencias: libpluginbf_cliente.so
 
 Incompatibles:
 
-Reports: albarancliente.rml; albaran.rml; blform_AlbaranClienteView.qs
+Reports: albaran.rml; blform_AlbaranClienteView.qs
 
 Categorias: Facturation generique;
 
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientealbaran/openreports/ca/albaran.rml b/bulmages/bulmafact/plugins/pluginbf_clientealbaran/openreports/ca/albaran.rml
index 084ae78..c05f3f6 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientealbaran/openreports/ca/albaran.rml
+++ b/bulmages/bulmafact/plugins/pluginbf_clientealbaran/openreports/ca/albaran.rml
@@ -1,94 +1,207 @@
 &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot; ?&gt;
 &lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
 &lt;document&gt;
-&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Albaran&quot; author=&quot;Tomeu Borras&quot; allowSplitting=&quot;20&quot;&gt;
+&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Albaran&quot; author=&quot;&quot;&gt;
 	&lt;pageTemplate id=&quot;main&quot;&gt;
 		&lt;pageGraphics&gt;
 		&lt;include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/&gt;
 
 		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
 		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;22&quot;/&gt;
-		&lt;drawString x=&quot;1.5cm&quot; y=&quot;24.5cm&quot;&gt;ALBARAN&lt;/drawString&gt;
+		
+&lt;!--IF QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
 
-&lt;!--IF QUERY=&quot;SELECT * FROM CLIENTE WHERE idcliente = [idcliente]&quot;--&gt;
-&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente=[idcliente]&quot;--&gt;
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;11&quot;/&gt;
+		&lt;fill color=&quot;(1,1,1)&quot;/&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.53cm&quot;&gt;Datos del cliente:&lt;/drawString&gt;
 
 		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;24cm&quot;&gt;[nomcliente] -- [telcliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23.5cm&quot;&gt;[dircliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;26.05cm&quot;&gt;[idcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.6cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.15cm&quot;&gt;[cifcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.7cm&quot;&gt;[dircliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.25cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.8cm&quot;&gt;[telcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.35cm&quot;&gt;[mailcliente]&lt;/drawString&gt;
 
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
 		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
-		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;drawCentredString x=&quot;5.5cm&quot; y=&quot;21.2cm&quot;&gt;NIF&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;8.5cm&quot; y=&quot;21.2cm&quot;&gt;Cliente&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;11.5cm&quot; y=&quot;21.2cm&quot;&gt;Fecha&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;14.5cm&quot; y=&quot;21.2cm&quot;&gt;N. Alb&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;17.5cm&quot; y=&quot;21.2cm&quot;&gt;Ref.&lt;/drawCentredString&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawCentredString x=&quot;5.5cm&quot; y=&quot;20.4cm&quot;&gt;[cifcliente]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;8.5cm&quot; y=&quot;20.4cm&quot;&gt;[idcliente]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;11.5cm&quot; y=&quot;20.4cm&quot;&gt;[fechaalbaran]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;14.5cm&quot; y=&quot;20.4cm&quot;&gt;[numalbaran]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;17.5cm&quot; y=&quot;20.4cm&quot;&gt;[refalbaran]&lt;/drawCentredString&gt;
-	&lt;/pageGraphics&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.05cm&quot;&gt;Nº Cliente:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.6cm&quot;&gt;Nombre/Empresa:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.15cm&quot;&gt;NIF/CIF:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.7cm&quot;&gt;Dirección:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.25cm&quot;&gt;Población:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.8cm&quot;&gt;Teléfono:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.35cm&quot;&gt;Dirección Email:&lt;/drawString&gt;
+
+		&lt;!--Fecha presupuesto--&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
+
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.95cm&quot;&gt;Fecha albaran:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.5cm&quot;&gt;Nº albaran:&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.95cm&quot;&gt;Referencia:&lt;/drawString&gt;
+
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.95cm&quot;&gt;[fechaalbaran]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.5cm&quot;&gt;[numalbaran]&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.5cm&quot;&gt;[refalbaran]&lt;/drawString&gt;
+
+		&lt;!-- INCLUDE FILE=&quot;[CONF_DIR_OPENREPORTS]plantilla_empresa.rml&quot; --&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;26.3cm&quot;&gt;- ALBARÁN -&lt;/drawCentredString&gt;
 
 &lt;!--END QUERY--&gt;
 &lt;!--END IF QUERY--&gt;
 
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;7&quot;/&gt;
+		&lt;drawString x=&quot;15cm&quot; y=&quot;22.7cm&quot;&gt;Los importes están expresados en euros.&lt;/drawString&gt;
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;25.85cm&quot;&gt;Forma de pago: &lt;!--QUERY=&quot;SELECT descforma_pago FROM forma_pago WHERE idforma_pago = [idforma_pago] LIMIT 1&quot;--&gt;[descforma_pago]&lt;!--END QUERY--&gt;&lt;/drawCentredString&gt;
+
+	&lt;/pageGraphics&gt;
+
+
 		&lt;!-- FRAME DE CONTENIDOS --&gt;
-		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;5cm&quot; width=&quot;19cm&quot; height=&quot;15cm&quot;/&gt;
+		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;8cm&quot; width=&quot;19cm&quot; height=&quot;14.6cm&quot; /&gt;
+
+		
 	&lt;/pageTemplate&gt;
 
 &lt;/template&gt;
 
 &lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
 
-&lt;story&gt;
-&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;1.75cm, 8.55cm, 1.2cm, 1.7cm, 1.8cm, 2.25cm&quot; repeatRows=&quot;1&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;Codigo&lt;/td&gt;
-&lt;td&gt;Concepto&lt;/td&gt;
-&lt;td&gt;Und.&lt;/td&gt;
-&lt;td&gt;Precio&lt;/td&gt;
-&lt;td&gt;Dto.&lt;/td&gt;
-&lt;td&gt;Total&lt;/td&gt;
-&lt;/tr&gt;
-[story]
-&lt;/blockTable&gt;
-
-&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
-	&lt;place x=&quot;4cm&quot; y=&quot;3.5cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;blockTable&gt;
-&lt;tr&gt;
-&lt;td align=&quot;right&quot;&gt;
-	[descuentos]
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/blockTable&gt;
-&lt;/place&gt;
-&lt;/storyPlace&gt;
+&lt;story&gt;	
+	&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;3.00cm, 8.5cm, 1.8cm, 2cm, 2.9cm&quot; splitByRow=&quot;2&quot; rowheights=&quot;2&quot; repeatRows=&quot;1&quot;&gt;
+		&lt;tr&gt;
+			&lt;td&gt;Codigo&lt;/td&gt;
+			&lt;td&gt;Concepto&lt;/td&gt;
+			&lt;td&gt;Unid:&lt;/td&gt;
+			&lt;td&gt;Precio/u:&lt;/td&gt;
+			&lt;td&gt;Subtotal s/iva:&lt;/td&gt;
+		&lt;/tr&gt;
+		[story codigocompletoarticulo, descalbaran, cantalbaran, pvpalbaran, subtotalalbaran]	
+		
+&lt;!--IF DESCUENTOS--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
 
-&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;20cm&quot; height=&quot;1cm&quot;&gt;
-&lt;place x=&quot;6cm&quot; y=&quot;2cm&quot; width=&quot;20cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;blockTable&gt;
-&lt;tr&gt;
-	&lt;td align=&quot;right&quot;&gt;
-		[totales]
-	&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/blockTable&gt;
-&lt;/place&gt;
-&lt;/storyPlace&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Descuento/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;% Dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;Total dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+&lt;!--LINEAS DESCUENTO--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[conceptdalbaran]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;[proporciondalbaran]%&lt;/td&gt;
+			&lt;td&gt;[totaldescdalbaran]&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END LINEAS DESCUENTO--&gt;
+&lt;!--END IF DESCUENTOS--&gt;
 
-&lt;!-- storyPlace x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
-&lt;place x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
+
+&lt;!--IF QUERY=&quot;SELECT comentalbaran FROM albaran WHERE length(comentalbaran) &gt; 0 AND idalbaran = [idalbaran]&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT comentalbaran FROM albaran WHERE length(comentalbaran) &gt; 0 AND idalbaran = [idalbaran]&quot;--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Comentario/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[comentalbaran]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+
+	&lt;/blockTable&gt;
+
+	
+	&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;20cm&quot; height=&quot;1cm&quot;&gt;
+		&lt;place x=&quot;1cm&quot; y=&quot;4cm&quot; width=&quot;19cm&quot; height=&quot;4cm&quot;&gt;
+			&lt;blockTable style=&quot;total&quot; colWidths=&quot;16.3cm,2.7cm&quot; &gt;
+				&lt;tr&gt;
+					&lt;td colspan=&quot;2&quot;&gt;
+						&lt;blockTable style=&quot;titulo&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm, 2.7cm&quot;&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Base Imponible:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;I.V.A.%:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Tot I.V.A.:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Total:&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;contenido&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm&quot; &gt;
+						&lt;!--TOTALES--&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[bimp]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[tbimp]%&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[iva]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;!--END TOTALES--&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;preciofinal&quot; colWidths=&quot;2.7cm&quot; &gt;
+							&lt;tr&gt;
+								&lt;td&gt;[total] &#8364;&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;/blockTable&gt;
+		&lt;/place&gt;
+	&lt;/storyPlace&gt;
+
+&lt;storyPlace x=&quot;16cm&quot; y=&quot;1cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
+&lt;place x=&quot;16cm&quot; y=&quot;1cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
 &lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;ALB [idalbaran] [numalbaran] [refalbaran]&lt;/barCode&gt;
 &lt;/place&gt;
-&lt;/storyPlace --&gt;
+&lt;/storyPlace&gt;
+
 
 &lt;/story&gt;
 &lt;/document&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientealbaran/openreports/ca/albarancliente.rml b/bulmages/bulmafact/plugins/pluginbf_clientealbaran/openreports/ca/albarancliente.rml
deleted file mode 100644
index e225e8b..0000000
--- a/bulmages/bulmafact/plugins/pluginbf_clientealbaran/openreports/ca/albarancliente.rml
+++ /dev/null
@@ -1,73 +0,0 @@
-&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot; ?&gt;
-&lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
-&lt;document&gt;
-&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;2.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Albar&aacute;n de cliente&quot; author=&quot;Tomeu Borras&quot; allowSplitting=&quot;20&quot;&gt;
-	&lt;pageTemplate id=&quot;main&quot;&gt;
-		&lt;pageGraphics&gt;
-		&lt;!-- EL LOGO DE CABECERA --&gt;
-		&lt;image x=&quot;3cm&quot; y=&quot;26cm&quot; width=&quot;17cm&quot; file=&quot;logo.jpg&quot;/&gt;
-
-		&lt;!-- EL DRAFT --&gt;
-			&lt;!--setFont name=&quot;Helvetica&quot; size=&quot;100&quot;/&gt;
-			&lt;fill color=&quot;(1,0.9,0.9)&quot;/&gt;
-			&lt;stroke color=&quot;(1,0.9,0.9)&quot;/&gt;
-			&lt;translate dx=&quot;15cm&quot; dy=&quot;-5.5cm&quot;/&gt;
-			&lt;rotate degrees=&quot;50&quot;/&gt;
-			&lt;drawString x=&quot;23mm&quot; y=&quot;15.7cm&quot;&gt;BORRADOR&lt;/drawString&gt;
-			&lt;lineMode width=&quot;4mm&quot;/&gt;
-			&lt;rect round=&quot;1cm&quot; x=&quot;18mm&quot; y=&quot;15cm&quot; width=&quot;21cm&quot; height=&quot;4cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;	
-		&lt;rotate degrees=&quot;-50&quot;/&gt;
-		&lt;translate dx=&quot;-15cm&quot; dy=&quot;5.5cm&quot;/--&gt;
-
-		&lt;!-- EL PIE DE PAGINA --&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;8&quot;/&gt;		
-		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
-		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;drawString x=&quot;7.3cm&quot; y=&quot;1.2cm&quot;&gt;www.iglues.org -- <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">info en iglues.org</A> --&lt;/drawString&gt;	
-
-		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
-		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;22&quot;/&gt;
-		&lt;drawString x=&quot;1.5cm&quot; y=&quot;24.5cm&quot;&gt;ALBAR&Aacute;N A CLIENTE&lt;/drawString&gt;
-
-
-		&lt;!-- EL RECUADRO DONDE VA EL CLIENTE --&gt;
-		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;lineMode width=&quot;0.3mm&quot;/&gt;
-		&lt;rect round=&quot;0.25cm&quot; x=&quot;8cm&quot; y=&quot;22.4cm&quot; width=&quot;11cm&quot; height=&quot;2.5cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;
-
-		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;24cm&quot;&gt;[nomcliente] -- [telcliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23.5cm&quot;&gt;[dircliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
-		&lt;/pageGraphics&gt;
-
-		&lt;!-- FRAME DE CONTENIDOS --&gt;
-		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;2cm&quot; width=&quot;19cm&quot; height=&quot;20cm&quot;/&gt;
-	&lt;/pageTemplate&gt;
-&lt;/template&gt;
-&lt;stylesheet&gt;
-	&lt;blockTableStyle id=&quot;tabla&quot;&gt;
-		&lt;lineStyle kind=&quot;INNERGRID&quot; colorName=&quot;grey&quot; start=&quot;0,1&quot; stop=&quot;-1,-4&quot;/&gt;
-		&lt;lineStyle kind=&quot;OUTLINE&quot; colorName=&quot;black&quot;  start=&quot;0,0&quot; stop=&quot;-1,-4&quot;/&gt;
-		&lt;lineStyle kind=&quot;OUTLINE&quot; colorName=&quot;black&quot;  start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
-		&lt;lineStyle kind=&quot;OUTLINE&quot; colorName=&quot;black&quot;  start=&quot;-2,-1&quot; stop=&quot;-1,-1&quot;/&gt;
-		&lt;lineStyle kind=&quot;OUTLINE&quot; colorName=&quot;black&quot;  start=&quot;-2,-2&quot; stop=&quot;-1,-2&quot;/&gt;		
-		&lt;lineStyle kind=&quot;OUTLINE&quot; colorName=&quot;black&quot;  start=&quot;-2,-3&quot; stop=&quot;-1,-3&quot;/&gt;		
-		&lt;blockAlignment value=&quot;RIGHT&quot; start=&quot;1,1&quot; stop=&quot;-1,-1&quot;/&gt;
-		&lt;blockBackground colorName=&quot;(0.8,0.4,0.4)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
-	&lt;/blockTableStyle&gt;
-&lt;/stylesheet&gt;
-
-&lt;story&gt;
-	[story]
-	&lt;spacer length=&quot;5mm&quot; width=&quot;1mm&quot;/&gt;	
-&lt;para&gt;&lt;/para&gt;
-&lt;para&gt;&lt;/para&gt;
-&lt;para&gt;&lt;/para&gt;
-&lt;para&gt;&lt;/para&gt;
-&lt;para&gt;&lt;pre&gt;[comentpedidocliente]&lt;/pre&gt;&lt;/para&gt;
-	
-&lt;/story&gt;
-&lt;/document&gt;
\ No newline at end of file
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientealbaran/openreports/en/albaran.rml b/bulmages/bulmafact/plugins/pluginbf_clientealbaran/openreports/en/albaran.rml
index 084ae78..c05f3f6 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientealbaran/openreports/en/albaran.rml
+++ b/bulmages/bulmafact/plugins/pluginbf_clientealbaran/openreports/en/albaran.rml
@@ -1,94 +1,207 @@
 &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot; ?&gt;
 &lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
 &lt;document&gt;
-&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Albaran&quot; author=&quot;Tomeu Borras&quot; allowSplitting=&quot;20&quot;&gt;
+&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Albaran&quot; author=&quot;&quot;&gt;
 	&lt;pageTemplate id=&quot;main&quot;&gt;
 		&lt;pageGraphics&gt;
 		&lt;include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/&gt;
 
 		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
 		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;22&quot;/&gt;
-		&lt;drawString x=&quot;1.5cm&quot; y=&quot;24.5cm&quot;&gt;ALBARAN&lt;/drawString&gt;
+		
+&lt;!--IF QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
 
-&lt;!--IF QUERY=&quot;SELECT * FROM CLIENTE WHERE idcliente = [idcliente]&quot;--&gt;
-&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente=[idcliente]&quot;--&gt;
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;11&quot;/&gt;
+		&lt;fill color=&quot;(1,1,1)&quot;/&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.53cm&quot;&gt;Datos del cliente:&lt;/drawString&gt;
 
 		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;24cm&quot;&gt;[nomcliente] -- [telcliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23.5cm&quot;&gt;[dircliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;26.05cm&quot;&gt;[idcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.6cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.15cm&quot;&gt;[cifcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.7cm&quot;&gt;[dircliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.25cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.8cm&quot;&gt;[telcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.35cm&quot;&gt;[mailcliente]&lt;/drawString&gt;
 
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
 		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
-		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;drawCentredString x=&quot;5.5cm&quot; y=&quot;21.2cm&quot;&gt;NIF&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;8.5cm&quot; y=&quot;21.2cm&quot;&gt;Cliente&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;11.5cm&quot; y=&quot;21.2cm&quot;&gt;Fecha&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;14.5cm&quot; y=&quot;21.2cm&quot;&gt;N. Alb&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;17.5cm&quot; y=&quot;21.2cm&quot;&gt;Ref.&lt;/drawCentredString&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawCentredString x=&quot;5.5cm&quot; y=&quot;20.4cm&quot;&gt;[cifcliente]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;8.5cm&quot; y=&quot;20.4cm&quot;&gt;[idcliente]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;11.5cm&quot; y=&quot;20.4cm&quot;&gt;[fechaalbaran]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;14.5cm&quot; y=&quot;20.4cm&quot;&gt;[numalbaran]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;17.5cm&quot; y=&quot;20.4cm&quot;&gt;[refalbaran]&lt;/drawCentredString&gt;
-	&lt;/pageGraphics&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.05cm&quot;&gt;Nº Cliente:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.6cm&quot;&gt;Nombre/Empresa:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.15cm&quot;&gt;NIF/CIF:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.7cm&quot;&gt;Dirección:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.25cm&quot;&gt;Población:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.8cm&quot;&gt;Teléfono:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.35cm&quot;&gt;Dirección Email:&lt;/drawString&gt;
+
+		&lt;!--Fecha presupuesto--&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
+
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.95cm&quot;&gt;Fecha albaran:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.5cm&quot;&gt;Nº albaran:&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.95cm&quot;&gt;Referencia:&lt;/drawString&gt;
+
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.95cm&quot;&gt;[fechaalbaran]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.5cm&quot;&gt;[numalbaran]&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.5cm&quot;&gt;[refalbaran]&lt;/drawString&gt;
+
+		&lt;!-- INCLUDE FILE=&quot;[CONF_DIR_OPENREPORTS]plantilla_empresa.rml&quot; --&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;26.3cm&quot;&gt;- ALBARÁN -&lt;/drawCentredString&gt;
 
 &lt;!--END QUERY--&gt;
 &lt;!--END IF QUERY--&gt;
 
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;7&quot;/&gt;
+		&lt;drawString x=&quot;15cm&quot; y=&quot;22.7cm&quot;&gt;Los importes están expresados en euros.&lt;/drawString&gt;
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;25.85cm&quot;&gt;Forma de pago: &lt;!--QUERY=&quot;SELECT descforma_pago FROM forma_pago WHERE idforma_pago = [idforma_pago] LIMIT 1&quot;--&gt;[descforma_pago]&lt;!--END QUERY--&gt;&lt;/drawCentredString&gt;
+
+	&lt;/pageGraphics&gt;
+
+
 		&lt;!-- FRAME DE CONTENIDOS --&gt;
-		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;5cm&quot; width=&quot;19cm&quot; height=&quot;15cm&quot;/&gt;
+		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;8cm&quot; width=&quot;19cm&quot; height=&quot;14.6cm&quot; /&gt;
+
+		
 	&lt;/pageTemplate&gt;
 
 &lt;/template&gt;
 
 &lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
 
-&lt;story&gt;
-&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;1.75cm, 8.55cm, 1.2cm, 1.7cm, 1.8cm, 2.25cm&quot; repeatRows=&quot;1&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;Codigo&lt;/td&gt;
-&lt;td&gt;Concepto&lt;/td&gt;
-&lt;td&gt;Und.&lt;/td&gt;
-&lt;td&gt;Precio&lt;/td&gt;
-&lt;td&gt;Dto.&lt;/td&gt;
-&lt;td&gt;Total&lt;/td&gt;
-&lt;/tr&gt;
-[story]
-&lt;/blockTable&gt;
-
-&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
-	&lt;place x=&quot;4cm&quot; y=&quot;3.5cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;blockTable&gt;
-&lt;tr&gt;
-&lt;td align=&quot;right&quot;&gt;
-	[descuentos]
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/blockTable&gt;
-&lt;/place&gt;
-&lt;/storyPlace&gt;
+&lt;story&gt;	
+	&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;3.00cm, 8.5cm, 1.8cm, 2cm, 2.9cm&quot; splitByRow=&quot;2&quot; rowheights=&quot;2&quot; repeatRows=&quot;1&quot;&gt;
+		&lt;tr&gt;
+			&lt;td&gt;Codigo&lt;/td&gt;
+			&lt;td&gt;Concepto&lt;/td&gt;
+			&lt;td&gt;Unid:&lt;/td&gt;
+			&lt;td&gt;Precio/u:&lt;/td&gt;
+			&lt;td&gt;Subtotal s/iva:&lt;/td&gt;
+		&lt;/tr&gt;
+		[story codigocompletoarticulo, descalbaran, cantalbaran, pvpalbaran, subtotalalbaran]	
+		
+&lt;!--IF DESCUENTOS--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
 
-&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;20cm&quot; height=&quot;1cm&quot;&gt;
-&lt;place x=&quot;6cm&quot; y=&quot;2cm&quot; width=&quot;20cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;blockTable&gt;
-&lt;tr&gt;
-	&lt;td align=&quot;right&quot;&gt;
-		[totales]
-	&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/blockTable&gt;
-&lt;/place&gt;
-&lt;/storyPlace&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Descuento/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;% Dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;Total dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+&lt;!--LINEAS DESCUENTO--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[conceptdalbaran]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;[proporciondalbaran]%&lt;/td&gt;
+			&lt;td&gt;[totaldescdalbaran]&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END LINEAS DESCUENTO--&gt;
+&lt;!--END IF DESCUENTOS--&gt;
 
-&lt;!-- storyPlace x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
-&lt;place x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
+
+&lt;!--IF QUERY=&quot;SELECT comentalbaran FROM albaran WHERE length(comentalbaran) &gt; 0 AND idalbaran = [idalbaran]&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT comentalbaran FROM albaran WHERE length(comentalbaran) &gt; 0 AND idalbaran = [idalbaran]&quot;--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Comentario/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[comentalbaran]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+
+	&lt;/blockTable&gt;
+
+	
+	&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;20cm&quot; height=&quot;1cm&quot;&gt;
+		&lt;place x=&quot;1cm&quot; y=&quot;4cm&quot; width=&quot;19cm&quot; height=&quot;4cm&quot;&gt;
+			&lt;blockTable style=&quot;total&quot; colWidths=&quot;16.3cm,2.7cm&quot; &gt;
+				&lt;tr&gt;
+					&lt;td colspan=&quot;2&quot;&gt;
+						&lt;blockTable style=&quot;titulo&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm, 2.7cm&quot;&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Base Imponible:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;I.V.A.%:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Tot I.V.A.:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Total:&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;contenido&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm&quot; &gt;
+						&lt;!--TOTALES--&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[bimp]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[tbimp]%&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[iva]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;!--END TOTALES--&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;preciofinal&quot; colWidths=&quot;2.7cm&quot; &gt;
+							&lt;tr&gt;
+								&lt;td&gt;[total] &#8364;&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;/blockTable&gt;
+		&lt;/place&gt;
+	&lt;/storyPlace&gt;
+
+&lt;storyPlace x=&quot;16cm&quot; y=&quot;1cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
+&lt;place x=&quot;16cm&quot; y=&quot;1cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
 &lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;ALB [idalbaran] [numalbaran] [refalbaran]&lt;/barCode&gt;
 &lt;/place&gt;
-&lt;/storyPlace --&gt;
+&lt;/storyPlace&gt;
+
 
 &lt;/story&gt;
 &lt;/document&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientealbaran/openreports/en/albarancliente.rml b/bulmages/bulmafact/plugins/pluginbf_clientealbaran/openreports/en/albarancliente.rml
deleted file mode 100644
index e225e8b..0000000
--- a/bulmages/bulmafact/plugins/pluginbf_clientealbaran/openreports/en/albarancliente.rml
+++ /dev/null
@@ -1,73 +0,0 @@
-&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot; ?&gt;
-&lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
-&lt;document&gt;
-&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;2.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Albar&aacute;n de cliente&quot; author=&quot;Tomeu Borras&quot; allowSplitting=&quot;20&quot;&gt;
-	&lt;pageTemplate id=&quot;main&quot;&gt;
-		&lt;pageGraphics&gt;
-		&lt;!-- EL LOGO DE CABECERA --&gt;
-		&lt;image x=&quot;3cm&quot; y=&quot;26cm&quot; width=&quot;17cm&quot; file=&quot;logo.jpg&quot;/&gt;
-
-		&lt;!-- EL DRAFT --&gt;
-			&lt;!--setFont name=&quot;Helvetica&quot; size=&quot;100&quot;/&gt;
-			&lt;fill color=&quot;(1,0.9,0.9)&quot;/&gt;
-			&lt;stroke color=&quot;(1,0.9,0.9)&quot;/&gt;
-			&lt;translate dx=&quot;15cm&quot; dy=&quot;-5.5cm&quot;/&gt;
-			&lt;rotate degrees=&quot;50&quot;/&gt;
-			&lt;drawString x=&quot;23mm&quot; y=&quot;15.7cm&quot;&gt;BORRADOR&lt;/drawString&gt;
-			&lt;lineMode width=&quot;4mm&quot;/&gt;
-			&lt;rect round=&quot;1cm&quot; x=&quot;18mm&quot; y=&quot;15cm&quot; width=&quot;21cm&quot; height=&quot;4cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;	
-		&lt;rotate degrees=&quot;-50&quot;/&gt;
-		&lt;translate dx=&quot;-15cm&quot; dy=&quot;5.5cm&quot;/--&gt;
-
-		&lt;!-- EL PIE DE PAGINA --&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;8&quot;/&gt;		
-		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
-		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;drawString x=&quot;7.3cm&quot; y=&quot;1.2cm&quot;&gt;www.iglues.org -- <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">info en iglues.org</A> --&lt;/drawString&gt;	
-
-		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
-		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;22&quot;/&gt;
-		&lt;drawString x=&quot;1.5cm&quot; y=&quot;24.5cm&quot;&gt;ALBAR&Aacute;N A CLIENTE&lt;/drawString&gt;
-
-
-		&lt;!-- EL RECUADRO DONDE VA EL CLIENTE --&gt;
-		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;lineMode width=&quot;0.3mm&quot;/&gt;
-		&lt;rect round=&quot;0.25cm&quot; x=&quot;8cm&quot; y=&quot;22.4cm&quot; width=&quot;11cm&quot; height=&quot;2.5cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;
-
-		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;24cm&quot;&gt;[nomcliente] -- [telcliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23.5cm&quot;&gt;[dircliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
-		&lt;/pageGraphics&gt;
-
-		&lt;!-- FRAME DE CONTENIDOS --&gt;
-		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;2cm&quot; width=&quot;19cm&quot; height=&quot;20cm&quot;/&gt;
-	&lt;/pageTemplate&gt;
-&lt;/template&gt;
-&lt;stylesheet&gt;
-	&lt;blockTableStyle id=&quot;tabla&quot;&gt;
-		&lt;lineStyle kind=&quot;INNERGRID&quot; colorName=&quot;grey&quot; start=&quot;0,1&quot; stop=&quot;-1,-4&quot;/&gt;
-		&lt;lineStyle kind=&quot;OUTLINE&quot; colorName=&quot;black&quot;  start=&quot;0,0&quot; stop=&quot;-1,-4&quot;/&gt;
-		&lt;lineStyle kind=&quot;OUTLINE&quot; colorName=&quot;black&quot;  start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
-		&lt;lineStyle kind=&quot;OUTLINE&quot; colorName=&quot;black&quot;  start=&quot;-2,-1&quot; stop=&quot;-1,-1&quot;/&gt;
-		&lt;lineStyle kind=&quot;OUTLINE&quot; colorName=&quot;black&quot;  start=&quot;-2,-2&quot; stop=&quot;-1,-2&quot;/&gt;		
-		&lt;lineStyle kind=&quot;OUTLINE&quot; colorName=&quot;black&quot;  start=&quot;-2,-3&quot; stop=&quot;-1,-3&quot;/&gt;		
-		&lt;blockAlignment value=&quot;RIGHT&quot; start=&quot;1,1&quot; stop=&quot;-1,-1&quot;/&gt;
-		&lt;blockBackground colorName=&quot;(0.8,0.4,0.4)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
-	&lt;/blockTableStyle&gt;
-&lt;/stylesheet&gt;
-
-&lt;story&gt;
-	[story]
-	&lt;spacer length=&quot;5mm&quot; width=&quot;1mm&quot;/&gt;	
-&lt;para&gt;&lt;/para&gt;
-&lt;para&gt;&lt;/para&gt;
-&lt;para&gt;&lt;/para&gt;
-&lt;para&gt;&lt;/para&gt;
-&lt;para&gt;&lt;pre&gt;[comentpedidocliente]&lt;/pre&gt;&lt;/para&gt;
-	
-&lt;/story&gt;
-&lt;/document&gt;
\ No newline at end of file
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientealbaran/openreports/es/albaran.rml b/bulmages/bulmafact/plugins/pluginbf_clientealbaran/openreports/es/albaran.rml
index 084ae78..c05f3f6 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientealbaran/openreports/es/albaran.rml
+++ b/bulmages/bulmafact/plugins/pluginbf_clientealbaran/openreports/es/albaran.rml
@@ -1,94 +1,207 @@
 &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot; ?&gt;
 &lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
 &lt;document&gt;
-&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Albaran&quot; author=&quot;Tomeu Borras&quot; allowSplitting=&quot;20&quot;&gt;
+&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Albaran&quot; author=&quot;&quot;&gt;
 	&lt;pageTemplate id=&quot;main&quot;&gt;
 		&lt;pageGraphics&gt;
 		&lt;include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/&gt;
 
 		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
 		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;22&quot;/&gt;
-		&lt;drawString x=&quot;1.5cm&quot; y=&quot;24.5cm&quot;&gt;ALBARAN&lt;/drawString&gt;
+		
+&lt;!--IF QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
 
-&lt;!--IF QUERY=&quot;SELECT * FROM CLIENTE WHERE idcliente = [idcliente]&quot;--&gt;
-&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente=[idcliente]&quot;--&gt;
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;11&quot;/&gt;
+		&lt;fill color=&quot;(1,1,1)&quot;/&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.53cm&quot;&gt;Datos del cliente:&lt;/drawString&gt;
 
 		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;24cm&quot;&gt;[nomcliente] -- [telcliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23.5cm&quot;&gt;[dircliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;26.05cm&quot;&gt;[idcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.6cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.15cm&quot;&gt;[cifcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.7cm&quot;&gt;[dircliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.25cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.8cm&quot;&gt;[telcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.35cm&quot;&gt;[mailcliente]&lt;/drawString&gt;
 
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
 		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
-		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;drawCentredString x=&quot;5.5cm&quot; y=&quot;21.2cm&quot;&gt;NIF&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;8.5cm&quot; y=&quot;21.2cm&quot;&gt;Cliente&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;11.5cm&quot; y=&quot;21.2cm&quot;&gt;Fecha&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;14.5cm&quot; y=&quot;21.2cm&quot;&gt;N. Alb&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;17.5cm&quot; y=&quot;21.2cm&quot;&gt;Ref.&lt;/drawCentredString&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawCentredString x=&quot;5.5cm&quot; y=&quot;20.4cm&quot;&gt;[cifcliente]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;8.5cm&quot; y=&quot;20.4cm&quot;&gt;[idcliente]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;11.5cm&quot; y=&quot;20.4cm&quot;&gt;[fechaalbaran]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;14.5cm&quot; y=&quot;20.4cm&quot;&gt;[numalbaran]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;17.5cm&quot; y=&quot;20.4cm&quot;&gt;[refalbaran]&lt;/drawCentredString&gt;
-	&lt;/pageGraphics&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.05cm&quot;&gt;Nº Cliente:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.6cm&quot;&gt;Nombre/Empresa:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.15cm&quot;&gt;NIF/CIF:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.7cm&quot;&gt;Dirección:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.25cm&quot;&gt;Población:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.8cm&quot;&gt;Teléfono:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.35cm&quot;&gt;Dirección Email:&lt;/drawString&gt;
+
+		&lt;!--Fecha presupuesto--&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
+
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.95cm&quot;&gt;Fecha albaran:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.5cm&quot;&gt;Nº albaran:&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.95cm&quot;&gt;Referencia:&lt;/drawString&gt;
+
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.95cm&quot;&gt;[fechaalbaran]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.5cm&quot;&gt;[numalbaran]&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.5cm&quot;&gt;[refalbaran]&lt;/drawString&gt;
+
+		&lt;!-- INCLUDE FILE=&quot;[CONF_DIR_OPENREPORTS]plantilla_empresa.rml&quot; --&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;26.3cm&quot;&gt;- ALBARÁN -&lt;/drawCentredString&gt;
 
 &lt;!--END QUERY--&gt;
 &lt;!--END IF QUERY--&gt;
 
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;7&quot;/&gt;
+		&lt;drawString x=&quot;15cm&quot; y=&quot;22.7cm&quot;&gt;Los importes están expresados en euros.&lt;/drawString&gt;
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;25.85cm&quot;&gt;Forma de pago: &lt;!--QUERY=&quot;SELECT descforma_pago FROM forma_pago WHERE idforma_pago = [idforma_pago] LIMIT 1&quot;--&gt;[descforma_pago]&lt;!--END QUERY--&gt;&lt;/drawCentredString&gt;
+
+	&lt;/pageGraphics&gt;
+
+
 		&lt;!-- FRAME DE CONTENIDOS --&gt;
-		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;5cm&quot; width=&quot;19cm&quot; height=&quot;15cm&quot;/&gt;
+		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;8cm&quot; width=&quot;19cm&quot; height=&quot;14.6cm&quot; /&gt;
+
+		
 	&lt;/pageTemplate&gt;
 
 &lt;/template&gt;
 
 &lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
 
-&lt;story&gt;
-&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;1.75cm, 8.55cm, 1.2cm, 1.7cm, 1.8cm, 2.25cm&quot; repeatRows=&quot;1&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;Codigo&lt;/td&gt;
-&lt;td&gt;Concepto&lt;/td&gt;
-&lt;td&gt;Und.&lt;/td&gt;
-&lt;td&gt;Precio&lt;/td&gt;
-&lt;td&gt;Dto.&lt;/td&gt;
-&lt;td&gt;Total&lt;/td&gt;
-&lt;/tr&gt;
-[story]
-&lt;/blockTable&gt;
-
-&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
-	&lt;place x=&quot;4cm&quot; y=&quot;3.5cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;blockTable&gt;
-&lt;tr&gt;
-&lt;td align=&quot;right&quot;&gt;
-	[descuentos]
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/blockTable&gt;
-&lt;/place&gt;
-&lt;/storyPlace&gt;
+&lt;story&gt;	
+	&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;3.00cm, 8.5cm, 1.8cm, 2cm, 2.9cm&quot; splitByRow=&quot;2&quot; rowheights=&quot;2&quot; repeatRows=&quot;1&quot;&gt;
+		&lt;tr&gt;
+			&lt;td&gt;Codigo&lt;/td&gt;
+			&lt;td&gt;Concepto&lt;/td&gt;
+			&lt;td&gt;Unid:&lt;/td&gt;
+			&lt;td&gt;Precio/u:&lt;/td&gt;
+			&lt;td&gt;Subtotal s/iva:&lt;/td&gt;
+		&lt;/tr&gt;
+		[story codigocompletoarticulo, descalbaran, cantalbaran, pvpalbaran, subtotalalbaran]	
+		
+&lt;!--IF DESCUENTOS--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
 
-&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;20cm&quot; height=&quot;1cm&quot;&gt;
-&lt;place x=&quot;6cm&quot; y=&quot;2cm&quot; width=&quot;20cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;blockTable&gt;
-&lt;tr&gt;
-	&lt;td align=&quot;right&quot;&gt;
-		[totales]
-	&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/blockTable&gt;
-&lt;/place&gt;
-&lt;/storyPlace&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Descuento/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;% Dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;Total dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+&lt;!--LINEAS DESCUENTO--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[conceptdalbaran]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;[proporciondalbaran]%&lt;/td&gt;
+			&lt;td&gt;[totaldescdalbaran]&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END LINEAS DESCUENTO--&gt;
+&lt;!--END IF DESCUENTOS--&gt;
 
-&lt;!-- storyPlace x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
-&lt;place x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
+
+&lt;!--IF QUERY=&quot;SELECT comentalbaran FROM albaran WHERE length(comentalbaran) &gt; 0 AND idalbaran = [idalbaran]&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT comentalbaran FROM albaran WHERE length(comentalbaran) &gt; 0 AND idalbaran = [idalbaran]&quot;--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Comentario/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[comentalbaran]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+
+	&lt;/blockTable&gt;
+
+	
+	&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;20cm&quot; height=&quot;1cm&quot;&gt;
+		&lt;place x=&quot;1cm&quot; y=&quot;4cm&quot; width=&quot;19cm&quot; height=&quot;4cm&quot;&gt;
+			&lt;blockTable style=&quot;total&quot; colWidths=&quot;16.3cm,2.7cm&quot; &gt;
+				&lt;tr&gt;
+					&lt;td colspan=&quot;2&quot;&gt;
+						&lt;blockTable style=&quot;titulo&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm, 2.7cm&quot;&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Base Imponible:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;I.V.A.%:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Tot I.V.A.:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Total:&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;contenido&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm&quot; &gt;
+						&lt;!--TOTALES--&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[bimp]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[tbimp]%&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[iva]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;!--END TOTALES--&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;preciofinal&quot; colWidths=&quot;2.7cm&quot; &gt;
+							&lt;tr&gt;
+								&lt;td&gt;[total] &#8364;&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;/blockTable&gt;
+		&lt;/place&gt;
+	&lt;/storyPlace&gt;
+
+&lt;storyPlace x=&quot;16cm&quot; y=&quot;1cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
+&lt;place x=&quot;16cm&quot; y=&quot;1cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
 &lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;ALB [idalbaran] [numalbaran] [refalbaran]&lt;/barCode&gt;
 &lt;/place&gt;
-&lt;/storyPlace --&gt;
+&lt;/storyPlace&gt;
+
 
 &lt;/story&gt;
 &lt;/document&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientealbaran/openreports/es/albarancliente.rml b/bulmages/bulmafact/plugins/pluginbf_clientealbaran/openreports/es/albarancliente.rml
deleted file mode 100644
index e225e8b..0000000
--- a/bulmages/bulmafact/plugins/pluginbf_clientealbaran/openreports/es/albarancliente.rml
+++ /dev/null
@@ -1,73 +0,0 @@
-&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot; ?&gt;
-&lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
-&lt;document&gt;
-&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;2.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Albar&aacute;n de cliente&quot; author=&quot;Tomeu Borras&quot; allowSplitting=&quot;20&quot;&gt;
-	&lt;pageTemplate id=&quot;main&quot;&gt;
-		&lt;pageGraphics&gt;
-		&lt;!-- EL LOGO DE CABECERA --&gt;
-		&lt;image x=&quot;3cm&quot; y=&quot;26cm&quot; width=&quot;17cm&quot; file=&quot;logo.jpg&quot;/&gt;
-
-		&lt;!-- EL DRAFT --&gt;
-			&lt;!--setFont name=&quot;Helvetica&quot; size=&quot;100&quot;/&gt;
-			&lt;fill color=&quot;(1,0.9,0.9)&quot;/&gt;
-			&lt;stroke color=&quot;(1,0.9,0.9)&quot;/&gt;
-			&lt;translate dx=&quot;15cm&quot; dy=&quot;-5.5cm&quot;/&gt;
-			&lt;rotate degrees=&quot;50&quot;/&gt;
-			&lt;drawString x=&quot;23mm&quot; y=&quot;15.7cm&quot;&gt;BORRADOR&lt;/drawString&gt;
-			&lt;lineMode width=&quot;4mm&quot;/&gt;
-			&lt;rect round=&quot;1cm&quot; x=&quot;18mm&quot; y=&quot;15cm&quot; width=&quot;21cm&quot; height=&quot;4cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;	
-		&lt;rotate degrees=&quot;-50&quot;/&gt;
-		&lt;translate dx=&quot;-15cm&quot; dy=&quot;5.5cm&quot;/--&gt;
-
-		&lt;!-- EL PIE DE PAGINA --&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;8&quot;/&gt;		
-		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
-		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;drawString x=&quot;7.3cm&quot; y=&quot;1.2cm&quot;&gt;www.iglues.org -- <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">info en iglues.org</A> --&lt;/drawString&gt;	
-
-		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
-		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;22&quot;/&gt;
-		&lt;drawString x=&quot;1.5cm&quot; y=&quot;24.5cm&quot;&gt;ALBAR&Aacute;N A CLIENTE&lt;/drawString&gt;
-
-
-		&lt;!-- EL RECUADRO DONDE VA EL CLIENTE --&gt;
-		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;lineMode width=&quot;0.3mm&quot;/&gt;
-		&lt;rect round=&quot;0.25cm&quot; x=&quot;8cm&quot; y=&quot;22.4cm&quot; width=&quot;11cm&quot; height=&quot;2.5cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;
-
-		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;24cm&quot;&gt;[nomcliente] -- [telcliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23.5cm&quot;&gt;[dircliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
-		&lt;/pageGraphics&gt;
-
-		&lt;!-- FRAME DE CONTENIDOS --&gt;
-		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;2cm&quot; width=&quot;19cm&quot; height=&quot;20cm&quot;/&gt;
-	&lt;/pageTemplate&gt;
-&lt;/template&gt;
-&lt;stylesheet&gt;
-	&lt;blockTableStyle id=&quot;tabla&quot;&gt;
-		&lt;lineStyle kind=&quot;INNERGRID&quot; colorName=&quot;grey&quot; start=&quot;0,1&quot; stop=&quot;-1,-4&quot;/&gt;
-		&lt;lineStyle kind=&quot;OUTLINE&quot; colorName=&quot;black&quot;  start=&quot;0,0&quot; stop=&quot;-1,-4&quot;/&gt;
-		&lt;lineStyle kind=&quot;OUTLINE&quot; colorName=&quot;black&quot;  start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
-		&lt;lineStyle kind=&quot;OUTLINE&quot; colorName=&quot;black&quot;  start=&quot;-2,-1&quot; stop=&quot;-1,-1&quot;/&gt;
-		&lt;lineStyle kind=&quot;OUTLINE&quot; colorName=&quot;black&quot;  start=&quot;-2,-2&quot; stop=&quot;-1,-2&quot;/&gt;		
-		&lt;lineStyle kind=&quot;OUTLINE&quot; colorName=&quot;black&quot;  start=&quot;-2,-3&quot; stop=&quot;-1,-3&quot;/&gt;		
-		&lt;blockAlignment value=&quot;RIGHT&quot; start=&quot;1,1&quot; stop=&quot;-1,-1&quot;/&gt;
-		&lt;blockBackground colorName=&quot;(0.8,0.4,0.4)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
-	&lt;/blockTableStyle&gt;
-&lt;/stylesheet&gt;
-
-&lt;story&gt;
-	[story]
-	&lt;spacer length=&quot;5mm&quot; width=&quot;1mm&quot;/&gt;	
-&lt;para&gt;&lt;/para&gt;
-&lt;para&gt;&lt;/para&gt;
-&lt;para&gt;&lt;/para&gt;
-&lt;para&gt;&lt;/para&gt;
-&lt;para&gt;&lt;pre&gt;[comentpedidocliente]&lt;/pre&gt;&lt;/para&gt;
-	
-&lt;/story&gt;
-&lt;/document&gt;
\ No newline at end of file
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientealbaran/openreports/fr/albaran.rml b/bulmages/bulmafact/plugins/pluginbf_clientealbaran/openreports/fr/albaran.rml
index 084ae78..c05f3f6 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientealbaran/openreports/fr/albaran.rml
+++ b/bulmages/bulmafact/plugins/pluginbf_clientealbaran/openreports/fr/albaran.rml
@@ -1,94 +1,207 @@
 &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot; ?&gt;
 &lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
 &lt;document&gt;
-&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Albaran&quot; author=&quot;Tomeu Borras&quot; allowSplitting=&quot;20&quot;&gt;
+&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Albaran&quot; author=&quot;&quot;&gt;
 	&lt;pageTemplate id=&quot;main&quot;&gt;
 		&lt;pageGraphics&gt;
 		&lt;include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/&gt;
 
 		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
 		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;22&quot;/&gt;
-		&lt;drawString x=&quot;1.5cm&quot; y=&quot;24.5cm&quot;&gt;ALBARAN&lt;/drawString&gt;
+		
+&lt;!--IF QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
 
-&lt;!--IF QUERY=&quot;SELECT * FROM CLIENTE WHERE idcliente = [idcliente]&quot;--&gt;
-&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente=[idcliente]&quot;--&gt;
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;11&quot;/&gt;
+		&lt;fill color=&quot;(1,1,1)&quot;/&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.53cm&quot;&gt;Datos del cliente:&lt;/drawString&gt;
 
 		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;24cm&quot;&gt;[nomcliente] -- [telcliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23.5cm&quot;&gt;[dircliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;26.05cm&quot;&gt;[idcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.6cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.15cm&quot;&gt;[cifcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.7cm&quot;&gt;[dircliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.25cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.8cm&quot;&gt;[telcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.35cm&quot;&gt;[mailcliente]&lt;/drawString&gt;
 
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
 		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
-		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;drawCentredString x=&quot;5.5cm&quot; y=&quot;21.2cm&quot;&gt;NIF&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;8.5cm&quot; y=&quot;21.2cm&quot;&gt;Cliente&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;11.5cm&quot; y=&quot;21.2cm&quot;&gt;Fecha&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;14.5cm&quot; y=&quot;21.2cm&quot;&gt;N. Alb&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;17.5cm&quot; y=&quot;21.2cm&quot;&gt;Ref.&lt;/drawCentredString&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawCentredString x=&quot;5.5cm&quot; y=&quot;20.4cm&quot;&gt;[cifcliente]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;8.5cm&quot; y=&quot;20.4cm&quot;&gt;[idcliente]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;11.5cm&quot; y=&quot;20.4cm&quot;&gt;[fechaalbaran]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;14.5cm&quot; y=&quot;20.4cm&quot;&gt;[numalbaran]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;17.5cm&quot; y=&quot;20.4cm&quot;&gt;[refalbaran]&lt;/drawCentredString&gt;
-	&lt;/pageGraphics&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.05cm&quot;&gt;Nº Cliente:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.6cm&quot;&gt;Nombre/Empresa:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.15cm&quot;&gt;NIF/CIF:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.7cm&quot;&gt;Dirección:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.25cm&quot;&gt;Población:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.8cm&quot;&gt;Teléfono:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.35cm&quot;&gt;Dirección Email:&lt;/drawString&gt;
+
+		&lt;!--Fecha presupuesto--&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
+
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.95cm&quot;&gt;Fecha albaran:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.5cm&quot;&gt;Nº albaran:&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.95cm&quot;&gt;Referencia:&lt;/drawString&gt;
+
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.95cm&quot;&gt;[fechaalbaran]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.5cm&quot;&gt;[numalbaran]&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.5cm&quot;&gt;[refalbaran]&lt;/drawString&gt;
+
+		&lt;!-- INCLUDE FILE=&quot;[CONF_DIR_OPENREPORTS]plantilla_empresa.rml&quot; --&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;26.3cm&quot;&gt;- ALBARÁN -&lt;/drawCentredString&gt;
 
 &lt;!--END QUERY--&gt;
 &lt;!--END IF QUERY--&gt;
 
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;7&quot;/&gt;
+		&lt;drawString x=&quot;15cm&quot; y=&quot;22.7cm&quot;&gt;Los importes están expresados en euros.&lt;/drawString&gt;
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;25.85cm&quot;&gt;Forma de pago: &lt;!--QUERY=&quot;SELECT descforma_pago FROM forma_pago WHERE idforma_pago = [idforma_pago] LIMIT 1&quot;--&gt;[descforma_pago]&lt;!--END QUERY--&gt;&lt;/drawCentredString&gt;
+
+	&lt;/pageGraphics&gt;
+
+
 		&lt;!-- FRAME DE CONTENIDOS --&gt;
-		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;5cm&quot; width=&quot;19cm&quot; height=&quot;15cm&quot;/&gt;
+		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;8cm&quot; width=&quot;19cm&quot; height=&quot;14.6cm&quot; /&gt;
+
+		
 	&lt;/pageTemplate&gt;
 
 &lt;/template&gt;
 
 &lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
 
-&lt;story&gt;
-&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;1.75cm, 8.55cm, 1.2cm, 1.7cm, 1.8cm, 2.25cm&quot; repeatRows=&quot;1&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;Codigo&lt;/td&gt;
-&lt;td&gt;Concepto&lt;/td&gt;
-&lt;td&gt;Und.&lt;/td&gt;
-&lt;td&gt;Precio&lt;/td&gt;
-&lt;td&gt;Dto.&lt;/td&gt;
-&lt;td&gt;Total&lt;/td&gt;
-&lt;/tr&gt;
-[story]
-&lt;/blockTable&gt;
-
-&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
-	&lt;place x=&quot;4cm&quot; y=&quot;3.5cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;blockTable&gt;
-&lt;tr&gt;
-&lt;td align=&quot;right&quot;&gt;
-	[descuentos]
-&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/blockTable&gt;
-&lt;/place&gt;
-&lt;/storyPlace&gt;
+&lt;story&gt;	
+	&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;3.00cm, 8.5cm, 1.8cm, 2cm, 2.9cm&quot; splitByRow=&quot;2&quot; rowheights=&quot;2&quot; repeatRows=&quot;1&quot;&gt;
+		&lt;tr&gt;
+			&lt;td&gt;Codigo&lt;/td&gt;
+			&lt;td&gt;Concepto&lt;/td&gt;
+			&lt;td&gt;Unid:&lt;/td&gt;
+			&lt;td&gt;Precio/u:&lt;/td&gt;
+			&lt;td&gt;Subtotal s/iva:&lt;/td&gt;
+		&lt;/tr&gt;
+		[story codigocompletoarticulo, descalbaran, cantalbaran, pvpalbaran, subtotalalbaran]	
+		
+&lt;!--IF DESCUENTOS--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
 
-&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;20cm&quot; height=&quot;1cm&quot;&gt;
-&lt;place x=&quot;6cm&quot; y=&quot;2cm&quot; width=&quot;20cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;blockTable&gt;
-&lt;tr&gt;
-	&lt;td align=&quot;right&quot;&gt;
-		[totales]
-	&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/blockTable&gt;
-&lt;/place&gt;
-&lt;/storyPlace&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Descuento/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;% Dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;Total dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+&lt;!--LINEAS DESCUENTO--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[conceptdalbaran]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;[proporciondalbaran]%&lt;/td&gt;
+			&lt;td&gt;[totaldescdalbaran]&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END LINEAS DESCUENTO--&gt;
+&lt;!--END IF DESCUENTOS--&gt;
 
-&lt;!-- storyPlace x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
-&lt;place x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
+
+&lt;!--IF QUERY=&quot;SELECT comentalbaran FROM albaran WHERE length(comentalbaran) &gt; 0 AND idalbaran = [idalbaran]&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT comentalbaran FROM albaran WHERE length(comentalbaran) &gt; 0 AND idalbaran = [idalbaran]&quot;--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Comentario/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[comentalbaran]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+
+	&lt;/blockTable&gt;
+
+	
+	&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;20cm&quot; height=&quot;1cm&quot;&gt;
+		&lt;place x=&quot;1cm&quot; y=&quot;4cm&quot; width=&quot;19cm&quot; height=&quot;4cm&quot;&gt;
+			&lt;blockTable style=&quot;total&quot; colWidths=&quot;16.3cm,2.7cm&quot; &gt;
+				&lt;tr&gt;
+					&lt;td colspan=&quot;2&quot;&gt;
+						&lt;blockTable style=&quot;titulo&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm, 2.7cm&quot;&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Base Imponible:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;I.V.A.%:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Tot I.V.A.:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Total:&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;contenido&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm&quot; &gt;
+						&lt;!--TOTALES--&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[bimp]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[tbimp]%&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[iva]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;!--END TOTALES--&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;preciofinal&quot; colWidths=&quot;2.7cm&quot; &gt;
+							&lt;tr&gt;
+								&lt;td&gt;[total] &#8364;&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;/blockTable&gt;
+		&lt;/place&gt;
+	&lt;/storyPlace&gt;
+
+&lt;storyPlace x=&quot;16cm&quot; y=&quot;1cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
+&lt;place x=&quot;16cm&quot; y=&quot;1cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
 &lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;ALB [idalbaran] [numalbaran] [refalbaran]&lt;/barCode&gt;
 &lt;/place&gt;
-&lt;/storyPlace --&gt;
+&lt;/storyPlace&gt;
+
 
 &lt;/story&gt;
 &lt;/document&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientealbaran/openreports/fr/albarancliente.rml b/bulmages/bulmafact/plugins/pluginbf_clientealbaran/openreports/fr/albarancliente.rml
deleted file mode 100644
index e225e8b..0000000
--- a/bulmages/bulmafact/plugins/pluginbf_clientealbaran/openreports/fr/albarancliente.rml
+++ /dev/null
@@ -1,73 +0,0 @@
-&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot; ?&gt;
-&lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
-&lt;document&gt;
-&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;2.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Albar&aacute;n de cliente&quot; author=&quot;Tomeu Borras&quot; allowSplitting=&quot;20&quot;&gt;
-	&lt;pageTemplate id=&quot;main&quot;&gt;
-		&lt;pageGraphics&gt;
-		&lt;!-- EL LOGO DE CABECERA --&gt;
-		&lt;image x=&quot;3cm&quot; y=&quot;26cm&quot; width=&quot;17cm&quot; file=&quot;logo.jpg&quot;/&gt;
-
-		&lt;!-- EL DRAFT --&gt;
-			&lt;!--setFont name=&quot;Helvetica&quot; size=&quot;100&quot;/&gt;
-			&lt;fill color=&quot;(1,0.9,0.9)&quot;/&gt;
-			&lt;stroke color=&quot;(1,0.9,0.9)&quot;/&gt;
-			&lt;translate dx=&quot;15cm&quot; dy=&quot;-5.5cm&quot;/&gt;
-			&lt;rotate degrees=&quot;50&quot;/&gt;
-			&lt;drawString x=&quot;23mm&quot; y=&quot;15.7cm&quot;&gt;BORRADOR&lt;/drawString&gt;
-			&lt;lineMode width=&quot;4mm&quot;/&gt;
-			&lt;rect round=&quot;1cm&quot; x=&quot;18mm&quot; y=&quot;15cm&quot; width=&quot;21cm&quot; height=&quot;4cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;	
-		&lt;rotate degrees=&quot;-50&quot;/&gt;
-		&lt;translate dx=&quot;-15cm&quot; dy=&quot;5.5cm&quot;/--&gt;
-
-		&lt;!-- EL PIE DE PAGINA --&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;8&quot;/&gt;		
-		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
-		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;drawString x=&quot;7.3cm&quot; y=&quot;1.2cm&quot;&gt;www.iglues.org -- <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">info en iglues.org</A> --&lt;/drawString&gt;	
-
-		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
-		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;22&quot;/&gt;
-		&lt;drawString x=&quot;1.5cm&quot; y=&quot;24.5cm&quot;&gt;ALBAR&Aacute;N A CLIENTE&lt;/drawString&gt;
-
-
-		&lt;!-- EL RECUADRO DONDE VA EL CLIENTE --&gt;
-		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;lineMode width=&quot;0.3mm&quot;/&gt;
-		&lt;rect round=&quot;0.25cm&quot; x=&quot;8cm&quot; y=&quot;22.4cm&quot; width=&quot;11cm&quot; height=&quot;2.5cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;
-
-		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;24cm&quot;&gt;[nomcliente] -- [telcliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23.5cm&quot;&gt;[dircliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
-		&lt;/pageGraphics&gt;
-
-		&lt;!-- FRAME DE CONTENIDOS --&gt;
-		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;2cm&quot; width=&quot;19cm&quot; height=&quot;20cm&quot;/&gt;
-	&lt;/pageTemplate&gt;
-&lt;/template&gt;
-&lt;stylesheet&gt;
-	&lt;blockTableStyle id=&quot;tabla&quot;&gt;
-		&lt;lineStyle kind=&quot;INNERGRID&quot; colorName=&quot;grey&quot; start=&quot;0,1&quot; stop=&quot;-1,-4&quot;/&gt;
-		&lt;lineStyle kind=&quot;OUTLINE&quot; colorName=&quot;black&quot;  start=&quot;0,0&quot; stop=&quot;-1,-4&quot;/&gt;
-		&lt;lineStyle kind=&quot;OUTLINE&quot; colorName=&quot;black&quot;  start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
-		&lt;lineStyle kind=&quot;OUTLINE&quot; colorName=&quot;black&quot;  start=&quot;-2,-1&quot; stop=&quot;-1,-1&quot;/&gt;
-		&lt;lineStyle kind=&quot;OUTLINE&quot; colorName=&quot;black&quot;  start=&quot;-2,-2&quot; stop=&quot;-1,-2&quot;/&gt;		
-		&lt;lineStyle kind=&quot;OUTLINE&quot; colorName=&quot;black&quot;  start=&quot;-2,-3&quot; stop=&quot;-1,-3&quot;/&gt;		
-		&lt;blockAlignment value=&quot;RIGHT&quot; start=&quot;1,1&quot; stop=&quot;-1,-1&quot;/&gt;
-		&lt;blockBackground colorName=&quot;(0.8,0.4,0.4)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
-	&lt;/blockTableStyle&gt;
-&lt;/stylesheet&gt;
-
-&lt;story&gt;
-	[story]
-	&lt;spacer length=&quot;5mm&quot; width=&quot;1mm&quot;/&gt;	
-&lt;para&gt;&lt;/para&gt;
-&lt;para&gt;&lt;/para&gt;
-&lt;para&gt;&lt;/para&gt;
-&lt;para&gt;&lt;/para&gt;
-&lt;para&gt;&lt;pre&gt;[comentpedidocliente]&lt;/pre&gt;&lt;/para&gt;
-	
-&lt;/story&gt;
-&lt;/document&gt;
\ No newline at end of file

commit c04057932195f95b22ffbf1cf045cf7ef3f74091
Author: Tomeu Borras &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">tborras en conetxia.com</A>&gt;
Date:   Mon Apr 16 10:30:55 2012 +0200

    Agrego la plantilla de pedidos a clientes

diff --git a/bulmages/bulmafact/plugins/pluginbf_clientepedido/README.ca b/bulmages/bulmafact/plugins/pluginbf_clientepedido/README.ca
index f2760fd..0640ce3 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientepedido/README.ca
+++ b/bulmages/bulmafact/plugins/pluginbf_clientepedido/README.ca
@@ -34,7 +34,7 @@ Incompatibles:
 
 Categorias: Facturació genèrica;
 
-Reports: blform_PedidoClienteView.qs
+Reports: blform_PedidoClienteView.qs; pedidocliente.rml; impers_pedidocliente_urgente.rml
 
 Orden: 621
 
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientepedido/README.en b/bulmages/bulmafact/plugins/pluginbf_clientepedido/README.en
index 60adb4f..fb83242 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientepedido/README.en
+++ b/bulmages/bulmafact/plugins/pluginbf_clientepedido/README.en
@@ -34,7 +34,7 @@ Incompatibles:
 
 Categorias: Generic invoicing;
 
-Reports: blform_PedidoClienteView.qs
+Reports: blform_PedidoClienteView.qs; pedidocliente.rml; impers_pedidocliente_urgente.rml
 
 Orden: 621
 
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientepedido/README.es b/bulmages/bulmafact/plugins/pluginbf_clientepedido/README.es
index 886cd11..c99962a 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientepedido/README.es
+++ b/bulmages/bulmafact/plugins/pluginbf_clientepedido/README.es
@@ -40,7 +40,7 @@ Incompatibles:
 
 Categorias: Facturacion generica;
 
-Reports: blform_PedidoClienteView.qs
+Reports: blform_PedidoClienteView.qs; pedidocliente.rml; impers_pedidocliente_urgente.rml
 
 Orden: 621
 
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientepedido/README.fr b/bulmages/bulmafact/plugins/pluginbf_clientepedido/README.fr
index 6de8fbe..8d5fd98 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientepedido/README.fr
+++ b/bulmages/bulmafact/plugins/pluginbf_clientepedido/README.fr
@@ -34,7 +34,7 @@ Incompatibles:
 
 Categorias: Facturation generique;
 
-Reports: blform_PedidoClienteView.qs
+Reports: blform_PedidoClienteView.qs; pedidocliente.rml; impers_pedidocliente_urgente.rml
 
 Orden: 621
 
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientepedido/openreports/ca/impers_pedidocliente_urgente.rml b/bulmages/bulmafact/plugins/pluginbf_clientepedido/openreports/ca/impers_pedidocliente_urgente.rml
new file mode 100644
index 0000000..532f279
--- /dev/null
+++ b/bulmages/bulmafact/plugins/pluginbf_clientepedido/openreports/ca/impers_pedidocliente_urgente.rml
@@ -0,0 +1,218 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot; ?&gt;
+&lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
+&lt;document&gt;
+&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Pedido Urgente&quot; author=&quot;&quot;&gt;
+	&lt;pageTemplate id=&quot;main&quot;&gt;
+		&lt;pageGraphics&gt;
+		&lt;include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/&gt;
+
+		&lt;!-- URGENTE --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;34&quot;/&gt;
+		&lt;fill color=&quot;(1,0.3,0.3)&quot;/&gt;
+		&lt;stroke color=&quot;(1,0.3,0.3)&quot;/&gt;
+		&lt;translate dx=&quot;15cm&quot; dy=&quot;-6.5cm&quot;/&gt;
+		&lt;rotate degrees=&quot;20&quot;/&gt;                                                                          
+		&lt;drawString x=&quot;21mm&quot; y=&quot;15.8cm&quot;&gt;URGENTE&lt;/drawString&gt;                                           
+		&lt;lineMode width=&quot;2mm&quot;/&gt;                                                                         
+		&lt;rect round=&quot;1cm&quot; x=&quot;17.5mm&quot; y=&quot;15cm&quot; width=&quot;6.5cm&quot; height=&quot;2.5cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;          
+		&lt;rotate degrees=&quot;-20&quot;/&gt;                                                                         
+		&lt;translate dx=&quot;-15cm&quot; dy=&quot;6.5cm&quot;/&gt; 
+
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
+		
+&lt;!--IF QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;11&quot;/&gt;
+		&lt;fill color=&quot;(1,1,1)&quot;/&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.53cm&quot;&gt;Datos del cliente:&lt;/drawString&gt;
+
+		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;26.05cm&quot;&gt;[idcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.6cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.15cm&quot;&gt;[cifcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.7cm&quot;&gt;[dircliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.25cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.8cm&quot;&gt;[telcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.35cm&quot;&gt;[mailcliente]&lt;/drawString&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.05cm&quot;&gt;Nº Cliente:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.6cm&quot;&gt;Nombre/Empresa:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.15cm&quot;&gt;NIF/CIF:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.7cm&quot;&gt;Dirección:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.25cm&quot;&gt;Población:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.8cm&quot;&gt;Teléfono:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.35cm&quot;&gt;Dirección Email:&lt;/drawString&gt;
+
+		&lt;!--Fecha pedidocliente--&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
+
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.95cm&quot;&gt;Fecha pedido:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.5cm&quot;&gt;Nº pedido:&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.95cm&quot;&gt;Referencia:&lt;/drawString&gt;
+
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.95cm&quot;&gt;[fechapedidocliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.5cm&quot;&gt;[numpedidocliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.5cm&quot;&gt;[refpedidocliente]&lt;/drawString&gt;
+
+		&lt;!-- INCLUDE FILE=&quot;[CONF_DIR_OPENREPORTS]plantilla_empresa.rml&quot; --&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;26.3cm&quot;&gt;- PEDIDO -&lt;/drawCentredString&gt;
+
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;7&quot;/&gt;
+		&lt;drawString x=&quot;15cm&quot; y=&quot;22.7cm&quot;&gt;Los importes están expresados en euros.&lt;/drawString&gt;
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;25.85cm&quot;&gt;Forma de pago: &lt;!--QUERY=&quot;SELECT descforma_pago FROM forma_pago WHERE idforma_pago = [idforma_pago] LIMIT 1&quot;--&gt;[descforma_pago]&lt;!--END QUERY--&gt;&lt;/drawCentredString&gt;
+
+	&lt;/pageGraphics&gt;
+
+
+		&lt;!-- FRAME DE CONTENIDOS --&gt;
+		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;8cm&quot; width=&quot;19cm&quot; height=&quot;14.6cm&quot; /&gt;
+
+		
+	&lt;/pageTemplate&gt;
+
+&lt;/template&gt;
+
+&lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
+
+&lt;story&gt;	
+	&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;3.00cm, 8.5cm, 1.8cm, 2cm, 2.9cm&quot; splitByRow=&quot;2&quot; rowheights=&quot;2&quot; repeatRows=&quot;1&quot;&gt;
+		&lt;tr&gt;
+			&lt;td&gt;Codigo&lt;/td&gt;
+			&lt;td&gt;Concepto&lt;/td&gt;
+			&lt;td&gt;Unid:&lt;/td&gt;
+			&lt;td&gt;Precio/u:&lt;/td&gt;
+			&lt;td&gt;Subtotal s/iva:&lt;/td&gt;
+		&lt;/tr&gt;
+		[story codigocompletoarticulo, descpedidocliente, cantpedidocliente, pvppedidocliente, subtotalpedidocliente]
+	
+&lt;!--IF DESCUENTOS--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Descuento/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;% Dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;Total dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+&lt;!--LINEAS DESCUENTO--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[conceptdpedidocliente]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;[proporciondpedidocliente]%&lt;/td&gt;
+			&lt;td&gt;[totaldescdpedidocliente]&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END LINEAS DESCUENTO--&gt;
+&lt;!--END IF DESCUENTOS--&gt;
+
+
+&lt;!--IF QUERY=&quot;SELECT comentpedidocliente FROM pedidocliente WHERE length(comentpedidocliente) &gt; 0 AND idpedidocliente = [idpedidocliente]&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT comentpedidocliente FROM pedidocliente WHERE length(comentpedidocliente) &gt; 0 AND idpedidocliente = [idpedidocliente]&quot;--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Comentario/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[comentpedidocliente]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+	&lt;/blockTable&gt;
+
+	
+	&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;20cm&quot; height=&quot;1cm&quot;&gt;
+		&lt;place x=&quot;1cm&quot; y=&quot;4cm&quot; width=&quot;19cm&quot; height=&quot;4cm&quot;&gt;
+			&lt;blockTable style=&quot;total&quot; colWidths=&quot;16.3cm,2.7cm&quot; &gt;
+				&lt;tr&gt;
+					&lt;td colspan=&quot;2&quot;&gt;
+						&lt;blockTable style=&quot;titulo&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm, 2.7cm&quot;&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Base Imponible:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;I.V.A.%:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Tot I.V.A.:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Total:&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;contenido&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm&quot; &gt;
+						&lt;!--TOTALES--&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[bimp]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[tbimp]%&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[iva]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;!--END TOTALES--&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;preciofinal&quot; colWidths=&quot;2.7cm&quot; &gt;
+							&lt;tr&gt;
+								&lt;td&gt;[total] &#8364;&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;/blockTable&gt;
+		&lt;/place&gt;
+	&lt;/storyPlace&gt;
+
+&lt;!-- storyPlace x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
+&lt;place x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
+&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;ALB [idpedidocliente] [numpedidocliente] [refpedidocliente]&lt;/barCode&gt;
+&lt;/place&gt;
+&lt;/storyPlace --&gt;
+
+
+&lt;/story&gt;
+&lt;/document&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientepedido/openreports/ca/pedidocliente.rml b/bulmages/bulmafact/plugins/pluginbf_clientepedido/openreports/ca/pedidocliente.rml
new file mode 100644
index 0000000..117ec11
--- /dev/null
+++ b/bulmages/bulmafact/plugins/pluginbf_clientepedido/openreports/ca/pedidocliente.rml
@@ -0,0 +1,206 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot; ?&gt;
+&lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
+&lt;document&gt;
+&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Pedido&quot; author=&quot;&quot;&gt;
+	&lt;pageTemplate id=&quot;main&quot;&gt;
+		&lt;pageGraphics&gt;
+		&lt;include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/&gt;
+
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
+		
+&lt;!--IF QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;11&quot;/&gt;
+		&lt;fill color=&quot;(1,1,1)&quot;/&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.53cm&quot;&gt;Datos del cliente:&lt;/drawString&gt;
+
+		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;26.05cm&quot;&gt;[idcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.6cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.15cm&quot;&gt;[cifcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.7cm&quot;&gt;[dircliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.25cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.8cm&quot;&gt;[telcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.35cm&quot;&gt;[mailcliente]&lt;/drawString&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.05cm&quot;&gt;Nº Cliente:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.6cm&quot;&gt;Nombre/Empresa:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.15cm&quot;&gt;NIF/CIF:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.7cm&quot;&gt;Dirección:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.25cm&quot;&gt;Población:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.8cm&quot;&gt;Teléfono:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.35cm&quot;&gt;Dirección Email:&lt;/drawString&gt;
+
+		&lt;!--Fecha pedidocliente--&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
+
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.95cm&quot;&gt;Fecha pedido:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.5cm&quot;&gt;Nº pedido:&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.95cm&quot;&gt;Referencia:&lt;/drawString&gt;
+
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.95cm&quot;&gt;[fechapedidocliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.5cm&quot;&gt;[numpedidocliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.5cm&quot;&gt;[refpedidocliente]&lt;/drawString&gt;
+
+		&lt;!-- INCLUDE FILE=&quot;[CONF_DIR_OPENREPORTS]plantilla_empresa.rml&quot; --&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;26.3cm&quot;&gt;- PEDIDO -&lt;/drawCentredString&gt;
+
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;7&quot;/&gt;
+		&lt;drawString x=&quot;15cm&quot; y=&quot;22.7cm&quot;&gt;Los importes están expresados en euros.&lt;/drawString&gt;
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;25.85cm&quot;&gt;Forma de pago: &lt;!--QUERY=&quot;SELECT descforma_pago FROM forma_pago WHERE idforma_pago = [idforma_pago] LIMIT 1&quot;--&gt;[descforma_pago]&lt;!--END QUERY--&gt;&lt;/drawCentredString&gt;
+
+	&lt;/pageGraphics&gt;
+
+
+		&lt;!-- FRAME DE CONTENIDOS --&gt;
+		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;8cm&quot; width=&quot;19cm&quot; height=&quot;14.6cm&quot; /&gt;
+
+		
+	&lt;/pageTemplate&gt;
+
+&lt;/template&gt;
+
+&lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
+
+&lt;story&gt;	
+	&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;3.00cm, 8.5cm, 1.8cm, 2cm, 2.9cm&quot; splitByRow=&quot;2&quot; rowheights=&quot;2&quot; repeatRows=&quot;1&quot;&gt;
+		&lt;tr&gt;
+			&lt;td&gt;Codigo&lt;/td&gt;
+			&lt;td&gt;Concepto&lt;/td&gt;
+			&lt;td&gt;Unid:&lt;/td&gt;
+			&lt;td&gt;Precio/u:&lt;/td&gt;
+			&lt;td&gt;Subtotal s/iva:&lt;/td&gt;
+		&lt;/tr&gt;
+		[story codigocompletoarticulo, descpedidocliente, cantpedidocliente, pvppedidocliente, subtotalpedidocliente]
+	
+&lt;!--IF DESCUENTOS--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Descuento/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;% Dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;Total dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+&lt;!--LINEAS DESCUENTO--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[conceptdpedidocliente]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;[proporciondpedidocliente]%&lt;/td&gt;
+			&lt;td&gt;[totaldescdpedidocliente]&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END LINEAS DESCUENTO--&gt;
+&lt;!--END IF DESCUENTOS--&gt;
+
+
+&lt;!--IF QUERY=&quot;SELECT comentpedidocliente FROM pedidocliente WHERE length(comentpedidocliente) &gt; 0 AND idpedidocliente = [idpedidocliente]&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT comentpedidocliente FROM pedidocliente WHERE length(comentpedidocliente) &gt; 0 AND idpedidocliente = [idpedidocliente]&quot;--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Comentario/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[comentpedidocliente]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+	&lt;/blockTable&gt;
+
+	
+	&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;20cm&quot; height=&quot;1cm&quot;&gt;
+		&lt;place x=&quot;1cm&quot; y=&quot;4cm&quot; width=&quot;19cm&quot; height=&quot;4cm&quot;&gt;
+			&lt;blockTable style=&quot;total&quot; colWidths=&quot;16.3cm,2.7cm&quot; &gt;
+				&lt;tr&gt;
+					&lt;td colspan=&quot;2&quot;&gt;
+						&lt;blockTable style=&quot;titulo&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm, 2.7cm&quot;&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Base Imponible:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;I.V.A.%:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Tot I.V.A.:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Total:&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;contenido&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm&quot; &gt;
+						&lt;!--TOTALES--&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[bimp]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[tbimp]%&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[iva]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;!--END TOTALES--&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;preciofinal&quot; colWidths=&quot;2.7cm&quot; &gt;
+							&lt;tr&gt;
+								&lt;td&gt;[total] &#8364;&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;/blockTable&gt;
+		&lt;/place&gt;
+	&lt;/storyPlace&gt;
+
+&lt;!-- storyPlace x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
+&lt;place x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
+&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;ALB [idpedidocliente] [numpedidocliente] [refpedidocliente]&lt;/barCode&gt;
+&lt;/place&gt;
+&lt;/storyPlace --&gt;
+
+
+&lt;/story&gt;
+&lt;/document&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientepedido/openreports/en/impers_pedidocliente_urgente.rml b/bulmages/bulmafact/plugins/pluginbf_clientepedido/openreports/en/impers_pedidocliente_urgente.rml
new file mode 100644
index 0000000..532f279
--- /dev/null
+++ b/bulmages/bulmafact/plugins/pluginbf_clientepedido/openreports/en/impers_pedidocliente_urgente.rml
@@ -0,0 +1,218 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot; ?&gt;
+&lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
+&lt;document&gt;
+&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Pedido Urgente&quot; author=&quot;&quot;&gt;
+	&lt;pageTemplate id=&quot;main&quot;&gt;
+		&lt;pageGraphics&gt;
+		&lt;include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/&gt;
+
+		&lt;!-- URGENTE --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;34&quot;/&gt;
+		&lt;fill color=&quot;(1,0.3,0.3)&quot;/&gt;
+		&lt;stroke color=&quot;(1,0.3,0.3)&quot;/&gt;
+		&lt;translate dx=&quot;15cm&quot; dy=&quot;-6.5cm&quot;/&gt;
+		&lt;rotate degrees=&quot;20&quot;/&gt;                                                                          
+		&lt;drawString x=&quot;21mm&quot; y=&quot;15.8cm&quot;&gt;URGENTE&lt;/drawString&gt;                                           
+		&lt;lineMode width=&quot;2mm&quot;/&gt;                                                                         
+		&lt;rect round=&quot;1cm&quot; x=&quot;17.5mm&quot; y=&quot;15cm&quot; width=&quot;6.5cm&quot; height=&quot;2.5cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;          
+		&lt;rotate degrees=&quot;-20&quot;/&gt;                                                                         
+		&lt;translate dx=&quot;-15cm&quot; dy=&quot;6.5cm&quot;/&gt; 
+
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
+		
+&lt;!--IF QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;11&quot;/&gt;
+		&lt;fill color=&quot;(1,1,1)&quot;/&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.53cm&quot;&gt;Datos del cliente:&lt;/drawString&gt;
+
+		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;26.05cm&quot;&gt;[idcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.6cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.15cm&quot;&gt;[cifcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.7cm&quot;&gt;[dircliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.25cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.8cm&quot;&gt;[telcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.35cm&quot;&gt;[mailcliente]&lt;/drawString&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.05cm&quot;&gt;Nº Cliente:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.6cm&quot;&gt;Nombre/Empresa:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.15cm&quot;&gt;NIF/CIF:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.7cm&quot;&gt;Dirección:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.25cm&quot;&gt;Población:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.8cm&quot;&gt;Teléfono:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.35cm&quot;&gt;Dirección Email:&lt;/drawString&gt;
+
+		&lt;!--Fecha pedidocliente--&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
+
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.95cm&quot;&gt;Fecha pedido:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.5cm&quot;&gt;Nº pedido:&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.95cm&quot;&gt;Referencia:&lt;/drawString&gt;
+
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.95cm&quot;&gt;[fechapedidocliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.5cm&quot;&gt;[numpedidocliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.5cm&quot;&gt;[refpedidocliente]&lt;/drawString&gt;
+
+		&lt;!-- INCLUDE FILE=&quot;[CONF_DIR_OPENREPORTS]plantilla_empresa.rml&quot; --&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;26.3cm&quot;&gt;- PEDIDO -&lt;/drawCentredString&gt;
+
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;7&quot;/&gt;
+		&lt;drawString x=&quot;15cm&quot; y=&quot;22.7cm&quot;&gt;Los importes están expresados en euros.&lt;/drawString&gt;
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;25.85cm&quot;&gt;Forma de pago: &lt;!--QUERY=&quot;SELECT descforma_pago FROM forma_pago WHERE idforma_pago = [idforma_pago] LIMIT 1&quot;--&gt;[descforma_pago]&lt;!--END QUERY--&gt;&lt;/drawCentredString&gt;
+
+	&lt;/pageGraphics&gt;
+
+
+		&lt;!-- FRAME DE CONTENIDOS --&gt;
+		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;8cm&quot; width=&quot;19cm&quot; height=&quot;14.6cm&quot; /&gt;
+
+		
+	&lt;/pageTemplate&gt;
+
+&lt;/template&gt;
+
+&lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
+
+&lt;story&gt;	
+	&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;3.00cm, 8.5cm, 1.8cm, 2cm, 2.9cm&quot; splitByRow=&quot;2&quot; rowheights=&quot;2&quot; repeatRows=&quot;1&quot;&gt;
+		&lt;tr&gt;
+			&lt;td&gt;Codigo&lt;/td&gt;
+			&lt;td&gt;Concepto&lt;/td&gt;
+			&lt;td&gt;Unid:&lt;/td&gt;
+			&lt;td&gt;Precio/u:&lt;/td&gt;
+			&lt;td&gt;Subtotal s/iva:&lt;/td&gt;
+		&lt;/tr&gt;
+		[story codigocompletoarticulo, descpedidocliente, cantpedidocliente, pvppedidocliente, subtotalpedidocliente]
+	
+&lt;!--IF DESCUENTOS--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Descuento/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;% Dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;Total dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+&lt;!--LINEAS DESCUENTO--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[conceptdpedidocliente]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;[proporciondpedidocliente]%&lt;/td&gt;
+			&lt;td&gt;[totaldescdpedidocliente]&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END LINEAS DESCUENTO--&gt;
+&lt;!--END IF DESCUENTOS--&gt;
+
+
+&lt;!--IF QUERY=&quot;SELECT comentpedidocliente FROM pedidocliente WHERE length(comentpedidocliente) &gt; 0 AND idpedidocliente = [idpedidocliente]&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT comentpedidocliente FROM pedidocliente WHERE length(comentpedidocliente) &gt; 0 AND idpedidocliente = [idpedidocliente]&quot;--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Comentario/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[comentpedidocliente]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+	&lt;/blockTable&gt;
+
+	
+	&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;20cm&quot; height=&quot;1cm&quot;&gt;
+		&lt;place x=&quot;1cm&quot; y=&quot;4cm&quot; width=&quot;19cm&quot; height=&quot;4cm&quot;&gt;
+			&lt;blockTable style=&quot;total&quot; colWidths=&quot;16.3cm,2.7cm&quot; &gt;
+				&lt;tr&gt;
+					&lt;td colspan=&quot;2&quot;&gt;
+						&lt;blockTable style=&quot;titulo&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm, 2.7cm&quot;&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Base Imponible:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;I.V.A.%:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Tot I.V.A.:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Total:&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;contenido&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm&quot; &gt;
+						&lt;!--TOTALES--&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[bimp]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[tbimp]%&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[iva]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;!--END TOTALES--&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;preciofinal&quot; colWidths=&quot;2.7cm&quot; &gt;
+							&lt;tr&gt;
+								&lt;td&gt;[total] &#8364;&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;/blockTable&gt;
+		&lt;/place&gt;
+	&lt;/storyPlace&gt;
+
+&lt;!-- storyPlace x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
+&lt;place x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
+&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;ALB [idpedidocliente] [numpedidocliente] [refpedidocliente]&lt;/barCode&gt;
+&lt;/place&gt;
+&lt;/storyPlace --&gt;
+
+
+&lt;/story&gt;
+&lt;/document&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientepedido/openreports/en/pedidocliente.rml b/bulmages/bulmafact/plugins/pluginbf_clientepedido/openreports/en/pedidocliente.rml
new file mode 100644
index 0000000..117ec11
--- /dev/null
+++ b/bulmages/bulmafact/plugins/pluginbf_clientepedido/openreports/en/pedidocliente.rml
@@ -0,0 +1,206 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot; ?&gt;
+&lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
+&lt;document&gt;
+&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Pedido&quot; author=&quot;&quot;&gt;
+	&lt;pageTemplate id=&quot;main&quot;&gt;
+		&lt;pageGraphics&gt;
+		&lt;include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/&gt;
+
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
+		
+&lt;!--IF QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;11&quot;/&gt;
+		&lt;fill color=&quot;(1,1,1)&quot;/&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.53cm&quot;&gt;Datos del cliente:&lt;/drawString&gt;
+
+		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;26.05cm&quot;&gt;[idcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.6cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.15cm&quot;&gt;[cifcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.7cm&quot;&gt;[dircliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.25cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.8cm&quot;&gt;[telcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.35cm&quot;&gt;[mailcliente]&lt;/drawString&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.05cm&quot;&gt;Nº Cliente:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.6cm&quot;&gt;Nombre/Empresa:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.15cm&quot;&gt;NIF/CIF:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.7cm&quot;&gt;Dirección:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.25cm&quot;&gt;Población:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.8cm&quot;&gt;Teléfono:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.35cm&quot;&gt;Dirección Email:&lt;/drawString&gt;
+
+		&lt;!--Fecha pedidocliente--&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
+
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.95cm&quot;&gt;Fecha pedido:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.5cm&quot;&gt;Nº pedido:&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.95cm&quot;&gt;Referencia:&lt;/drawString&gt;
+
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.95cm&quot;&gt;[fechapedidocliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.5cm&quot;&gt;[numpedidocliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.5cm&quot;&gt;[refpedidocliente]&lt;/drawString&gt;
+
+		&lt;!-- INCLUDE FILE=&quot;[CONF_DIR_OPENREPORTS]plantilla_empresa.rml&quot; --&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;26.3cm&quot;&gt;- PEDIDO -&lt;/drawCentredString&gt;
+
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;7&quot;/&gt;
+		&lt;drawString x=&quot;15cm&quot; y=&quot;22.7cm&quot;&gt;Los importes están expresados en euros.&lt;/drawString&gt;
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;25.85cm&quot;&gt;Forma de pago: &lt;!--QUERY=&quot;SELECT descforma_pago FROM forma_pago WHERE idforma_pago = [idforma_pago] LIMIT 1&quot;--&gt;[descforma_pago]&lt;!--END QUERY--&gt;&lt;/drawCentredString&gt;
+
+	&lt;/pageGraphics&gt;
+
+
+		&lt;!-- FRAME DE CONTENIDOS --&gt;
+		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;8cm&quot; width=&quot;19cm&quot; height=&quot;14.6cm&quot; /&gt;
+
+		
+	&lt;/pageTemplate&gt;
+
+&lt;/template&gt;
+
+&lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
+
+&lt;story&gt;	
+	&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;3.00cm, 8.5cm, 1.8cm, 2cm, 2.9cm&quot; splitByRow=&quot;2&quot; rowheights=&quot;2&quot; repeatRows=&quot;1&quot;&gt;
+		&lt;tr&gt;
+			&lt;td&gt;Codigo&lt;/td&gt;
+			&lt;td&gt;Concepto&lt;/td&gt;
+			&lt;td&gt;Unid:&lt;/td&gt;
+			&lt;td&gt;Precio/u:&lt;/td&gt;
+			&lt;td&gt;Subtotal s/iva:&lt;/td&gt;
+		&lt;/tr&gt;
+		[story codigocompletoarticulo, descpedidocliente, cantpedidocliente, pvppedidocliente, subtotalpedidocliente]
+	
+&lt;!--IF DESCUENTOS--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Descuento/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;% Dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;Total dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+&lt;!--LINEAS DESCUENTO--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[conceptdpedidocliente]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;[proporciondpedidocliente]%&lt;/td&gt;
+			&lt;td&gt;[totaldescdpedidocliente]&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END LINEAS DESCUENTO--&gt;
+&lt;!--END IF DESCUENTOS--&gt;
+
+
+&lt;!--IF QUERY=&quot;SELECT comentpedidocliente FROM pedidocliente WHERE length(comentpedidocliente) &gt; 0 AND idpedidocliente = [idpedidocliente]&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT comentpedidocliente FROM pedidocliente WHERE length(comentpedidocliente) &gt; 0 AND idpedidocliente = [idpedidocliente]&quot;--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Comentario/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[comentpedidocliente]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+	&lt;/blockTable&gt;
+
+	
+	&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;20cm&quot; height=&quot;1cm&quot;&gt;
+		&lt;place x=&quot;1cm&quot; y=&quot;4cm&quot; width=&quot;19cm&quot; height=&quot;4cm&quot;&gt;
+			&lt;blockTable style=&quot;total&quot; colWidths=&quot;16.3cm,2.7cm&quot; &gt;
+				&lt;tr&gt;
+					&lt;td colspan=&quot;2&quot;&gt;
+						&lt;blockTable style=&quot;titulo&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm, 2.7cm&quot;&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Base Imponible:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;I.V.A.%:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Tot I.V.A.:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Total:&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;contenido&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm&quot; &gt;
+						&lt;!--TOTALES--&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[bimp]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[tbimp]%&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[iva]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;!--END TOTALES--&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;preciofinal&quot; colWidths=&quot;2.7cm&quot; &gt;
+							&lt;tr&gt;
+								&lt;td&gt;[total] &#8364;&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;/blockTable&gt;
+		&lt;/place&gt;
+	&lt;/storyPlace&gt;
+
+&lt;!-- storyPlace x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
+&lt;place x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
+&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;ALB [idpedidocliente] [numpedidocliente] [refpedidocliente]&lt;/barCode&gt;
+&lt;/place&gt;
+&lt;/storyPlace --&gt;
+
+
+&lt;/story&gt;
+&lt;/document&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientepedido/openreports/es/impers_pedidocliente_urgente.rml b/bulmages/bulmafact/plugins/pluginbf_clientepedido/openreports/es/impers_pedidocliente_urgente.rml
new file mode 100644
index 0000000..532f279
--- /dev/null
+++ b/bulmages/bulmafact/plugins/pluginbf_clientepedido/openreports/es/impers_pedidocliente_urgente.rml
@@ -0,0 +1,218 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot; ?&gt;
+&lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
+&lt;document&gt;
+&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Pedido Urgente&quot; author=&quot;&quot;&gt;
+	&lt;pageTemplate id=&quot;main&quot;&gt;
+		&lt;pageGraphics&gt;
+		&lt;include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/&gt;
+
+		&lt;!-- URGENTE --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;34&quot;/&gt;
+		&lt;fill color=&quot;(1,0.3,0.3)&quot;/&gt;
+		&lt;stroke color=&quot;(1,0.3,0.3)&quot;/&gt;
+		&lt;translate dx=&quot;15cm&quot; dy=&quot;-6.5cm&quot;/&gt;
+		&lt;rotate degrees=&quot;20&quot;/&gt;                                                                          
+		&lt;drawString x=&quot;21mm&quot; y=&quot;15.8cm&quot;&gt;URGENTE&lt;/drawString&gt;                                           
+		&lt;lineMode width=&quot;2mm&quot;/&gt;                                                                         
+		&lt;rect round=&quot;1cm&quot; x=&quot;17.5mm&quot; y=&quot;15cm&quot; width=&quot;6.5cm&quot; height=&quot;2.5cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;          
+		&lt;rotate degrees=&quot;-20&quot;/&gt;                                                                         
+		&lt;translate dx=&quot;-15cm&quot; dy=&quot;6.5cm&quot;/&gt; 
+
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
+		
+&lt;!--IF QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;11&quot;/&gt;
+		&lt;fill color=&quot;(1,1,1)&quot;/&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.53cm&quot;&gt;Datos del cliente:&lt;/drawString&gt;
+
+		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;26.05cm&quot;&gt;[idcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.6cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.15cm&quot;&gt;[cifcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.7cm&quot;&gt;[dircliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.25cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.8cm&quot;&gt;[telcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.35cm&quot;&gt;[mailcliente]&lt;/drawString&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.05cm&quot;&gt;Nº Cliente:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.6cm&quot;&gt;Nombre/Empresa:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.15cm&quot;&gt;NIF/CIF:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.7cm&quot;&gt;Dirección:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.25cm&quot;&gt;Población:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.8cm&quot;&gt;Teléfono:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.35cm&quot;&gt;Dirección Email:&lt;/drawString&gt;
+
+		&lt;!--Fecha pedidocliente--&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
+
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.95cm&quot;&gt;Fecha pedido:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.5cm&quot;&gt;Nº pedido:&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.95cm&quot;&gt;Referencia:&lt;/drawString&gt;
+
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.95cm&quot;&gt;[fechapedidocliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.5cm&quot;&gt;[numpedidocliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.5cm&quot;&gt;[refpedidocliente]&lt;/drawString&gt;
+
+		&lt;!-- INCLUDE FILE=&quot;[CONF_DIR_OPENREPORTS]plantilla_empresa.rml&quot; --&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;26.3cm&quot;&gt;- PEDIDO -&lt;/drawCentredString&gt;
+
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;7&quot;/&gt;
+		&lt;drawString x=&quot;15cm&quot; y=&quot;22.7cm&quot;&gt;Los importes están expresados en euros.&lt;/drawString&gt;
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;25.85cm&quot;&gt;Forma de pago: &lt;!--QUERY=&quot;SELECT descforma_pago FROM forma_pago WHERE idforma_pago = [idforma_pago] LIMIT 1&quot;--&gt;[descforma_pago]&lt;!--END QUERY--&gt;&lt;/drawCentredString&gt;
+
+	&lt;/pageGraphics&gt;
+
+
+		&lt;!-- FRAME DE CONTENIDOS --&gt;
+		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;8cm&quot; width=&quot;19cm&quot; height=&quot;14.6cm&quot; /&gt;
+
+		
+	&lt;/pageTemplate&gt;
+
+&lt;/template&gt;
+
+&lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
+
+&lt;story&gt;	
+	&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;3.00cm, 8.5cm, 1.8cm, 2cm, 2.9cm&quot; splitByRow=&quot;2&quot; rowheights=&quot;2&quot; repeatRows=&quot;1&quot;&gt;
+		&lt;tr&gt;
+			&lt;td&gt;Codigo&lt;/td&gt;
+			&lt;td&gt;Concepto&lt;/td&gt;
+			&lt;td&gt;Unid:&lt;/td&gt;
+			&lt;td&gt;Precio/u:&lt;/td&gt;
+			&lt;td&gt;Subtotal s/iva:&lt;/td&gt;
+		&lt;/tr&gt;
+		[story codigocompletoarticulo, descpedidocliente, cantpedidocliente, pvppedidocliente, subtotalpedidocliente]
+	
+&lt;!--IF DESCUENTOS--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Descuento/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;% Dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;Total dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+&lt;!--LINEAS DESCUENTO--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[conceptdpedidocliente]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;[proporciondpedidocliente]%&lt;/td&gt;
+			&lt;td&gt;[totaldescdpedidocliente]&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END LINEAS DESCUENTO--&gt;
+&lt;!--END IF DESCUENTOS--&gt;
+
+
+&lt;!--IF QUERY=&quot;SELECT comentpedidocliente FROM pedidocliente WHERE length(comentpedidocliente) &gt; 0 AND idpedidocliente = [idpedidocliente]&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT comentpedidocliente FROM pedidocliente WHERE length(comentpedidocliente) &gt; 0 AND idpedidocliente = [idpedidocliente]&quot;--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Comentario/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[comentpedidocliente]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+	&lt;/blockTable&gt;
+
+	
+	&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;20cm&quot; height=&quot;1cm&quot;&gt;
+		&lt;place x=&quot;1cm&quot; y=&quot;4cm&quot; width=&quot;19cm&quot; height=&quot;4cm&quot;&gt;
+			&lt;blockTable style=&quot;total&quot; colWidths=&quot;16.3cm,2.7cm&quot; &gt;
+				&lt;tr&gt;
+					&lt;td colspan=&quot;2&quot;&gt;
+						&lt;blockTable style=&quot;titulo&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm, 2.7cm&quot;&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Base Imponible:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;I.V.A.%:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Tot I.V.A.:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Total:&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;contenido&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm&quot; &gt;
+						&lt;!--TOTALES--&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[bimp]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[tbimp]%&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[iva]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;!--END TOTALES--&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;preciofinal&quot; colWidths=&quot;2.7cm&quot; &gt;
+							&lt;tr&gt;
+								&lt;td&gt;[total] &#8364;&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;/blockTable&gt;
+		&lt;/place&gt;
+	&lt;/storyPlace&gt;
+
+&lt;!-- storyPlace x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
+&lt;place x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
+&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;ALB [idpedidocliente] [numpedidocliente] [refpedidocliente]&lt;/barCode&gt;
+&lt;/place&gt;
+&lt;/storyPlace --&gt;
+
+
+&lt;/story&gt;
+&lt;/document&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientepedido/openreports/es/pedidocliente.rml b/bulmages/bulmafact/plugins/pluginbf_clientepedido/openreports/es/pedidocliente.rml
new file mode 100644
index 0000000..117ec11
--- /dev/null
+++ b/bulmages/bulmafact/plugins/pluginbf_clientepedido/openreports/es/pedidocliente.rml
@@ -0,0 +1,206 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot; ?&gt;
+&lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
+&lt;document&gt;
+&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Pedido&quot; author=&quot;&quot;&gt;
+	&lt;pageTemplate id=&quot;main&quot;&gt;
+		&lt;pageGraphics&gt;
+		&lt;include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/&gt;
+
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
+		
+&lt;!--IF QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;11&quot;/&gt;
+		&lt;fill color=&quot;(1,1,1)&quot;/&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.53cm&quot;&gt;Datos del cliente:&lt;/drawString&gt;
+
+		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;26.05cm&quot;&gt;[idcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.6cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.15cm&quot;&gt;[cifcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.7cm&quot;&gt;[dircliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.25cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.8cm&quot;&gt;[telcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.35cm&quot;&gt;[mailcliente]&lt;/drawString&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.05cm&quot;&gt;Nº Cliente:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.6cm&quot;&gt;Nombre/Empresa:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.15cm&quot;&gt;NIF/CIF:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.7cm&quot;&gt;Dirección:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.25cm&quot;&gt;Población:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.8cm&quot;&gt;Teléfono:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.35cm&quot;&gt;Dirección Email:&lt;/drawString&gt;
+
+		&lt;!--Fecha pedidocliente--&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
+
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.95cm&quot;&gt;Fecha pedido:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.5cm&quot;&gt;Nº pedido:&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.95cm&quot;&gt;Referencia:&lt;/drawString&gt;
+
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.95cm&quot;&gt;[fechapedidocliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.5cm&quot;&gt;[numpedidocliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.5cm&quot;&gt;[refpedidocliente]&lt;/drawString&gt;
+
+		&lt;!-- INCLUDE FILE=&quot;[CONF_DIR_OPENREPORTS]plantilla_empresa.rml&quot; --&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;26.3cm&quot;&gt;- PEDIDO -&lt;/drawCentredString&gt;
+
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;7&quot;/&gt;
+		&lt;drawString x=&quot;15cm&quot; y=&quot;22.7cm&quot;&gt;Los importes están expresados en euros.&lt;/drawString&gt;
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;25.85cm&quot;&gt;Forma de pago: &lt;!--QUERY=&quot;SELECT descforma_pago FROM forma_pago WHERE idforma_pago = [idforma_pago] LIMIT 1&quot;--&gt;[descforma_pago]&lt;!--END QUERY--&gt;&lt;/drawCentredString&gt;
+
+	&lt;/pageGraphics&gt;
+
+
+		&lt;!-- FRAME DE CONTENIDOS --&gt;
+		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;8cm&quot; width=&quot;19cm&quot; height=&quot;14.6cm&quot; /&gt;
+
+		
+	&lt;/pageTemplate&gt;
+
+&lt;/template&gt;
+
+&lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
+
+&lt;story&gt;	
+	&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;3.00cm, 8.5cm, 1.8cm, 2cm, 2.9cm&quot; splitByRow=&quot;2&quot; rowheights=&quot;2&quot; repeatRows=&quot;1&quot;&gt;
+		&lt;tr&gt;
+			&lt;td&gt;Codigo&lt;/td&gt;
+			&lt;td&gt;Concepto&lt;/td&gt;
+			&lt;td&gt;Unid:&lt;/td&gt;
+			&lt;td&gt;Precio/u:&lt;/td&gt;
+			&lt;td&gt;Subtotal s/iva:&lt;/td&gt;
+		&lt;/tr&gt;
+		[story codigocompletoarticulo, descpedidocliente, cantpedidocliente, pvppedidocliente, subtotalpedidocliente]
+	
+&lt;!--IF DESCUENTOS--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Descuento/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;% Dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;Total dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+&lt;!--LINEAS DESCUENTO--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[conceptdpedidocliente]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;[proporciondpedidocliente]%&lt;/td&gt;
+			&lt;td&gt;[totaldescdpedidocliente]&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END LINEAS DESCUENTO--&gt;
+&lt;!--END IF DESCUENTOS--&gt;
+
+
+&lt;!--IF QUERY=&quot;SELECT comentpedidocliente FROM pedidocliente WHERE length(comentpedidocliente) &gt; 0 AND idpedidocliente = [idpedidocliente]&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT comentpedidocliente FROM pedidocliente WHERE length(comentpedidocliente) &gt; 0 AND idpedidocliente = [idpedidocliente]&quot;--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Comentario/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[comentpedidocliente]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+	&lt;/blockTable&gt;
+
+	
+	&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;20cm&quot; height=&quot;1cm&quot;&gt;
+		&lt;place x=&quot;1cm&quot; y=&quot;4cm&quot; width=&quot;19cm&quot; height=&quot;4cm&quot;&gt;
+			&lt;blockTable style=&quot;total&quot; colWidths=&quot;16.3cm,2.7cm&quot; &gt;
+				&lt;tr&gt;
+					&lt;td colspan=&quot;2&quot;&gt;
+						&lt;blockTable style=&quot;titulo&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm, 2.7cm&quot;&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Base Imponible:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;I.V.A.%:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Tot I.V.A.:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Total:&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;contenido&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm&quot; &gt;
+						&lt;!--TOTALES--&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[bimp]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[tbimp]%&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[iva]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;!--END TOTALES--&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;preciofinal&quot; colWidths=&quot;2.7cm&quot; &gt;
+							&lt;tr&gt;
+								&lt;td&gt;[total] &#8364;&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;/blockTable&gt;
+		&lt;/place&gt;
+	&lt;/storyPlace&gt;
+
+&lt;!-- storyPlace x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
+&lt;place x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
+&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;ALB [idpedidocliente] [numpedidocliente] [refpedidocliente]&lt;/barCode&gt;
+&lt;/place&gt;
+&lt;/storyPlace --&gt;
+
+
+&lt;/story&gt;
+&lt;/document&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientepedido/openreports/fr/impers_pedidocliente_urgente.rml b/bulmages/bulmafact/plugins/pluginbf_clientepedido/openreports/fr/impers_pedidocliente_urgente.rml
new file mode 100644
index 0000000..532f279
--- /dev/null
+++ b/bulmages/bulmafact/plugins/pluginbf_clientepedido/openreports/fr/impers_pedidocliente_urgente.rml
@@ -0,0 +1,218 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot; ?&gt;
+&lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
+&lt;document&gt;
+&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Pedido Urgente&quot; author=&quot;&quot;&gt;
+	&lt;pageTemplate id=&quot;main&quot;&gt;
+		&lt;pageGraphics&gt;
+		&lt;include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/&gt;
+
+		&lt;!-- URGENTE --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;34&quot;/&gt;
+		&lt;fill color=&quot;(1,0.3,0.3)&quot;/&gt;
+		&lt;stroke color=&quot;(1,0.3,0.3)&quot;/&gt;
+		&lt;translate dx=&quot;15cm&quot; dy=&quot;-6.5cm&quot;/&gt;
+		&lt;rotate degrees=&quot;20&quot;/&gt;                                                                          
+		&lt;drawString x=&quot;21mm&quot; y=&quot;15.8cm&quot;&gt;URGENTE&lt;/drawString&gt;                                           
+		&lt;lineMode width=&quot;2mm&quot;/&gt;                                                                         
+		&lt;rect round=&quot;1cm&quot; x=&quot;17.5mm&quot; y=&quot;15cm&quot; width=&quot;6.5cm&quot; height=&quot;2.5cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;          
+		&lt;rotate degrees=&quot;-20&quot;/&gt;                                                                         
+		&lt;translate dx=&quot;-15cm&quot; dy=&quot;6.5cm&quot;/&gt; 
+
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
+		
+&lt;!--IF QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;11&quot;/&gt;
+		&lt;fill color=&quot;(1,1,1)&quot;/&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.53cm&quot;&gt;Datos del cliente:&lt;/drawString&gt;
+
+		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;26.05cm&quot;&gt;[idcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.6cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.15cm&quot;&gt;[cifcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.7cm&quot;&gt;[dircliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.25cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.8cm&quot;&gt;[telcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.35cm&quot;&gt;[mailcliente]&lt;/drawString&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.05cm&quot;&gt;Nº Cliente:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.6cm&quot;&gt;Nombre/Empresa:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.15cm&quot;&gt;NIF/CIF:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.7cm&quot;&gt;Dirección:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.25cm&quot;&gt;Población:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.8cm&quot;&gt;Teléfono:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.35cm&quot;&gt;Dirección Email:&lt;/drawString&gt;
+
+		&lt;!--Fecha pedidocliente--&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
+
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.95cm&quot;&gt;Fecha pedido:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.5cm&quot;&gt;Nº pedido:&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.95cm&quot;&gt;Referencia:&lt;/drawString&gt;
+
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.95cm&quot;&gt;[fechapedidocliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.5cm&quot;&gt;[numpedidocliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.5cm&quot;&gt;[refpedidocliente]&lt;/drawString&gt;
+
+		&lt;!-- INCLUDE FILE=&quot;[CONF_DIR_OPENREPORTS]plantilla_empresa.rml&quot; --&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;26.3cm&quot;&gt;- PEDIDO -&lt;/drawCentredString&gt;
+
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;7&quot;/&gt;
+		&lt;drawString x=&quot;15cm&quot; y=&quot;22.7cm&quot;&gt;Los importes están expresados en euros.&lt;/drawString&gt;
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;25.85cm&quot;&gt;Forma de pago: &lt;!--QUERY=&quot;SELECT descforma_pago FROM forma_pago WHERE idforma_pago = [idforma_pago] LIMIT 1&quot;--&gt;[descforma_pago]&lt;!--END QUERY--&gt;&lt;/drawCentredString&gt;
+
+	&lt;/pageGraphics&gt;
+
+
+		&lt;!-- FRAME DE CONTENIDOS --&gt;
+		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;8cm&quot; width=&quot;19cm&quot; height=&quot;14.6cm&quot; /&gt;
+
+		
+	&lt;/pageTemplate&gt;
+
+&lt;/template&gt;
+
+&lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
+
+&lt;story&gt;	
+	&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;3.00cm, 8.5cm, 1.8cm, 2cm, 2.9cm&quot; splitByRow=&quot;2&quot; rowheights=&quot;2&quot; repeatRows=&quot;1&quot;&gt;
+		&lt;tr&gt;
+			&lt;td&gt;Codigo&lt;/td&gt;
+			&lt;td&gt;Concepto&lt;/td&gt;
+			&lt;td&gt;Unid:&lt;/td&gt;
+			&lt;td&gt;Precio/u:&lt;/td&gt;
+			&lt;td&gt;Subtotal s/iva:&lt;/td&gt;
+		&lt;/tr&gt;
+		[story codigocompletoarticulo, descpedidocliente, cantpedidocliente, pvppedidocliente, subtotalpedidocliente]
+	
+&lt;!--IF DESCUENTOS--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Descuento/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;% Dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;Total dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+&lt;!--LINEAS DESCUENTO--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[conceptdpedidocliente]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;[proporciondpedidocliente]%&lt;/td&gt;
+			&lt;td&gt;[totaldescdpedidocliente]&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END LINEAS DESCUENTO--&gt;
+&lt;!--END IF DESCUENTOS--&gt;
+
+
+&lt;!--IF QUERY=&quot;SELECT comentpedidocliente FROM pedidocliente WHERE length(comentpedidocliente) &gt; 0 AND idpedidocliente = [idpedidocliente]&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT comentpedidocliente FROM pedidocliente WHERE length(comentpedidocliente) &gt; 0 AND idpedidocliente = [idpedidocliente]&quot;--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Comentario/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[comentpedidocliente]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+	&lt;/blockTable&gt;
+
+	
+	&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;20cm&quot; height=&quot;1cm&quot;&gt;
+		&lt;place x=&quot;1cm&quot; y=&quot;4cm&quot; width=&quot;19cm&quot; height=&quot;4cm&quot;&gt;
+			&lt;blockTable style=&quot;total&quot; colWidths=&quot;16.3cm,2.7cm&quot; &gt;
+				&lt;tr&gt;
+					&lt;td colspan=&quot;2&quot;&gt;
+						&lt;blockTable style=&quot;titulo&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm, 2.7cm&quot;&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Base Imponible:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;I.V.A.%:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Tot I.V.A.:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Total:&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;contenido&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm&quot; &gt;
+						&lt;!--TOTALES--&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[bimp]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[tbimp]%&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[iva]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;!--END TOTALES--&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;preciofinal&quot; colWidths=&quot;2.7cm&quot; &gt;
+							&lt;tr&gt;
+								&lt;td&gt;[total] &#8364;&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;/blockTable&gt;
+		&lt;/place&gt;
+	&lt;/storyPlace&gt;
+
+&lt;!-- storyPlace x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
+&lt;place x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
+&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;ALB [idpedidocliente] [numpedidocliente] [refpedidocliente]&lt;/barCode&gt;
+&lt;/place&gt;
+&lt;/storyPlace --&gt;
+
+
+&lt;/story&gt;
+&lt;/document&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientepedido/openreports/fr/pedidocliente.rml b/bulmages/bulmafact/plugins/pluginbf_clientepedido/openreports/fr/pedidocliente.rml
new file mode 100644
index 0000000..117ec11
--- /dev/null
+++ b/bulmages/bulmafact/plugins/pluginbf_clientepedido/openreports/fr/pedidocliente.rml
@@ -0,0 +1,206 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot; ?&gt;
+&lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
+&lt;document&gt;
+&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Pedido&quot; author=&quot;&quot;&gt;
+	&lt;pageTemplate id=&quot;main&quot;&gt;
+		&lt;pageGraphics&gt;
+		&lt;include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/&gt;
+
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
+		
+&lt;!--IF QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;11&quot;/&gt;
+		&lt;fill color=&quot;(1,1,1)&quot;/&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.53cm&quot;&gt;Datos del cliente:&lt;/drawString&gt;
+
+		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;26.05cm&quot;&gt;[idcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.6cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.15cm&quot;&gt;[cifcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.7cm&quot;&gt;[dircliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.25cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.8cm&quot;&gt;[telcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.35cm&quot;&gt;[mailcliente]&lt;/drawString&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.05cm&quot;&gt;Nº Cliente:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.6cm&quot;&gt;Nombre/Empresa:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.15cm&quot;&gt;NIF/CIF:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.7cm&quot;&gt;Dirección:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.25cm&quot;&gt;Población:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.8cm&quot;&gt;Teléfono:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.35cm&quot;&gt;Dirección Email:&lt;/drawString&gt;
+
+		&lt;!--Fecha pedidocliente--&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
+
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.95cm&quot;&gt;Fecha pedido:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.5cm&quot;&gt;Nº pedido:&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.95cm&quot;&gt;Referencia:&lt;/drawString&gt;
+
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.95cm&quot;&gt;[fechapedidocliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.5cm&quot;&gt;[numpedidocliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.5cm&quot;&gt;[refpedidocliente]&lt;/drawString&gt;
+
+		&lt;!-- INCLUDE FILE=&quot;[CONF_DIR_OPENREPORTS]plantilla_empresa.rml&quot; --&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;26.3cm&quot;&gt;- PEDIDO -&lt;/drawCentredString&gt;
+
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;7&quot;/&gt;
+		&lt;drawString x=&quot;15cm&quot; y=&quot;22.7cm&quot;&gt;Los importes están expresados en euros.&lt;/drawString&gt;
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;25.85cm&quot;&gt;Forma de pago: &lt;!--QUERY=&quot;SELECT descforma_pago FROM forma_pago WHERE idforma_pago = [idforma_pago] LIMIT 1&quot;--&gt;[descforma_pago]&lt;!--END QUERY--&gt;&lt;/drawCentredString&gt;
+
+	&lt;/pageGraphics&gt;
+
+
+		&lt;!-- FRAME DE CONTENIDOS --&gt;
+		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;8cm&quot; width=&quot;19cm&quot; height=&quot;14.6cm&quot; /&gt;
+
+		
+	&lt;/pageTemplate&gt;
+
+&lt;/template&gt;
+
+&lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
+
+&lt;story&gt;	
+	&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;3.00cm, 8.5cm, 1.8cm, 2cm, 2.9cm&quot; splitByRow=&quot;2&quot; rowheights=&quot;2&quot; repeatRows=&quot;1&quot;&gt;
+		&lt;tr&gt;
+			&lt;td&gt;Codigo&lt;/td&gt;
+			&lt;td&gt;Concepto&lt;/td&gt;
+			&lt;td&gt;Unid:&lt;/td&gt;
+			&lt;td&gt;Precio/u:&lt;/td&gt;
+			&lt;td&gt;Subtotal s/iva:&lt;/td&gt;
+		&lt;/tr&gt;
+		[story codigocompletoarticulo, descpedidocliente, cantpedidocliente, pvppedidocliente, subtotalpedidocliente]
+	
+&lt;!--IF DESCUENTOS--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Descuento/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;% Dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;Total dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+&lt;!--LINEAS DESCUENTO--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[conceptdpedidocliente]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;[proporciondpedidocliente]%&lt;/td&gt;
+			&lt;td&gt;[totaldescdpedidocliente]&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END LINEAS DESCUENTO--&gt;
+&lt;!--END IF DESCUENTOS--&gt;
+
+
+&lt;!--IF QUERY=&quot;SELECT comentpedidocliente FROM pedidocliente WHERE length(comentpedidocliente) &gt; 0 AND idpedidocliente = [idpedidocliente]&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT comentpedidocliente FROM pedidocliente WHERE length(comentpedidocliente) &gt; 0 AND idpedidocliente = [idpedidocliente]&quot;--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Comentario/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[comentpedidocliente]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+	&lt;/blockTable&gt;
+
+	
+	&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;20cm&quot; height=&quot;1cm&quot;&gt;
+		&lt;place x=&quot;1cm&quot; y=&quot;4cm&quot; width=&quot;19cm&quot; height=&quot;4cm&quot;&gt;
+			&lt;blockTable style=&quot;total&quot; colWidths=&quot;16.3cm,2.7cm&quot; &gt;
+				&lt;tr&gt;
+					&lt;td colspan=&quot;2&quot;&gt;
+						&lt;blockTable style=&quot;titulo&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm, 2.7cm&quot;&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Base Imponible:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;I.V.A.%:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Tot I.V.A.:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Total:&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;contenido&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm&quot; &gt;
+						&lt;!--TOTALES--&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[bimp]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[tbimp]%&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[iva]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;!--END TOTALES--&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;preciofinal&quot; colWidths=&quot;2.7cm&quot; &gt;
+							&lt;tr&gt;
+								&lt;td&gt;[total] &#8364;&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;/blockTable&gt;
+		&lt;/place&gt;
+	&lt;/storyPlace&gt;
+
+&lt;!-- storyPlace x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
+&lt;place x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
+&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;ALB [idpedidocliente] [numpedidocliente] [refpedidocliente]&lt;/barCode&gt;
+&lt;/place&gt;
+&lt;/storyPlace --&gt;
+
+
+&lt;/story&gt;
+&lt;/document&gt;

commit 37261bfe9a2ae6ddd06513602603cacc609e950f
Merge: 38d4b6c 902953b
Author: Tomeu Borras &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">tborras en conetxia.com</A>&gt;
Date:   Mon Apr 16 10:01:13 2012 +0200

    Merge branch 'pendientesmerge' into cambioplantillas


commit 902953b727db550af9304747024c4eb003d5d8e0
Author: Tomeu Borras &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">tborras en conetxia.com</A>&gt;
Date:   Mon Apr 16 09:56:56 2012 +0200

    Arreglo problema en la impresion de documentos personalizados. El boton de informe no aparecia a pesar de la existencia de los informes.

diff --git a/bulmages/bulmalib/plugins/pluginbl_template/eqtoolbutton.cpp b/bulmages/bulmalib/plugins/pluginbl_template/eqtoolbutton.cpp
index 590567c..91a13ba 100644
--- a/bulmages/bulmalib/plugins/pluginbl_template/eqtoolbutton.cpp
+++ b/bulmages/bulmalib/plugins/pluginbl_template/eqtoolbutton.cpp
@@ -42,6 +42,8 @@
 EQToolButton::EQToolButton ( QWidget *parent ) : QToolButton ( parent )
 {
     BL_FUNC_DEBUG
+    
+    bool hayElementos = FALSE;
    /// Buscamos alguna otra instancia y si la hay nos quitamos de enmedio
     EQToolButton *tool = parent-&gt;findChild&lt;EQToolButton *&gt;(&quot;EQToolButtonG&quot;);
     if (tool) {
@@ -57,6 +59,7 @@ EQToolButton::EQToolButton ( QWidget *parent ) : QToolButton ( parent )
     
     QFrame *plugbotones = m_BlForm-&gt;findChild&lt;QFrame *&gt;(&quot;mui_plugbotones&quot;);
     if (plugbotones) {
+
 	QHBoxLayout *m_hboxLayout1 = plugbotones-&gt;findChild&lt;QHBoxLayout *&gt; ( &quot;hboxLayout1&quot; );
 	if ( !m_hboxLayout1 ) {
 	    m_hboxLayout1 = new QHBoxLayout ( plugbotones );
@@ -88,8 +91,7 @@ EQToolButton::EQToolButton ( QWidget *parent ) : QToolButton ( parent )
 	QFileInfoList list = dir.entryInfoList();
 	// Si no hay elementos que mostrar entonces ocultamos el boton ya que no lleva a ninguna parte.
 	if (list.size() == 0) {
-	    hide();
-	    return;
+	    hayElementos = TRUE;
 	} // end if
 	for ( int i = 0; i &lt; list.size(); ++i ) {
 	    QFileInfo fileInfo = list.at ( i );
@@ -125,8 +127,8 @@ EQToolButton::EQToolButton ( QWidget *parent ) : QToolButton ( parent )
 	    connect ( accion, SIGNAL ( triggered ( bool ) ), this, SLOT ( trataMenu ( ) ) );
 	} // end for
 	
-// ==============================
-
+        // Buscamos plantillas TXT que tienen que salir por la ticketera.
+        
 	/// Buscamos ficheros que tengan el nombre de la tabla
 	QDir dir1 ( g_confpr-&gt;value( CONF_DIR_OPENREPORTS ) );
 	dir1.setFilter ( QDir::Files | QDir::NoSymLinks );
@@ -140,11 +142,10 @@ EQToolButton::EQToolButton ( QWidget *parent ) : QToolButton ( parent )
 	QFileInfoList list1 = dir1.entryInfoList();
 	// Si no hay elementos que mostrar entonces ocultamos el boton ya que no lleva a ninguna parte.
 	if (list1.size() == 0) {
-	    hide();
-	    return;
+	    hayElementos = TRUE;
 	} // end if
-	for ( int i = 0; i &lt; list.size(); ++i ) {
-	    QFileInfo fileInfo = list.at ( i );
+	for ( int i = 0; i &lt; list1.size(); ++i ) {
+	    QFileInfo fileInfo = list1.at ( i );
 
 
 	    QFile file;
@@ -176,7 +177,13 @@ EQToolButton::EQToolButton ( QWidget *parent ) : QToolButton ( parent )
 	    accion-&gt;setIcon(QIcon(icon));
 	    connect ( accion, SIGNAL ( triggered ( bool ) ), this, SLOT ( trataMenu ( ) ) );
 	} // end for
-// ==============================
+
+	/// Si no hay elementos para mostrar nos ocultamos.
+	if (!hayElementos) {
+	  hide();
+	  return;
+	} // end if
+
 	setMenu(menu);
     } else {
 	hide();
@@ -277,7 +284,7 @@ void EQToolButton::trataMenu ( QAction *action )
 		} // end if
 	    } // end if
 	} // end for
-// ==============================================
+
 	/// Buscamos ficheros que tengan el nombre de la tabla
 	QDir dir1 ( g_confpr-&gt;value( CONF_DIR_OPENREPORTS ) );
 	dir1.setFilter ( QDir::Files | QDir::NoSymLinks );
@@ -288,8 +295,8 @@ void EQToolButton::trataMenu ( QAction *action )
 	dir1.setNameFilters ( filters1 );
 
 	QFileInfoList list1 = dir1.entryInfoList();
-	for ( int i = 0; i &lt; list.size(); ++i ) {
-	    QFileInfo fileInfo = list.at ( i );
+	for ( int i = 0; i &lt; list1.size(); ++i ) {
+	    QFileInfo fileInfo = list1.at ( i );
 	    if ( action-&gt;objectName() == fileInfo.fileName() ) {
 		if ( m_BlForm-&gt;generateRML ( fileInfo.fileName() ) ) {
 
@@ -311,7 +318,6 @@ void EQToolButton::trataMenu ( QAction *action )
 		} // end if
 	    } // end if
 	} // end for
-// ==============================================
     } // end if
 }
 

commit 38d4b6c58b2bad3fc485ae1b349393978b70b306
Author: Tomeu Borras &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">tborras en conetxia.com</A>&gt;
Date:   Mon Apr 16 09:26:00 2012 +0200

    Cambio la plantilla de presupuestos

diff --git a/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/README.es b/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/README.es
index 21b5236..f556296 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/README.es
+++ b/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/README.es
@@ -36,7 +36,7 @@ Dependencias: libpluginbf_trabajador.so; libpluginbf_almacen.so; libpluginbf_for
 
 Incompatibles:
 
-Reports: presupuesto.rml; blform_PresupuestoView.qs; impers_presupuesto_fproforma.rml
+Reports: presupuesto.rml; blform_PresupuestoView.qs; impers_presupuesto_fproforma.rml; impers_presupuesto_excel.pys; impers_presupuesto_sin_total.rml; impers_presupuesto_solo_totales.rml; impers_presupuesto_urgente.rml
 
 Categorias: Facturacion generica;
 
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/ca/impers_presupuesto_fproforma.rml b/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/ca/impers_presupuesto_fproforma.rml
index 9eba3e6..b67c07d 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/ca/impers_presupuesto_fproforma.rml
+++ b/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/ca/impers_presupuesto_fproforma.rml
@@ -1,142 +1,216 @@
-&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot; ?&gt;
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot; ?&gt;
 &lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
 &lt;document&gt;
-&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Factura Proforma&quot; author=&quot;Tomeu Borras&quot; allowSplitting=&quot;20&quot;&gt;
+&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Fractura Proforma&quot; author=&quot;&quot;&gt;
 	&lt;pageTemplate id=&quot;main&quot;&gt;
 		&lt;pageGraphics&gt;
 		&lt;include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/&gt;
 
 		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
 		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;22&quot;/&gt;
-		&lt;drawString x=&quot;1.5cm&quot; y=&quot;24.5cm&quot;&gt;FRA. PROFORMA&lt;/drawString&gt;
+		
+&lt;!--IF QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
 
-&lt;!--IF QUERY=&quot;SELECT * FROM CLIENTE WHERE idcliente = [idcliente]&quot;--&gt;
-&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente=[idcliente]&quot;--&gt;
-		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;24cm&quot;&gt;[nomcliente] -- [telcliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23.5cm&quot;&gt;[dircliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;11&quot;/&gt;
+		&lt;fill color=&quot;(1,1,1)&quot;/&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.53cm&quot;&gt;Datos del cliente:&lt;/drawString&gt;
 
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
+		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;26.05cm&quot;&gt;[idcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.6cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.15cm&quot;&gt;[cifcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.7cm&quot;&gt;[dircliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.25cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.8cm&quot;&gt;[telcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.35cm&quot;&gt;[mailcliente]&lt;/drawString&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
 		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
-		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;drawCentredString x=&quot;5.5cm&quot; y=&quot;21.2cm&quot;&gt;NIF&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;8.5cm&quot; y=&quot;21.2cm&quot;&gt;Cliente&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;11.5cm&quot; y=&quot;21.2cm&quot;&gt;Fecha&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;14.5cm&quot; y=&quot;21.2cm&quot;&gt;N. Presup:&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;17.5cm&quot; y=&quot;21.2cm&quot;&gt;Ref&lt;/drawCentredString&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawCentredString x=&quot;5.5cm&quot; y=&quot;20.4cm&quot;&gt;[cifcliente]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;8.5cm&quot; y=&quot;20.4cm&quot;&gt;[idcliente]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;11.5cm&quot; y=&quot;20.4cm&quot;&gt;[fpresupuesto]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;14.5cm&quot; y=&quot;20.4cm&quot;&gt;[numpresupuesto]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;17.5cm&quot; y=&quot;20.4cm&quot;&gt;[refpresupuesto]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;5cm&quot; y=&quot;2.5cm&quot;&gt;Presupuesto valido hasta [vencpresupuesto]&lt;/drawCentredString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.05cm&quot;&gt;Nº Cliente:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.6cm&quot;&gt;Nombre/Empresa:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.15cm&quot;&gt;NIF/CIF:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.7cm&quot;&gt;Dirección:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.25cm&quot;&gt;Población:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.8cm&quot;&gt;Teléfono:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.35cm&quot;&gt;Dirección Email:&lt;/drawString&gt;
+
+		&lt;!--Fecha presupuesto--&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
+
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.95cm&quot;&gt;Fecha fra:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.5cm&quot;&gt;Nº fra:&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.95cm&quot;&gt;Referencia:&lt;/drawString&gt;
+
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.95cm&quot;&gt;[fpresupuesto]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.5cm&quot;&gt;[numpresupuesto]&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.5cm&quot;&gt;[refpresupuesto]&lt;/drawString&gt;
+
+		&lt;!-- INCLUDE FILE=&quot;[CONF_DIR_OPENREPORTS]plantilla_empresa.rml&quot; --&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;26.3cm&quot;&gt;- F. PROFORMA -&lt;/drawCentredString&gt;
+
 &lt;!--END QUERY--&gt;
 &lt;!--END IF QUERY--&gt;
-		&lt;/pageGraphics&gt;
-		&lt;!-- FRAME DE CONTENIDOS --&gt;
-		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;5cm&quot; width=&quot;19cm&quot; height=&quot;15cm&quot;/&gt;
-	&lt;/pageTemplate&gt;
 
-&lt;/template&gt;
 
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;7&quot;/&gt;
+		&lt;drawString x=&quot;15cm&quot; y=&quot;22.7cm&quot;&gt;Los importes están expresados en euros.&lt;/drawString&gt;
 
-&lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;25.85cm&quot;&gt;Forma de pago: &lt;!--QUERY=&quot;SELECT descforma_pago FROM forma_pago WHERE idforma_pago = [idforma_pago] LIMIT 1&quot;--&gt;[descforma_pago]&lt;!--END QUERY--&gt;&lt;/drawCentredString&gt;
+
+	&lt;/pageGraphics&gt;
 
-&lt;story&gt;
-&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;1.75cm, 8.55cm, 1.2cm, 1.7cm, 1.8cm, 2.25cm&quot; repeatRows=&quot;1&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;Codigo&lt;/td&gt;
-&lt;td&gt;Concepto&lt;/td&gt;
-&lt;td&gt;Und&lt;/td&gt;
-&lt;td&gt;Precio&lt;/td&gt;
-&lt;td&gt;Dto&lt;/td&gt;
-&lt;td&gt;Total&lt;/td&gt;
-&lt;/tr&gt;
-&lt;!--LINEAS DETALLE--&gt;
-&lt;tr&gt;
-&lt;td&gt;[codigocompletoarticulo]&lt;/td&gt;
-&lt;td&gt;&lt;!-- EXISTS FILE=&quot;/var/bulmages/articles/[codigocompletoarticulo].jpg&quot; --&gt;&lt;image x=&quot;0.5cm&quot; y=&quot;1.5cm&quot; width=&quot;2cm&quot; file=&quot;/var/bulmages/articles/[codigocompletoarticulo].jpg&quot;/&gt;&lt;!-- END EXISTS --&gt;[desclpresupuesto]&lt;/td&gt;
-&lt;td&gt;[cantlpresupuesto]&lt;/td&gt;
-&lt;td&gt;[pvplpresupuesto]&lt;/td&gt;
-&lt;td&gt;[descuentolpresupuesto]%&lt;/td&gt;
-&lt;td&gt;[totallpresupuesto]&lt;/td&gt;
-&lt;/tr&gt;
-&lt;!--END LINEAS DETALLE--&gt;
-&lt;/blockTable&gt;
-
-&lt;blockTable colWidths=&quot;1.75cm, 8.55cm, 1.2cm, 1.7cm, 1.8cm, 2.25cm&quot; repeatRows=&quot;1&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;[comentpresupuesto]&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/blockTable&gt;
 
+		&lt;!-- FRAME DE CONTENIDOS --&gt;
+		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;8cm&quot; width=&quot;19cm&quot; height=&quot;14.6cm&quot; /&gt;
+
+		
+	&lt;/pageTemplate&gt;
 
+&lt;/template&gt;
 
+&lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
+
+&lt;story&gt;	
+	&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;3.00cm, 8.5cm, 1.8cm, 2cm, 2.9cm&quot; splitByRow=&quot;2&quot; rowheights=&quot;2&quot; repeatRows=&quot;1&quot;&gt;
+		&lt;tr&gt;
+			&lt;td&gt;Codigo&lt;/td&gt;
+			&lt;td&gt;Concepto&lt;/td&gt;
+			&lt;td&gt;Unid:&lt;/td&gt;
+			&lt;td&gt;Precio/u:&lt;/td&gt;
+			&lt;td&gt;Subtotal s/iva:&lt;/td&gt;
+		&lt;/tr&gt;
+		[story codigocompletoarticulo, descpresupuesto, cantpresupuesto, pvppresupuesto, subtotalpresupuesto]
+	
 &lt;!--IF DESCUENTOS--&gt;
-&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
-	&lt;place x=&quot;4cm&quot; y=&quot;3.5cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;blockTable style=&quot;tabladescuento&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt; Descuento&lt;/td&gt;
-&lt;td&gt; Porcentaje&lt;/td&gt;
-&lt;td&gt; Total &lt;/td&gt;
-&lt;/tr&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Descuento/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;% Dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;Total dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
 &lt;!--LINEAS DESCUENTO--&gt;
-&lt;tr&gt;
-	&lt;td&gt;[conceptdpresupuesto]&lt;/td&gt;
-	&lt;td&gt;[proporciondpresupuesto]%&lt;/td&gt;
-	&lt;td&gt;[totaldescdpresupuesto]&lt;/td&gt;
-&lt;/tr&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[conceptdpresupuesto]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;[proporciondpresupuesto]%&lt;/td&gt;
+			&lt;td&gt;[totaldescdpresupuesto]&lt;/td&gt;
+		&lt;/tr&gt;
 &lt;!--END LINEAS DESCUENTO--&gt;
-&lt;/blockTable&gt;
-&lt;/place&gt;
-&lt;/storyPlace&gt;
 &lt;!--END IF DESCUENTOS--&gt;
 
-&lt;storyPlace x=&quot;2cm&quot; y=&quot;0cm&quot; width=&quot;19cm&quot; height=&quot;2cm&quot;&gt;
-&lt;place x=&quot;2cm&quot; y=&quot;0.5cm&quot; width=&quot;19cm&quot; height=&quot;4.5cm&quot;&gt;
-&lt;blockTable colWidths=&quot;7cm, 7cm&quot;&gt;
-&lt;!--TOTALES--&gt;
-&lt;tr&gt;
-&lt;td&gt;&lt;para&gt;Base Imponible [tbimp]%: &lt;font color=&quot;blue&quot;&gt;[bimp]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;I.V.A. [tbimp]%:  &lt;font color=&quot;blue&quot;&gt;[iva]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;!--END TOTALES--&gt;
-
-&lt;!--TOTREQ--&gt;
-&lt;tr&gt;
-&lt;td colspan=&quot;2&quot;&gt;&lt;para&gt;R.Eq. [tre]%: &lt;font color=&quot;blue&quot;&gt;[re]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;!--END TOTREQ--&gt;
-&lt;/blockTable&gt;
-
-
-&lt;blockTable&gt;
-&lt;tr&gt;
-&lt;!-- td&gt;&lt;para&gt;Total Descuentos &lt;font color=&quot;blue&quot;&gt;[totaldesc]&lt;/font&gt;&lt;/para&gt;&lt;/td--&gt;
-&lt;td&gt;&lt;para&gt;Total Base Imponible &lt;font color=&quot;blue&quot;&gt;[totalbimp]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;Total I.V.A &lt;font color=&quot;blue&quot;&gt;[totaliva]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;Total R.Eq &lt;font color=&quot;blue&quot;&gt;[totalre]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;&lt;font size=&quot;15&quot;&gt;&lt;b&gt; Total &lt;/b&gt;&lt;/font&gt;&lt;font color=&quot;blue&quot; size=&quot;15&quot;&gt;&lt;b&gt;[total]&lt;/b&gt;&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/blockTable&gt;
-&lt;/place&gt;
-&lt;/storyPlace&gt;
 
+&lt;!--IF QUERY=&quot;SELECT comentpresupuesto FROM presupuesto WHERE length(comentpresupuesto) &gt; 0 AND idpresupuesto = [idpresupuesto]&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT comentpresupuesto FROM presupuesto WHERE length(comentpresupuesto) &gt; 0 AND idpresupuesto = [idpresupuesto]&quot;--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Comentario/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[comentpresupuesto]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;Este presupuesto es válido hasta: [vencpresupuesto]&lt;/b&gt;&lt;br/&gt;&lt;br/&gt;
+			NOTA: Es imprescindible la presentación de este presupuesto para mantener los precios y condiciones.
+			&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+	&lt;/blockTable&gt;
+
+	
+	&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;20cm&quot; height=&quot;1cm&quot;&gt;
+		&lt;place x=&quot;1cm&quot; y=&quot;4cm&quot; width=&quot;19cm&quot; height=&quot;4cm&quot;&gt;
+			&lt;blockTable style=&quot;total&quot; colWidths=&quot;16.3cm,2.7cm&quot; &gt;
+				&lt;tr&gt;
+					&lt;td colspan=&quot;2&quot;&gt;
+						&lt;blockTable style=&quot;titulo&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm, 2.7cm&quot;&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Base Imponible:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;I.V.A.%:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Tot I.V.A.:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Total:&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;contenido&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm&quot; &gt;
+						&lt;!--TOTALES--&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[bimp]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[tbimp]%&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[iva]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;!--END TOTALES--&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;preciofinal&quot; colWidths=&quot;2.7cm&quot; &gt;
+							&lt;tr&gt;
+								&lt;td&gt;[total] &#8364;&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;/blockTable&gt;
+		&lt;/place&gt;
+	&lt;/storyPlace&gt;
 
 &lt;!-- storyPlace x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
 &lt;place x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;FACT [idpresupuesto] [numpresupuesto] [refpresupuesto]&lt;/barCode&gt;
+&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;ALB [idpresupuesto] [numpresupuesto] [refpresupuesto]&lt;/barCode&gt;
 &lt;/place&gt;
 &lt;/storyPlace --&gt;
+
+
 &lt;/story&gt;
 &lt;/document&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/ca/presupuesto.rml b/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/ca/presupuesto.rml
index 49984cd..fb4acd8 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/ca/presupuesto.rml
+++ b/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/ca/presupuesto.rml
@@ -1,142 +1,216 @@
-&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot; ?&gt;
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot; ?&gt;
 &lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
 &lt;document&gt;
-&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Presupuesto&quot; author=&quot;Tomeu Borras&quot; allowSplitting=&quot;20&quot;&gt;
+&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Presupuesto&quot; author=&quot;&quot;&gt;
 	&lt;pageTemplate id=&quot;main&quot;&gt;
 		&lt;pageGraphics&gt;
 		&lt;include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/&gt;
 
 		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
 		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;22&quot;/&gt;
-		&lt;drawString x=&quot;1.5cm&quot; y=&quot;24.5cm&quot;&gt;PRESUPUESTO&lt;/drawString&gt;
+		
+&lt;!--IF QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
 
-&lt;!--IF QUERY=&quot;SELECT * FROM CLIENTE WHERE idcliente = [idcliente]&quot;--&gt;
-&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente=[idcliente]&quot;--&gt;
-		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;24cm&quot;&gt;[nomcliente] -- [telcliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23.5cm&quot;&gt;[dircliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;11&quot;/&gt;
+		&lt;fill color=&quot;(1,1,1)&quot;/&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.53cm&quot;&gt;Datos del cliente:&lt;/drawString&gt;
 
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
+		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;26.05cm&quot;&gt;[idcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.6cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.15cm&quot;&gt;[cifcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.7cm&quot;&gt;[dircliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.25cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.8cm&quot;&gt;[telcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.35cm&quot;&gt;[mailcliente]&lt;/drawString&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
 		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
-		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;drawCentredString x=&quot;5.5cm&quot; y=&quot;21.2cm&quot;&gt;NIF&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;8.5cm&quot; y=&quot;21.2cm&quot;&gt;Cliente&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;11.5cm&quot; y=&quot;21.2cm&quot;&gt;Fecha&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;14.5cm&quot; y=&quot;21.2cm&quot;&gt;N. Presup:&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;17.5cm&quot; y=&quot;21.2cm&quot;&gt;Ref&lt;/drawCentredString&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawCentredString x=&quot;5.5cm&quot; y=&quot;20.4cm&quot;&gt;[cifcliente]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;8.5cm&quot; y=&quot;20.4cm&quot;&gt;[idcliente]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;11.5cm&quot; y=&quot;20.4cm&quot;&gt;[fpresupuesto]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;14.5cm&quot; y=&quot;20.4cm&quot;&gt;[numpresupuesto]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;17.5cm&quot; y=&quot;20.4cm&quot;&gt;[refpresupuesto]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;5cm&quot; y=&quot;2.5cm&quot;&gt;Presupuesto valido hasta [vencpresupuesto]&lt;/drawCentredString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.05cm&quot;&gt;Nº Cliente:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.6cm&quot;&gt;Nombre/Empresa:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.15cm&quot;&gt;NIF/CIF:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.7cm&quot;&gt;Dirección:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.25cm&quot;&gt;Población:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.8cm&quot;&gt;Teléfono:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.35cm&quot;&gt;Dirección Email:&lt;/drawString&gt;
+
+		&lt;!--Fecha presupuesto--&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
+
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.95cm&quot;&gt;Fecha presupuesto:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.5cm&quot;&gt;Nº presupuesto:&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.95cm&quot;&gt;Referencia:&lt;/drawString&gt;
+
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.95cm&quot;&gt;[fpresupuesto]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.5cm&quot;&gt;[numpresupuesto]&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.5cm&quot;&gt;[refpresupuesto]&lt;/drawString&gt;
+
+		&lt;!-- INCLUDE FILE=&quot;[CONF_DIR_OPENREPORTS]plantilla_empresa.rml&quot; --&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;26.3cm&quot;&gt;- PRESUPUESTO -&lt;/drawCentredString&gt;
+
 &lt;!--END QUERY--&gt;
 &lt;!--END IF QUERY--&gt;
-		&lt;/pageGraphics&gt;
-		&lt;!-- FRAME DE CONTENIDOS --&gt;
-		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;5cm&quot; width=&quot;19cm&quot; height=&quot;15cm&quot;/&gt;
-	&lt;/pageTemplate&gt;
 
-&lt;/template&gt;
 
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;7&quot;/&gt;
+		&lt;drawString x=&quot;15cm&quot; y=&quot;22.7cm&quot;&gt;Los importes están expresados en euros.&lt;/drawString&gt;
 
-&lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;25.85cm&quot;&gt;Forma de pago: &lt;!--QUERY=&quot;SELECT descforma_pago FROM forma_pago WHERE idforma_pago = [idforma_pago] LIMIT 1&quot;--&gt;[descforma_pago]&lt;!--END QUERY--&gt;&lt;/drawCentredString&gt;
+
+	&lt;/pageGraphics&gt;
 
-&lt;story&gt;
-&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;1.75cm, 8.55cm, 1.2cm, 1.7cm, 1.8cm, 2.25cm&quot; repeatRows=&quot;1&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;Codigo&lt;/td&gt;
-&lt;td&gt;Concepto&lt;/td&gt;
-&lt;td&gt;Und&lt;/td&gt;
-&lt;td&gt;Precio&lt;/td&gt;
-&lt;td&gt;Dto&lt;/td&gt;
-&lt;td&gt;Total&lt;/td&gt;
-&lt;/tr&gt;
-&lt;!--LINEAS DETALLE--&gt;
-&lt;tr&gt;
-&lt;td&gt;[codigocompletoarticulo]&lt;/td&gt;
-&lt;td&gt;&lt;!-- EXISTS FILE=&quot;/var/bulmages/articles/[codigocompletoarticulo].jpg&quot; --&gt;&lt;image x=&quot;0.5cm&quot; y=&quot;1.5cm&quot; width=&quot;2cm&quot; file=&quot;/var/bulmages/articles/[codigocompletoarticulo].jpg&quot;/&gt;&lt;!-- END EXISTS --&gt;[desclpresupuesto]&lt;/td&gt;
-&lt;td&gt;[cantlpresupuesto]&lt;/td&gt;
-&lt;td&gt;[pvplpresupuesto]&lt;/td&gt;
-&lt;td&gt;[descuentolpresupuesto]%&lt;/td&gt;
-&lt;td&gt;[totallpresupuesto]&lt;/td&gt;
-&lt;/tr&gt;
-&lt;!--END LINEAS DETALLE--&gt;
-&lt;/blockTable&gt;
-
-&lt;blockTable colWidths=&quot;1.75cm, 8.55cm, 1.2cm, 1.7cm, 1.8cm, 2.25cm&quot; repeatRows=&quot;1&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;[comentpresupuesto]&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/blockTable&gt;
 
+		&lt;!-- FRAME DE CONTENIDOS --&gt;
+		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;8cm&quot; width=&quot;19cm&quot; height=&quot;14.6cm&quot; /&gt;
+
+		
+	&lt;/pageTemplate&gt;
 
+&lt;/template&gt;
 
+&lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
+
+&lt;story&gt;	
+	&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;3.00cm, 8.5cm, 1.8cm, 2cm, 2.9cm&quot; splitByRow=&quot;2&quot; rowheights=&quot;2&quot; repeatRows=&quot;1&quot;&gt;
+		&lt;tr&gt;
+			&lt;td&gt;Codigo&lt;/td&gt;
+			&lt;td&gt;Concepto&lt;/td&gt;
+			&lt;td&gt;Unid:&lt;/td&gt;
+			&lt;td&gt;Precio/u:&lt;/td&gt;
+			&lt;td&gt;Subtotal s/iva:&lt;/td&gt;
+		&lt;/tr&gt;
+		[story codigocompletoarticulo, descpresupuesto, cantpresupuesto, pvppresupuesto, subtotalpresupuesto]
+	
 &lt;!--IF DESCUENTOS--&gt;
-&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
-	&lt;place x=&quot;4cm&quot; y=&quot;3.5cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;blockTable style=&quot;tabladescuento&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt; Descuento&lt;/td&gt;
-&lt;td&gt; Porcentaje&lt;/td&gt;
-&lt;td&gt; Total &lt;/td&gt;
-&lt;/tr&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Descuento/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;% Dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;Total dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
 &lt;!--LINEAS DESCUENTO--&gt;
-&lt;tr&gt;
-	&lt;td&gt;[conceptdpresupuesto]&lt;/td&gt;
-	&lt;td&gt;[proporciondpresupuesto]%&lt;/td&gt;
-	&lt;td&gt;[totaldescdpresupuesto]&lt;/td&gt;
-&lt;/tr&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[conceptdpresupuesto]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;[proporciondpresupuesto]%&lt;/td&gt;
+			&lt;td&gt;[totaldescdpresupuesto]&lt;/td&gt;
+		&lt;/tr&gt;
 &lt;!--END LINEAS DESCUENTO--&gt;
-&lt;/blockTable&gt;
-&lt;/place&gt;
-&lt;/storyPlace&gt;
 &lt;!--END IF DESCUENTOS--&gt;
 
-&lt;storyPlace x=&quot;2cm&quot; y=&quot;0cm&quot; width=&quot;19cm&quot; height=&quot;2cm&quot;&gt;
-&lt;place x=&quot;2cm&quot; y=&quot;0.5cm&quot; width=&quot;19cm&quot; height=&quot;4.5cm&quot;&gt;
-&lt;blockTable colWidths=&quot;7cm, 7cm&quot;&gt;
-&lt;!--TOTALES--&gt;
-&lt;tr&gt;
-&lt;td&gt;&lt;para&gt;Base Imponible [tbimp]%: &lt;font color=&quot;blue&quot;&gt;[bimp]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;I.V.A. [tbimp]%:  &lt;font color=&quot;blue&quot;&gt;[iva]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;!--END TOTALES--&gt;
-
-&lt;!--TOTREQ--&gt;
-&lt;tr&gt;
-&lt;td colspan=&quot;2&quot;&gt;&lt;para&gt;R.Eq. [tre]%: &lt;font color=&quot;blue&quot;&gt;[re]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;!--END TOTREQ--&gt;
-&lt;/blockTable&gt;
-
-
-&lt;blockTable&gt;
-&lt;tr&gt;
-&lt;!-- td&gt;&lt;para&gt;Total Descuentos &lt;font color=&quot;blue&quot;&gt;[totaldesc]&lt;/font&gt;&lt;/para&gt;&lt;/td--&gt;
-&lt;td&gt;&lt;para&gt;Total Base Imponible &lt;font color=&quot;blue&quot;&gt;[totalbimp]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;Total I.V.A &lt;font color=&quot;blue&quot;&gt;[totaliva]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;Total R.Eq &lt;font color=&quot;blue&quot;&gt;[totalre]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;&lt;font size=&quot;15&quot;&gt;&lt;b&gt; Total &lt;/b&gt;&lt;/font&gt;&lt;font color=&quot;blue&quot; size=&quot;15&quot;&gt;&lt;b&gt;[total]&lt;/b&gt;&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/blockTable&gt;
+
+&lt;!--IF QUERY=&quot;SELECT comentpresupuesto FROM presupuesto WHERE length(comentpresupuesto) &gt; 0 AND idpresupuesto = [idpresupuesto]&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT comentpresupuesto FROM presupuesto WHERE length(comentpresupuesto) &gt; 0 AND idpresupuesto = [idpresupuesto]&quot;--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Comentario/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[comentpresupuesto]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;Este presupuesto es válido hasta: [vencpresupuesto]&lt;/b&gt;&lt;br/&gt;&lt;br/&gt;
+			NOTA: Es imprescindible la presentación de este presupuesto para mantener los precios y condiciones.
+			&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+	&lt;/blockTable&gt;
+
+	
+	&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;20cm&quot; height=&quot;1cm&quot;&gt;
+		&lt;place x=&quot;1cm&quot; y=&quot;4cm&quot; width=&quot;19cm&quot; height=&quot;4cm&quot;&gt;
+			&lt;blockTable style=&quot;total&quot; colWidths=&quot;16.3cm,2.7cm&quot; &gt;
+				&lt;tr&gt;
+					&lt;td colspan=&quot;2&quot;&gt;
+						&lt;blockTable style=&quot;titulo&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm, 2.7cm&quot;&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Base Imponible:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;I.V.A.%:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Tot I.V.A.:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Total:&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;contenido&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm&quot; &gt;
+						&lt;!--TOTALES--&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[bimp]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[tbimp]%&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[iva]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;!--END TOTALES--&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;preciofinal&quot; colWidths=&quot;2.7cm&quot; &gt;
+							&lt;tr&gt;
+								&lt;td&gt;[total] &#8364;&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;/blockTable&gt;
+		&lt;/place&gt;
+	&lt;/storyPlace&gt;
+
+&lt;storyPlace x=&quot;16cm&quot; y=&quot;1cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
+&lt;place x=&quot;16cm&quot; y=&quot;1cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
+&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;PRE [idpresupuesto] [numpresupuesto] [refpresupuesto]&lt;/barCode&gt;
 &lt;/place&gt;
 &lt;/storyPlace&gt;
 
 
-&lt;!-- storyPlace x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
-&lt;place x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;FACT [idpresupuesto] [numpresupuesto] [refpresupuesto]&lt;/barCode&gt;
-&lt;/place&gt;
-&lt;/storyPlace --&gt;
 &lt;/story&gt;
 &lt;/document&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/en/impers_presupuesto_fproforma.rml b/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/en/impers_presupuesto_fproforma.rml
index 9eba3e6..b67c07d 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/en/impers_presupuesto_fproforma.rml
+++ b/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/en/impers_presupuesto_fproforma.rml
@@ -1,142 +1,216 @@
-&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot; ?&gt;
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot; ?&gt;
 &lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
 &lt;document&gt;
-&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Factura Proforma&quot; author=&quot;Tomeu Borras&quot; allowSplitting=&quot;20&quot;&gt;
+&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Fractura Proforma&quot; author=&quot;&quot;&gt;
 	&lt;pageTemplate id=&quot;main&quot;&gt;
 		&lt;pageGraphics&gt;
 		&lt;include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/&gt;
 
 		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
 		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;22&quot;/&gt;
-		&lt;drawString x=&quot;1.5cm&quot; y=&quot;24.5cm&quot;&gt;FRA. PROFORMA&lt;/drawString&gt;
+		
+&lt;!--IF QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
 
-&lt;!--IF QUERY=&quot;SELECT * FROM CLIENTE WHERE idcliente = [idcliente]&quot;--&gt;
-&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente=[idcliente]&quot;--&gt;
-		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;24cm&quot;&gt;[nomcliente] -- [telcliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23.5cm&quot;&gt;[dircliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;11&quot;/&gt;
+		&lt;fill color=&quot;(1,1,1)&quot;/&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.53cm&quot;&gt;Datos del cliente:&lt;/drawString&gt;
 
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
+		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;26.05cm&quot;&gt;[idcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.6cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.15cm&quot;&gt;[cifcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.7cm&quot;&gt;[dircliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.25cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.8cm&quot;&gt;[telcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.35cm&quot;&gt;[mailcliente]&lt;/drawString&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
 		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
-		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;drawCentredString x=&quot;5.5cm&quot; y=&quot;21.2cm&quot;&gt;NIF&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;8.5cm&quot; y=&quot;21.2cm&quot;&gt;Cliente&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;11.5cm&quot; y=&quot;21.2cm&quot;&gt;Fecha&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;14.5cm&quot; y=&quot;21.2cm&quot;&gt;N. Presup:&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;17.5cm&quot; y=&quot;21.2cm&quot;&gt;Ref&lt;/drawCentredString&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawCentredString x=&quot;5.5cm&quot; y=&quot;20.4cm&quot;&gt;[cifcliente]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;8.5cm&quot; y=&quot;20.4cm&quot;&gt;[idcliente]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;11.5cm&quot; y=&quot;20.4cm&quot;&gt;[fpresupuesto]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;14.5cm&quot; y=&quot;20.4cm&quot;&gt;[numpresupuesto]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;17.5cm&quot; y=&quot;20.4cm&quot;&gt;[refpresupuesto]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;5cm&quot; y=&quot;2.5cm&quot;&gt;Presupuesto valido hasta [vencpresupuesto]&lt;/drawCentredString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.05cm&quot;&gt;Nº Cliente:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.6cm&quot;&gt;Nombre/Empresa:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.15cm&quot;&gt;NIF/CIF:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.7cm&quot;&gt;Dirección:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.25cm&quot;&gt;Población:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.8cm&quot;&gt;Teléfono:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.35cm&quot;&gt;Dirección Email:&lt;/drawString&gt;
+
+		&lt;!--Fecha presupuesto--&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
+
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.95cm&quot;&gt;Fecha fra:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.5cm&quot;&gt;Nº fra:&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.95cm&quot;&gt;Referencia:&lt;/drawString&gt;
+
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.95cm&quot;&gt;[fpresupuesto]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.5cm&quot;&gt;[numpresupuesto]&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.5cm&quot;&gt;[refpresupuesto]&lt;/drawString&gt;
+
+		&lt;!-- INCLUDE FILE=&quot;[CONF_DIR_OPENREPORTS]plantilla_empresa.rml&quot; --&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;26.3cm&quot;&gt;- F. PROFORMA -&lt;/drawCentredString&gt;
+
 &lt;!--END QUERY--&gt;
 &lt;!--END IF QUERY--&gt;
-		&lt;/pageGraphics&gt;
-		&lt;!-- FRAME DE CONTENIDOS --&gt;
-		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;5cm&quot; width=&quot;19cm&quot; height=&quot;15cm&quot;/&gt;
-	&lt;/pageTemplate&gt;
 
-&lt;/template&gt;
 
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;7&quot;/&gt;
+		&lt;drawString x=&quot;15cm&quot; y=&quot;22.7cm&quot;&gt;Los importes están expresados en euros.&lt;/drawString&gt;
 
-&lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;25.85cm&quot;&gt;Forma de pago: &lt;!--QUERY=&quot;SELECT descforma_pago FROM forma_pago WHERE idforma_pago = [idforma_pago] LIMIT 1&quot;--&gt;[descforma_pago]&lt;!--END QUERY--&gt;&lt;/drawCentredString&gt;
+
+	&lt;/pageGraphics&gt;
 
-&lt;story&gt;
-&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;1.75cm, 8.55cm, 1.2cm, 1.7cm, 1.8cm, 2.25cm&quot; repeatRows=&quot;1&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;Codigo&lt;/td&gt;
-&lt;td&gt;Concepto&lt;/td&gt;
-&lt;td&gt;Und&lt;/td&gt;
-&lt;td&gt;Precio&lt;/td&gt;
-&lt;td&gt;Dto&lt;/td&gt;
-&lt;td&gt;Total&lt;/td&gt;
-&lt;/tr&gt;
-&lt;!--LINEAS DETALLE--&gt;
-&lt;tr&gt;
-&lt;td&gt;[codigocompletoarticulo]&lt;/td&gt;
-&lt;td&gt;&lt;!-- EXISTS FILE=&quot;/var/bulmages/articles/[codigocompletoarticulo].jpg&quot; --&gt;&lt;image x=&quot;0.5cm&quot; y=&quot;1.5cm&quot; width=&quot;2cm&quot; file=&quot;/var/bulmages/articles/[codigocompletoarticulo].jpg&quot;/&gt;&lt;!-- END EXISTS --&gt;[desclpresupuesto]&lt;/td&gt;
-&lt;td&gt;[cantlpresupuesto]&lt;/td&gt;
-&lt;td&gt;[pvplpresupuesto]&lt;/td&gt;
-&lt;td&gt;[descuentolpresupuesto]%&lt;/td&gt;
-&lt;td&gt;[totallpresupuesto]&lt;/td&gt;
-&lt;/tr&gt;
-&lt;!--END LINEAS DETALLE--&gt;
-&lt;/blockTable&gt;
-
-&lt;blockTable colWidths=&quot;1.75cm, 8.55cm, 1.2cm, 1.7cm, 1.8cm, 2.25cm&quot; repeatRows=&quot;1&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;[comentpresupuesto]&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/blockTable&gt;
 
+		&lt;!-- FRAME DE CONTENIDOS --&gt;
+		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;8cm&quot; width=&quot;19cm&quot; height=&quot;14.6cm&quot; /&gt;
+
+		
+	&lt;/pageTemplate&gt;
 
+&lt;/template&gt;
 
+&lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
+
+&lt;story&gt;	
+	&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;3.00cm, 8.5cm, 1.8cm, 2cm, 2.9cm&quot; splitByRow=&quot;2&quot; rowheights=&quot;2&quot; repeatRows=&quot;1&quot;&gt;
+		&lt;tr&gt;
+			&lt;td&gt;Codigo&lt;/td&gt;
+			&lt;td&gt;Concepto&lt;/td&gt;
+			&lt;td&gt;Unid:&lt;/td&gt;
+			&lt;td&gt;Precio/u:&lt;/td&gt;
+			&lt;td&gt;Subtotal s/iva:&lt;/td&gt;
+		&lt;/tr&gt;
+		[story codigocompletoarticulo, descpresupuesto, cantpresupuesto, pvppresupuesto, subtotalpresupuesto]
+	
 &lt;!--IF DESCUENTOS--&gt;
-&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
-	&lt;place x=&quot;4cm&quot; y=&quot;3.5cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;blockTable style=&quot;tabladescuento&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt; Descuento&lt;/td&gt;
-&lt;td&gt; Porcentaje&lt;/td&gt;
-&lt;td&gt; Total &lt;/td&gt;
-&lt;/tr&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Descuento/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;% Dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;Total dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
 &lt;!--LINEAS DESCUENTO--&gt;
-&lt;tr&gt;
-	&lt;td&gt;[conceptdpresupuesto]&lt;/td&gt;
-	&lt;td&gt;[proporciondpresupuesto]%&lt;/td&gt;
-	&lt;td&gt;[totaldescdpresupuesto]&lt;/td&gt;
-&lt;/tr&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[conceptdpresupuesto]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;[proporciondpresupuesto]%&lt;/td&gt;
+			&lt;td&gt;[totaldescdpresupuesto]&lt;/td&gt;
+		&lt;/tr&gt;
 &lt;!--END LINEAS DESCUENTO--&gt;
-&lt;/blockTable&gt;
-&lt;/place&gt;
-&lt;/storyPlace&gt;
 &lt;!--END IF DESCUENTOS--&gt;
 
-&lt;storyPlace x=&quot;2cm&quot; y=&quot;0cm&quot; width=&quot;19cm&quot; height=&quot;2cm&quot;&gt;
-&lt;place x=&quot;2cm&quot; y=&quot;0.5cm&quot; width=&quot;19cm&quot; height=&quot;4.5cm&quot;&gt;
-&lt;blockTable colWidths=&quot;7cm, 7cm&quot;&gt;
-&lt;!--TOTALES--&gt;
-&lt;tr&gt;
-&lt;td&gt;&lt;para&gt;Base Imponible [tbimp]%: &lt;font color=&quot;blue&quot;&gt;[bimp]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;I.V.A. [tbimp]%:  &lt;font color=&quot;blue&quot;&gt;[iva]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;!--END TOTALES--&gt;
-
-&lt;!--TOTREQ--&gt;
-&lt;tr&gt;
-&lt;td colspan=&quot;2&quot;&gt;&lt;para&gt;R.Eq. [tre]%: &lt;font color=&quot;blue&quot;&gt;[re]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;!--END TOTREQ--&gt;
-&lt;/blockTable&gt;
-
-
-&lt;blockTable&gt;
-&lt;tr&gt;
-&lt;!-- td&gt;&lt;para&gt;Total Descuentos &lt;font color=&quot;blue&quot;&gt;[totaldesc]&lt;/font&gt;&lt;/para&gt;&lt;/td--&gt;
-&lt;td&gt;&lt;para&gt;Total Base Imponible &lt;font color=&quot;blue&quot;&gt;[totalbimp]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;Total I.V.A &lt;font color=&quot;blue&quot;&gt;[totaliva]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;Total R.Eq &lt;font color=&quot;blue&quot;&gt;[totalre]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;&lt;font size=&quot;15&quot;&gt;&lt;b&gt; Total &lt;/b&gt;&lt;/font&gt;&lt;font color=&quot;blue&quot; size=&quot;15&quot;&gt;&lt;b&gt;[total]&lt;/b&gt;&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/blockTable&gt;
-&lt;/place&gt;
-&lt;/storyPlace&gt;
 
+&lt;!--IF QUERY=&quot;SELECT comentpresupuesto FROM presupuesto WHERE length(comentpresupuesto) &gt; 0 AND idpresupuesto = [idpresupuesto]&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT comentpresupuesto FROM presupuesto WHERE length(comentpresupuesto) &gt; 0 AND idpresupuesto = [idpresupuesto]&quot;--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Comentario/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[comentpresupuesto]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;Este presupuesto es válido hasta: [vencpresupuesto]&lt;/b&gt;&lt;br/&gt;&lt;br/&gt;
+			NOTA: Es imprescindible la presentación de este presupuesto para mantener los precios y condiciones.
+			&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+	&lt;/blockTable&gt;
+
+	
+	&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;20cm&quot; height=&quot;1cm&quot;&gt;
+		&lt;place x=&quot;1cm&quot; y=&quot;4cm&quot; width=&quot;19cm&quot; height=&quot;4cm&quot;&gt;
+			&lt;blockTable style=&quot;total&quot; colWidths=&quot;16.3cm,2.7cm&quot; &gt;
+				&lt;tr&gt;
+					&lt;td colspan=&quot;2&quot;&gt;
+						&lt;blockTable style=&quot;titulo&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm, 2.7cm&quot;&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Base Imponible:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;I.V.A.%:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Tot I.V.A.:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Total:&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;contenido&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm&quot; &gt;
+						&lt;!--TOTALES--&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[bimp]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[tbimp]%&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[iva]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;!--END TOTALES--&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;preciofinal&quot; colWidths=&quot;2.7cm&quot; &gt;
+							&lt;tr&gt;
+								&lt;td&gt;[total] &#8364;&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;/blockTable&gt;
+		&lt;/place&gt;
+	&lt;/storyPlace&gt;
 
 &lt;!-- storyPlace x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
 &lt;place x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;FACT [idpresupuesto] [numpresupuesto] [refpresupuesto]&lt;/barCode&gt;
+&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;ALB [idpresupuesto] [numpresupuesto] [refpresupuesto]&lt;/barCode&gt;
 &lt;/place&gt;
 &lt;/storyPlace --&gt;
+
+
 &lt;/story&gt;
 &lt;/document&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/en/presupuesto.rml b/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/en/presupuesto.rml
index 49984cd..fb4acd8 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/en/presupuesto.rml
+++ b/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/en/presupuesto.rml
@@ -1,142 +1,216 @@
-&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot; ?&gt;
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot; ?&gt;
 &lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
 &lt;document&gt;
-&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Presupuesto&quot; author=&quot;Tomeu Borras&quot; allowSplitting=&quot;20&quot;&gt;
+&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Presupuesto&quot; author=&quot;&quot;&gt;
 	&lt;pageTemplate id=&quot;main&quot;&gt;
 		&lt;pageGraphics&gt;
 		&lt;include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/&gt;
 
 		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
 		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;22&quot;/&gt;
-		&lt;drawString x=&quot;1.5cm&quot; y=&quot;24.5cm&quot;&gt;PRESUPUESTO&lt;/drawString&gt;
+		
+&lt;!--IF QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
 
-&lt;!--IF QUERY=&quot;SELECT * FROM CLIENTE WHERE idcliente = [idcliente]&quot;--&gt;
-&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente=[idcliente]&quot;--&gt;
-		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;24cm&quot;&gt;[nomcliente] -- [telcliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23.5cm&quot;&gt;[dircliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;11&quot;/&gt;
+		&lt;fill color=&quot;(1,1,1)&quot;/&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.53cm&quot;&gt;Datos del cliente:&lt;/drawString&gt;
 
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
+		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;26.05cm&quot;&gt;[idcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.6cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.15cm&quot;&gt;[cifcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.7cm&quot;&gt;[dircliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.25cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.8cm&quot;&gt;[telcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.35cm&quot;&gt;[mailcliente]&lt;/drawString&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
 		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
-		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;drawCentredString x=&quot;5.5cm&quot; y=&quot;21.2cm&quot;&gt;NIF&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;8.5cm&quot; y=&quot;21.2cm&quot;&gt;Cliente&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;11.5cm&quot; y=&quot;21.2cm&quot;&gt;Fecha&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;14.5cm&quot; y=&quot;21.2cm&quot;&gt;N. Presup:&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;17.5cm&quot; y=&quot;21.2cm&quot;&gt;Ref&lt;/drawCentredString&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawCentredString x=&quot;5.5cm&quot; y=&quot;20.4cm&quot;&gt;[cifcliente]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;8.5cm&quot; y=&quot;20.4cm&quot;&gt;[idcliente]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;11.5cm&quot; y=&quot;20.4cm&quot;&gt;[fpresupuesto]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;14.5cm&quot; y=&quot;20.4cm&quot;&gt;[numpresupuesto]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;17.5cm&quot; y=&quot;20.4cm&quot;&gt;[refpresupuesto]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;5cm&quot; y=&quot;2.5cm&quot;&gt;Presupuesto valido hasta [vencpresupuesto]&lt;/drawCentredString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.05cm&quot;&gt;Nº Cliente:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.6cm&quot;&gt;Nombre/Empresa:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.15cm&quot;&gt;NIF/CIF:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.7cm&quot;&gt;Dirección:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.25cm&quot;&gt;Población:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.8cm&quot;&gt;Teléfono:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.35cm&quot;&gt;Dirección Email:&lt;/drawString&gt;
+
+		&lt;!--Fecha presupuesto--&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
+
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.95cm&quot;&gt;Fecha presupuesto:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.5cm&quot;&gt;Nº presupuesto:&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.95cm&quot;&gt;Referencia:&lt;/drawString&gt;
+
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.95cm&quot;&gt;[fpresupuesto]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.5cm&quot;&gt;[numpresupuesto]&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.5cm&quot;&gt;[refpresupuesto]&lt;/drawString&gt;
+
+		&lt;!-- INCLUDE FILE=&quot;[CONF_DIR_OPENREPORTS]plantilla_empresa.rml&quot; --&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;26.3cm&quot;&gt;- PRESUPUESTO -&lt;/drawCentredString&gt;
+
 &lt;!--END QUERY--&gt;
 &lt;!--END IF QUERY--&gt;
-		&lt;/pageGraphics&gt;
-		&lt;!-- FRAME DE CONTENIDOS --&gt;
-		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;5cm&quot; width=&quot;19cm&quot; height=&quot;15cm&quot;/&gt;
-	&lt;/pageTemplate&gt;
 
-&lt;/template&gt;
 
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;7&quot;/&gt;
+		&lt;drawString x=&quot;15cm&quot; y=&quot;22.7cm&quot;&gt;Los importes están expresados en euros.&lt;/drawString&gt;
 
-&lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;25.85cm&quot;&gt;Forma de pago: &lt;!--QUERY=&quot;SELECT descforma_pago FROM forma_pago WHERE idforma_pago = [idforma_pago] LIMIT 1&quot;--&gt;[descforma_pago]&lt;!--END QUERY--&gt;&lt;/drawCentredString&gt;
+
+	&lt;/pageGraphics&gt;
 
-&lt;story&gt;
-&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;1.75cm, 8.55cm, 1.2cm, 1.7cm, 1.8cm, 2.25cm&quot; repeatRows=&quot;1&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;Codigo&lt;/td&gt;
-&lt;td&gt;Concepto&lt;/td&gt;
-&lt;td&gt;Und&lt;/td&gt;
-&lt;td&gt;Precio&lt;/td&gt;
-&lt;td&gt;Dto&lt;/td&gt;
-&lt;td&gt;Total&lt;/td&gt;
-&lt;/tr&gt;
-&lt;!--LINEAS DETALLE--&gt;
-&lt;tr&gt;
-&lt;td&gt;[codigocompletoarticulo]&lt;/td&gt;
-&lt;td&gt;&lt;!-- EXISTS FILE=&quot;/var/bulmages/articles/[codigocompletoarticulo].jpg&quot; --&gt;&lt;image x=&quot;0.5cm&quot; y=&quot;1.5cm&quot; width=&quot;2cm&quot; file=&quot;/var/bulmages/articles/[codigocompletoarticulo].jpg&quot;/&gt;&lt;!-- END EXISTS --&gt;[desclpresupuesto]&lt;/td&gt;
-&lt;td&gt;[cantlpresupuesto]&lt;/td&gt;
-&lt;td&gt;[pvplpresupuesto]&lt;/td&gt;
-&lt;td&gt;[descuentolpresupuesto]%&lt;/td&gt;
-&lt;td&gt;[totallpresupuesto]&lt;/td&gt;
-&lt;/tr&gt;
-&lt;!--END LINEAS DETALLE--&gt;
-&lt;/blockTable&gt;
-
-&lt;blockTable colWidths=&quot;1.75cm, 8.55cm, 1.2cm, 1.7cm, 1.8cm, 2.25cm&quot; repeatRows=&quot;1&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;[comentpresupuesto]&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/blockTable&gt;
 
+		&lt;!-- FRAME DE CONTENIDOS --&gt;
+		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;8cm&quot; width=&quot;19cm&quot; height=&quot;14.6cm&quot; /&gt;
+
+		
+	&lt;/pageTemplate&gt;
 
+&lt;/template&gt;
 
+&lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
+
+&lt;story&gt;	
+	&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;3.00cm, 8.5cm, 1.8cm, 2cm, 2.9cm&quot; splitByRow=&quot;2&quot; rowheights=&quot;2&quot; repeatRows=&quot;1&quot;&gt;
+		&lt;tr&gt;
+			&lt;td&gt;Codigo&lt;/td&gt;
+			&lt;td&gt;Concepto&lt;/td&gt;
+			&lt;td&gt;Unid:&lt;/td&gt;
+			&lt;td&gt;Precio/u:&lt;/td&gt;
+			&lt;td&gt;Subtotal s/iva:&lt;/td&gt;
+		&lt;/tr&gt;
+		[story codigocompletoarticulo, descpresupuesto, cantpresupuesto, pvppresupuesto, subtotalpresupuesto]
+	
 &lt;!--IF DESCUENTOS--&gt;
-&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
-	&lt;place x=&quot;4cm&quot; y=&quot;3.5cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;blockTable style=&quot;tabladescuento&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt; Descuento&lt;/td&gt;
-&lt;td&gt; Porcentaje&lt;/td&gt;
-&lt;td&gt; Total &lt;/td&gt;
-&lt;/tr&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Descuento/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;% Dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;Total dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
 &lt;!--LINEAS DESCUENTO--&gt;
-&lt;tr&gt;
-	&lt;td&gt;[conceptdpresupuesto]&lt;/td&gt;
-	&lt;td&gt;[proporciondpresupuesto]%&lt;/td&gt;
-	&lt;td&gt;[totaldescdpresupuesto]&lt;/td&gt;
-&lt;/tr&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[conceptdpresupuesto]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;[proporciondpresupuesto]%&lt;/td&gt;
+			&lt;td&gt;[totaldescdpresupuesto]&lt;/td&gt;
+		&lt;/tr&gt;
 &lt;!--END LINEAS DESCUENTO--&gt;
-&lt;/blockTable&gt;
-&lt;/place&gt;
-&lt;/storyPlace&gt;
 &lt;!--END IF DESCUENTOS--&gt;
 
-&lt;storyPlace x=&quot;2cm&quot; y=&quot;0cm&quot; width=&quot;19cm&quot; height=&quot;2cm&quot;&gt;
-&lt;place x=&quot;2cm&quot; y=&quot;0.5cm&quot; width=&quot;19cm&quot; height=&quot;4.5cm&quot;&gt;
-&lt;blockTable colWidths=&quot;7cm, 7cm&quot;&gt;
-&lt;!--TOTALES--&gt;
-&lt;tr&gt;
-&lt;td&gt;&lt;para&gt;Base Imponible [tbimp]%: &lt;font color=&quot;blue&quot;&gt;[bimp]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;I.V.A. [tbimp]%:  &lt;font color=&quot;blue&quot;&gt;[iva]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;!--END TOTALES--&gt;
-
-&lt;!--TOTREQ--&gt;
-&lt;tr&gt;
-&lt;td colspan=&quot;2&quot;&gt;&lt;para&gt;R.Eq. [tre]%: &lt;font color=&quot;blue&quot;&gt;[re]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;!--END TOTREQ--&gt;
-&lt;/blockTable&gt;
-
-
-&lt;blockTable&gt;
-&lt;tr&gt;
-&lt;!-- td&gt;&lt;para&gt;Total Descuentos &lt;font color=&quot;blue&quot;&gt;[totaldesc]&lt;/font&gt;&lt;/para&gt;&lt;/td--&gt;
-&lt;td&gt;&lt;para&gt;Total Base Imponible &lt;font color=&quot;blue&quot;&gt;[totalbimp]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;Total I.V.A &lt;font color=&quot;blue&quot;&gt;[totaliva]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;Total R.Eq &lt;font color=&quot;blue&quot;&gt;[totalre]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;&lt;font size=&quot;15&quot;&gt;&lt;b&gt; Total &lt;/b&gt;&lt;/font&gt;&lt;font color=&quot;blue&quot; size=&quot;15&quot;&gt;&lt;b&gt;[total]&lt;/b&gt;&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/blockTable&gt;
+
+&lt;!--IF QUERY=&quot;SELECT comentpresupuesto FROM presupuesto WHERE length(comentpresupuesto) &gt; 0 AND idpresupuesto = [idpresupuesto]&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT comentpresupuesto FROM presupuesto WHERE length(comentpresupuesto) &gt; 0 AND idpresupuesto = [idpresupuesto]&quot;--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Comentario/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[comentpresupuesto]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;Este presupuesto es válido hasta: [vencpresupuesto]&lt;/b&gt;&lt;br/&gt;&lt;br/&gt;
+			NOTA: Es imprescindible la presentación de este presupuesto para mantener los precios y condiciones.
+			&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+	&lt;/blockTable&gt;
+
+	
+	&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;20cm&quot; height=&quot;1cm&quot;&gt;
+		&lt;place x=&quot;1cm&quot; y=&quot;4cm&quot; width=&quot;19cm&quot; height=&quot;4cm&quot;&gt;
+			&lt;blockTable style=&quot;total&quot; colWidths=&quot;16.3cm,2.7cm&quot; &gt;
+				&lt;tr&gt;
+					&lt;td colspan=&quot;2&quot;&gt;
+						&lt;blockTable style=&quot;titulo&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm, 2.7cm&quot;&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Base Imponible:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;I.V.A.%:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Tot I.V.A.:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Total:&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;contenido&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm&quot; &gt;
+						&lt;!--TOTALES--&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[bimp]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[tbimp]%&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[iva]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;!--END TOTALES--&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;preciofinal&quot; colWidths=&quot;2.7cm&quot; &gt;
+							&lt;tr&gt;
+								&lt;td&gt;[total] &#8364;&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;/blockTable&gt;
+		&lt;/place&gt;
+	&lt;/storyPlace&gt;
+
+&lt;storyPlace x=&quot;16cm&quot; y=&quot;1cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
+&lt;place x=&quot;16cm&quot; y=&quot;1cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
+&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;PRE [idpresupuesto] [numpresupuesto] [refpresupuesto]&lt;/barCode&gt;
 &lt;/place&gt;
 &lt;/storyPlace&gt;
 
 
-&lt;!-- storyPlace x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
-&lt;place x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;FACT [idpresupuesto] [numpresupuesto] [refpresupuesto]&lt;/barCode&gt;
-&lt;/place&gt;
-&lt;/storyPlace --&gt;
 &lt;/story&gt;
 &lt;/document&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/es/impers_presupuesto_excel.pys b/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/es/impers_presupuesto_excel.pys
new file mode 100644
index 0000000..32e2e76
--- /dev/null
+++ b/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/es/impers_presupuesto_excel.pys
@@ -0,0 +1,41 @@
+#!/usr/bin/python
+# -*- coding: utf8 -*-
+
+# title=&quot;Presupuesto en hoja de calculo&quot;
+
+
+import ooolib
+
+# Crea el documento
+doc = ooolib.Calc(&quot;Presupuesto&quot;)
+
+doc.set_column_property(1, 'width', '0.5in')
+doc.set_column_property(2, 'width', '5in')
+doc.set_cell_property('bold', True)
+doc.set_cell_value(2, 2, 'string', 'PRESUPUESTO')
+doc.set_cell_value(3, 2, 'string', '[numpresupuesto]')
+doc.set_cell_value(4, 2, 'string', '[refpresupuesto]')
+
+i=4
+doc.set_cell_value(1,i,'string','CIF')
+doc.set_cell_value(2,i,'string','NOMBRE')
+doc.set_cell_value(3,i,'string','DIRECCION')
+doc.set_cell_value(4,i,'string','CP')
+doc.set_cell_value(5,i,'string','POBLACION')
+doc.set_cell_value(6,i,'string','BASE')
+doc.set_cell_value(7,i,'string','IMPUESTOS')
+doc.set_cell_value(8,i,'string','TOTAL')
+
+#i=7
+&lt;!-- QUERY=&quot;SELECT * FROM lpresupuesto where idpresupuesto=[idpresupuesto]&quot;--&gt;
+doc.set_cell_value(1,i,'string','[codigocompletoarticulo]')
+doc.set_cell_value(2,i,'string','[desclpresupuesto]')
+doc.set_cell_value(3,i,'string','[cantlpresupuesto]')
+doc.set_cell_value(4,i,'string','[pvplpresupuesto]')
+doc.set_cell_value(6,i,'string','[ivalpresupuesto]')
+i = i + 1
+&lt;!--END QUERY--&gt;
+
+
+# Guardamos el documento
+doc.save(&quot;impers_presupuesto_excel.ods&quot;)
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/es/impers_presupuesto_fproforma.rml b/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/es/impers_presupuesto_fproforma.rml
index 9eba3e6..b67c07d 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/es/impers_presupuesto_fproforma.rml
+++ b/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/es/impers_presupuesto_fproforma.rml
@@ -1,142 +1,216 @@
-&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot; ?&gt;
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot; ?&gt;
 &lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
 &lt;document&gt;
-&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Factura Proforma&quot; author=&quot;Tomeu Borras&quot; allowSplitting=&quot;20&quot;&gt;
+&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Fractura Proforma&quot; author=&quot;&quot;&gt;
 	&lt;pageTemplate id=&quot;main&quot;&gt;
 		&lt;pageGraphics&gt;
 		&lt;include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/&gt;
 
 		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
 		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;22&quot;/&gt;
-		&lt;drawString x=&quot;1.5cm&quot; y=&quot;24.5cm&quot;&gt;FRA. PROFORMA&lt;/drawString&gt;
+		
+&lt;!--IF QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
 
-&lt;!--IF QUERY=&quot;SELECT * FROM CLIENTE WHERE idcliente = [idcliente]&quot;--&gt;
-&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente=[idcliente]&quot;--&gt;
-		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;24cm&quot;&gt;[nomcliente] -- [telcliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23.5cm&quot;&gt;[dircliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;11&quot;/&gt;
+		&lt;fill color=&quot;(1,1,1)&quot;/&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.53cm&quot;&gt;Datos del cliente:&lt;/drawString&gt;
 
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
+		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;26.05cm&quot;&gt;[idcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.6cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.15cm&quot;&gt;[cifcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.7cm&quot;&gt;[dircliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.25cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.8cm&quot;&gt;[telcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.35cm&quot;&gt;[mailcliente]&lt;/drawString&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
 		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
-		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;drawCentredString x=&quot;5.5cm&quot; y=&quot;21.2cm&quot;&gt;NIF&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;8.5cm&quot; y=&quot;21.2cm&quot;&gt;Cliente&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;11.5cm&quot; y=&quot;21.2cm&quot;&gt;Fecha&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;14.5cm&quot; y=&quot;21.2cm&quot;&gt;N. Presup:&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;17.5cm&quot; y=&quot;21.2cm&quot;&gt;Ref&lt;/drawCentredString&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawCentredString x=&quot;5.5cm&quot; y=&quot;20.4cm&quot;&gt;[cifcliente]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;8.5cm&quot; y=&quot;20.4cm&quot;&gt;[idcliente]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;11.5cm&quot; y=&quot;20.4cm&quot;&gt;[fpresupuesto]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;14.5cm&quot; y=&quot;20.4cm&quot;&gt;[numpresupuesto]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;17.5cm&quot; y=&quot;20.4cm&quot;&gt;[refpresupuesto]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;5cm&quot; y=&quot;2.5cm&quot;&gt;Presupuesto valido hasta [vencpresupuesto]&lt;/drawCentredString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.05cm&quot;&gt;Nº Cliente:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.6cm&quot;&gt;Nombre/Empresa:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.15cm&quot;&gt;NIF/CIF:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.7cm&quot;&gt;Dirección:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.25cm&quot;&gt;Población:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.8cm&quot;&gt;Teléfono:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.35cm&quot;&gt;Dirección Email:&lt;/drawString&gt;
+
+		&lt;!--Fecha presupuesto--&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
+
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.95cm&quot;&gt;Fecha fra:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.5cm&quot;&gt;Nº fra:&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.95cm&quot;&gt;Referencia:&lt;/drawString&gt;
+
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.95cm&quot;&gt;[fpresupuesto]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.5cm&quot;&gt;[numpresupuesto]&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.5cm&quot;&gt;[refpresupuesto]&lt;/drawString&gt;
+
+		&lt;!-- INCLUDE FILE=&quot;[CONF_DIR_OPENREPORTS]plantilla_empresa.rml&quot; --&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;26.3cm&quot;&gt;- F. PROFORMA -&lt;/drawCentredString&gt;
+
 &lt;!--END QUERY--&gt;
 &lt;!--END IF QUERY--&gt;
-		&lt;/pageGraphics&gt;
-		&lt;!-- FRAME DE CONTENIDOS --&gt;
-		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;5cm&quot; width=&quot;19cm&quot; height=&quot;15cm&quot;/&gt;
-	&lt;/pageTemplate&gt;
 
-&lt;/template&gt;
 
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;7&quot;/&gt;
+		&lt;drawString x=&quot;15cm&quot; y=&quot;22.7cm&quot;&gt;Los importes están expresados en euros.&lt;/drawString&gt;
 
-&lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;25.85cm&quot;&gt;Forma de pago: &lt;!--QUERY=&quot;SELECT descforma_pago FROM forma_pago WHERE idforma_pago = [idforma_pago] LIMIT 1&quot;--&gt;[descforma_pago]&lt;!--END QUERY--&gt;&lt;/drawCentredString&gt;
+
+	&lt;/pageGraphics&gt;
 
-&lt;story&gt;
-&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;1.75cm, 8.55cm, 1.2cm, 1.7cm, 1.8cm, 2.25cm&quot; repeatRows=&quot;1&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;Codigo&lt;/td&gt;
-&lt;td&gt;Concepto&lt;/td&gt;
-&lt;td&gt;Und&lt;/td&gt;
-&lt;td&gt;Precio&lt;/td&gt;
-&lt;td&gt;Dto&lt;/td&gt;
-&lt;td&gt;Total&lt;/td&gt;
-&lt;/tr&gt;
-&lt;!--LINEAS DETALLE--&gt;
-&lt;tr&gt;
-&lt;td&gt;[codigocompletoarticulo]&lt;/td&gt;
-&lt;td&gt;&lt;!-- EXISTS FILE=&quot;/var/bulmages/articles/[codigocompletoarticulo].jpg&quot; --&gt;&lt;image x=&quot;0.5cm&quot; y=&quot;1.5cm&quot; width=&quot;2cm&quot; file=&quot;/var/bulmages/articles/[codigocompletoarticulo].jpg&quot;/&gt;&lt;!-- END EXISTS --&gt;[desclpresupuesto]&lt;/td&gt;
-&lt;td&gt;[cantlpresupuesto]&lt;/td&gt;
-&lt;td&gt;[pvplpresupuesto]&lt;/td&gt;
-&lt;td&gt;[descuentolpresupuesto]%&lt;/td&gt;
-&lt;td&gt;[totallpresupuesto]&lt;/td&gt;
-&lt;/tr&gt;
-&lt;!--END LINEAS DETALLE--&gt;
-&lt;/blockTable&gt;
-
-&lt;blockTable colWidths=&quot;1.75cm, 8.55cm, 1.2cm, 1.7cm, 1.8cm, 2.25cm&quot; repeatRows=&quot;1&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;[comentpresupuesto]&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/blockTable&gt;
 
+		&lt;!-- FRAME DE CONTENIDOS --&gt;
+		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;8cm&quot; width=&quot;19cm&quot; height=&quot;14.6cm&quot; /&gt;
+
+		
+	&lt;/pageTemplate&gt;
 
+&lt;/template&gt;
 
+&lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
+
+&lt;story&gt;	
+	&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;3.00cm, 8.5cm, 1.8cm, 2cm, 2.9cm&quot; splitByRow=&quot;2&quot; rowheights=&quot;2&quot; repeatRows=&quot;1&quot;&gt;
+		&lt;tr&gt;
+			&lt;td&gt;Codigo&lt;/td&gt;
+			&lt;td&gt;Concepto&lt;/td&gt;
+			&lt;td&gt;Unid:&lt;/td&gt;
+			&lt;td&gt;Precio/u:&lt;/td&gt;
+			&lt;td&gt;Subtotal s/iva:&lt;/td&gt;
+		&lt;/tr&gt;
+		[story codigocompletoarticulo, descpresupuesto, cantpresupuesto, pvppresupuesto, subtotalpresupuesto]
+	
 &lt;!--IF DESCUENTOS--&gt;
-&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
-	&lt;place x=&quot;4cm&quot; y=&quot;3.5cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;blockTable style=&quot;tabladescuento&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt; Descuento&lt;/td&gt;
-&lt;td&gt; Porcentaje&lt;/td&gt;
-&lt;td&gt; Total &lt;/td&gt;
-&lt;/tr&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Descuento/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;% Dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;Total dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
 &lt;!--LINEAS DESCUENTO--&gt;
-&lt;tr&gt;
-	&lt;td&gt;[conceptdpresupuesto]&lt;/td&gt;
-	&lt;td&gt;[proporciondpresupuesto]%&lt;/td&gt;
-	&lt;td&gt;[totaldescdpresupuesto]&lt;/td&gt;
-&lt;/tr&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[conceptdpresupuesto]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;[proporciondpresupuesto]%&lt;/td&gt;
+			&lt;td&gt;[totaldescdpresupuesto]&lt;/td&gt;
+		&lt;/tr&gt;
 &lt;!--END LINEAS DESCUENTO--&gt;
-&lt;/blockTable&gt;
-&lt;/place&gt;
-&lt;/storyPlace&gt;
 &lt;!--END IF DESCUENTOS--&gt;
 
-&lt;storyPlace x=&quot;2cm&quot; y=&quot;0cm&quot; width=&quot;19cm&quot; height=&quot;2cm&quot;&gt;
-&lt;place x=&quot;2cm&quot; y=&quot;0.5cm&quot; width=&quot;19cm&quot; height=&quot;4.5cm&quot;&gt;
-&lt;blockTable colWidths=&quot;7cm, 7cm&quot;&gt;
-&lt;!--TOTALES--&gt;
-&lt;tr&gt;
-&lt;td&gt;&lt;para&gt;Base Imponible [tbimp]%: &lt;font color=&quot;blue&quot;&gt;[bimp]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;I.V.A. [tbimp]%:  &lt;font color=&quot;blue&quot;&gt;[iva]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;!--END TOTALES--&gt;
-
-&lt;!--TOTREQ--&gt;
-&lt;tr&gt;
-&lt;td colspan=&quot;2&quot;&gt;&lt;para&gt;R.Eq. [tre]%: &lt;font color=&quot;blue&quot;&gt;[re]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;!--END TOTREQ--&gt;
-&lt;/blockTable&gt;
-
-
-&lt;blockTable&gt;
-&lt;tr&gt;
-&lt;!-- td&gt;&lt;para&gt;Total Descuentos &lt;font color=&quot;blue&quot;&gt;[totaldesc]&lt;/font&gt;&lt;/para&gt;&lt;/td--&gt;
-&lt;td&gt;&lt;para&gt;Total Base Imponible &lt;font color=&quot;blue&quot;&gt;[totalbimp]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;Total I.V.A &lt;font color=&quot;blue&quot;&gt;[totaliva]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;Total R.Eq &lt;font color=&quot;blue&quot;&gt;[totalre]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;&lt;font size=&quot;15&quot;&gt;&lt;b&gt; Total &lt;/b&gt;&lt;/font&gt;&lt;font color=&quot;blue&quot; size=&quot;15&quot;&gt;&lt;b&gt;[total]&lt;/b&gt;&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/blockTable&gt;
-&lt;/place&gt;
-&lt;/storyPlace&gt;
 
+&lt;!--IF QUERY=&quot;SELECT comentpresupuesto FROM presupuesto WHERE length(comentpresupuesto) &gt; 0 AND idpresupuesto = [idpresupuesto]&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT comentpresupuesto FROM presupuesto WHERE length(comentpresupuesto) &gt; 0 AND idpresupuesto = [idpresupuesto]&quot;--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Comentario/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[comentpresupuesto]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;Este presupuesto es válido hasta: [vencpresupuesto]&lt;/b&gt;&lt;br/&gt;&lt;br/&gt;
+			NOTA: Es imprescindible la presentación de este presupuesto para mantener los precios y condiciones.
+			&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+	&lt;/blockTable&gt;
+
+	
+	&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;20cm&quot; height=&quot;1cm&quot;&gt;
+		&lt;place x=&quot;1cm&quot; y=&quot;4cm&quot; width=&quot;19cm&quot; height=&quot;4cm&quot;&gt;
+			&lt;blockTable style=&quot;total&quot; colWidths=&quot;16.3cm,2.7cm&quot; &gt;
+				&lt;tr&gt;
+					&lt;td colspan=&quot;2&quot;&gt;
+						&lt;blockTable style=&quot;titulo&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm, 2.7cm&quot;&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Base Imponible:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;I.V.A.%:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Tot I.V.A.:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Total:&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;contenido&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm&quot; &gt;
+						&lt;!--TOTALES--&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[bimp]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[tbimp]%&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[iva]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;!--END TOTALES--&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;preciofinal&quot; colWidths=&quot;2.7cm&quot; &gt;
+							&lt;tr&gt;
+								&lt;td&gt;[total] &#8364;&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;/blockTable&gt;
+		&lt;/place&gt;
+	&lt;/storyPlace&gt;
 
 &lt;!-- storyPlace x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
 &lt;place x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;FACT [idpresupuesto] [numpresupuesto] [refpresupuesto]&lt;/barCode&gt;
+&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;ALB [idpresupuesto] [numpresupuesto] [refpresupuesto]&lt;/barCode&gt;
 &lt;/place&gt;
 &lt;/storyPlace --&gt;
+
+
 &lt;/story&gt;
 &lt;/document&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/es/impers_presupuesto_sin_total.rml b/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/es/impers_presupuesto_sin_total.rml
new file mode 100644
index 0000000..2f4143b
--- /dev/null
+++ b/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/es/impers_presupuesto_sin_total.rml
@@ -0,0 +1,216 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot; ?&gt;
+&lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
+&lt;document&gt;
+&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Presupuesto sin totales&quot; author=&quot;&quot;&gt;
+	&lt;pageTemplate id=&quot;main&quot;&gt;
+		&lt;pageGraphics&gt;
+		&lt;include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/&gt;
+
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
+		
+&lt;!--IF QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;11&quot;/&gt;
+		&lt;fill color=&quot;(1,1,1)&quot;/&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.53cm&quot;&gt;Datos del cliente:&lt;/drawString&gt;
+
+		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;26.05cm&quot;&gt;[idcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.6cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.15cm&quot;&gt;[cifcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.7cm&quot;&gt;[dircliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.25cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.8cm&quot;&gt;[telcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.35cm&quot;&gt;[mailcliente]&lt;/drawString&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.05cm&quot;&gt;Nº Cliente:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.6cm&quot;&gt;Nombre/Empresa:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.15cm&quot;&gt;NIF/CIF:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.7cm&quot;&gt;Dirección:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.25cm&quot;&gt;Población:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.8cm&quot;&gt;Teléfono:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.35cm&quot;&gt;Dirección Email:&lt;/drawString&gt;
+
+		&lt;!--Fecha presupuesto--&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
+
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.95cm&quot;&gt;Fecha presupuesto:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.5cm&quot;&gt;Nº presupuesto:&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.95cm&quot;&gt;Referencia:&lt;/drawString&gt;
+
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.95cm&quot;&gt;[fpresupuesto]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.5cm&quot;&gt;[numpresupuesto]&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.5cm&quot;&gt;[refpresupuesto]&lt;/drawString&gt;
+
+		&lt;!-- INCLUDE FILE=&quot;[CONF_DIR_OPENREPORTS]plantilla_empresa.rml&quot; --&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;26.3cm&quot;&gt;- PRESUPUESTO -&lt;/drawCentredString&gt;
+
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;7&quot;/&gt;
+		&lt;drawString x=&quot;15cm&quot; y=&quot;22.7cm&quot;&gt;Los importes están expresados en euros.&lt;/drawString&gt;
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;25.85cm&quot;&gt;Forma de pago: &lt;!--QUERY=&quot;SELECT descforma_pago FROM forma_pago WHERE idforma_pago = [idforma_pago] LIMIT 1&quot;--&gt;[descforma_pago]&lt;!--END QUERY--&gt;&lt;/drawCentredString&gt;
+
+	&lt;/pageGraphics&gt;
+
+
+		&lt;!-- FRAME DE CONTENIDOS --&gt;
+		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;8cm&quot; width=&quot;19cm&quot; height=&quot;14.6cm&quot; /&gt;
+
+		
+	&lt;/pageTemplate&gt;
+
+&lt;/template&gt;
+
+&lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
+
+&lt;story&gt;	
+	&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;3.00cm, 8.5cm, 1.8cm, 2cm, 2.9cm&quot; splitByRow=&quot;2&quot; rowheights=&quot;2&quot; repeatRows=&quot;1&quot;&gt;
+		&lt;tr&gt;
+			&lt;td&gt;Codigo&lt;/td&gt;
+			&lt;td&gt;Concepto&lt;/td&gt;
+			&lt;td&gt;Unid:&lt;/td&gt;
+			&lt;td&gt;Precio/u:&lt;/td&gt;
+			&lt;td&gt;Subtotal s/iva:&lt;/td&gt;
+		&lt;/tr&gt;
+		[story codigocompletoarticulo, descpresupuesto, cantpresupuesto, pvppresupuesto, subtotalpresupuesto]
+	
+&lt;!--IF DESCUENTOS--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Descuento/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;% Dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;Total dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+&lt;!--LINEAS DESCUENTO--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[conceptdpresupuesto]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;[proporciondpresupuesto]%&lt;/td&gt;
+			&lt;td&gt;[totaldescdpresupuesto]&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END LINEAS DESCUENTO--&gt;
+&lt;!--END IF DESCUENTOS--&gt;
+
+
+&lt;!--IF QUERY=&quot;SELECT comentpresupuesto FROM presupuesto WHERE length(comentpresupuesto) &gt; 0 AND idpresupuesto = [idpresupuesto]&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT comentpresupuesto FROM presupuesto WHERE length(comentpresupuesto) &gt; 0 AND idpresupuesto = [idpresupuesto]&quot;--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Comentario/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[comentpresupuesto]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;Este presupuesto es válido hasta: [vencpresupuesto]&lt;/b&gt;&lt;br/&gt;&lt;br/&gt;
+			NOTA: Es imprescindible la presentación de este presupuesto para mantener los precios y condiciones.
+			&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+	&lt;/blockTable&gt;
+
+	
+	&lt;!-- storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;20cm&quot; height=&quot;1cm&quot;&gt;
+		&lt;place x=&quot;1cm&quot; y=&quot;4cm&quot; width=&quot;19cm&quot; height=&quot;4cm&quot;&gt;
+			&lt;blockTable style=&quot;total&quot; colWidths=&quot;16.3cm,2.7cm&quot; &gt;
+				&lt;tr&gt;
+					&lt;td colspan=&quot;2&quot;&gt;
+						&lt;blockTable style=&quot;titulo&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm, 2.7cm&quot;&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Base Imponible:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;I.V.A.%:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Tot I.V.A.:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Total:&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;contenido&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm&quot; &gt;
+						&lt;!--TOTALES--&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[bimp]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[tbimp]%&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[iva]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;!--END TOTALES--&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;preciofinal&quot; colWidths=&quot;2.7cm&quot; &gt;
+							&lt;tr&gt;
+								&lt;td&gt;[total] &#8364;&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;/blockTable&gt;
+		&lt;/place&gt;
+	&lt;/storyPlace --&gt;
+
+&lt;!-- storyPlace x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
+&lt;place x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
+&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;ALB [idpresupuesto] [numpresupuesto] [refpresupuesto]&lt;/barCode&gt;
+&lt;/place&gt;
+&lt;/storyPlace --&gt;
+
+
+&lt;/story&gt;
+&lt;/document&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/es/impers_presupuesto_solo_totales.rml b/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/es/impers_presupuesto_solo_totales.rml
new file mode 100644
index 0000000..93ca325
--- /dev/null
+++ b/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/es/impers_presupuesto_solo_totales.rml
@@ -0,0 +1,227 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot; ?&gt;
+&lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
+&lt;document&gt;
+&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Presupuesto sin totales parciales&quot; author=&quot;&quot;&gt;
+	&lt;pageTemplate id=&quot;main&quot;&gt;
+		&lt;pageGraphics&gt;
+		&lt;include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/&gt;
+
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
+		
+&lt;!--IF QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;11&quot;/&gt;
+		&lt;fill color=&quot;(1,1,1)&quot;/&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.53cm&quot;&gt;Datos del cliente:&lt;/drawString&gt;
+
+		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;26.05cm&quot;&gt;[idcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.6cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.15cm&quot;&gt;[cifcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.7cm&quot;&gt;[dircliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.25cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.8cm&quot;&gt;[telcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.35cm&quot;&gt;[mailcliente]&lt;/drawString&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.05cm&quot;&gt;Nº Cliente:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.6cm&quot;&gt;Nombre/Empresa:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.15cm&quot;&gt;NIF/CIF:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.7cm&quot;&gt;Dirección:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.25cm&quot;&gt;Población:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.8cm&quot;&gt;Teléfono:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.35cm&quot;&gt;Dirección Email:&lt;/drawString&gt;
+
+		&lt;!--Fecha presupuesto--&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
+
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.95cm&quot;&gt;Fecha fra:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.5cm&quot;&gt;Nº fra:&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.95cm&quot;&gt;Referencia:&lt;/drawString&gt;
+
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.95cm&quot;&gt;[fpresupuesto]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.5cm&quot;&gt;[numpresupuesto]&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.5cm&quot;&gt;[refpresupuesto]&lt;/drawString&gt;
+
+		&lt;!-- INCLUDE FILE=&quot;[CONF_DIR_OPENREPORTS]plantilla_empresa.rml&quot; --&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;26.3cm&quot;&gt;- PRESUPUESTO -&lt;/drawCentredString&gt;
+
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;7&quot;/&gt;
+		&lt;drawString x=&quot;15cm&quot; y=&quot;22.7cm&quot;&gt;Los importes están expresados en euros.&lt;/drawString&gt;
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;25.85cm&quot;&gt;Forma de pago: &lt;!--QUERY=&quot;SELECT descforma_pago FROM forma_pago WHERE idforma_pago = [idforma_pago] LIMIT 1&quot;--&gt;[descforma_pago]&lt;!--END QUERY--&gt;&lt;/drawCentredString&gt;
+
+	&lt;/pageGraphics&gt;
+
+
+		&lt;!-- FRAME DE CONTENIDOS --&gt;
+		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;8cm&quot; width=&quot;19cm&quot; height=&quot;14.6cm&quot; /&gt;
+
+		
+	&lt;/pageTemplate&gt;
+
+&lt;/template&gt;
+
+&lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
+
+&lt;story&gt;	
+	&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;3.00cm, 8.5cm, 1.8cm, 2cm, 2.9cm&quot; splitByRow=&quot;2&quot; rowheights=&quot;2&quot; repeatRows=&quot;1&quot;&gt;
+		&lt;tr&gt;
+			&lt;td&gt;Codigo&lt;/td&gt;
+			&lt;td&gt;Concepto&lt;/td&gt;
+			&lt;td&gt;Unid:&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+&lt;!--LINEAS DETALLE--&gt;
+&lt;tr&gt;
+&lt;td&gt;[codigocompletoarticulo]&lt;/td&gt;
+&lt;td&gt;[desclpresupuesto]&lt;/td&gt;
+&lt;td&gt;[cantlpresupuesto]&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+&lt;/tr&gt;
+&lt;!--END LINEAS DETALLE--&gt;
+	
+	
+		
+&lt;!--IF DESCUENTOS--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Descuento/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;% Dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;Total dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+&lt;!--LINEAS DESCUENTO--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[conceptdpresupuesto]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;[proporciondpresupuesto]%&lt;/td&gt;
+			&lt;td&gt;[totaldescdpresupuesto]&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END LINEAS DESCUENTO--&gt;
+&lt;!--END IF DESCUENTOS--&gt;
+
+
+&lt;!--IF QUERY=&quot;SELECT comentpresupuesto FROM presupuesto WHERE length(comentpresupuesto) &gt; 0 AND idpresupuesto = [idpresupuesto]&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT comentpresupuesto FROM presupuesto WHERE length(comentpresupuesto) &gt; 0 AND idpresupuesto = [idpresupuesto]&quot;--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Comentario/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[comentpresupuesto]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;Este presupuesto es válido hasta: [vencpresupuesto]&lt;/b&gt;&lt;br/&gt;&lt;br/&gt;
+			NOTA: Es imprescindible la presentación de este presupuesto para mantener los precios y condiciones.
+			&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+	&lt;/blockTable&gt;
+
+	
+	&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;20cm&quot; height=&quot;1cm&quot;&gt;
+		&lt;place x=&quot;1cm&quot; y=&quot;4cm&quot; width=&quot;19cm&quot; height=&quot;4cm&quot;&gt;
+			&lt;blockTable style=&quot;total&quot; colWidths=&quot;16.3cm,2.7cm&quot; &gt;
+				&lt;tr&gt;
+					&lt;td colspan=&quot;2&quot;&gt;
+						&lt;blockTable style=&quot;titulo&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm, 2.7cm&quot;&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Base Imponible:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;I.V.A.%:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Tot I.V.A.:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Total:&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;contenido&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm&quot; &gt;
+						&lt;!--TOTALES--&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[bimp]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[tbimp]%&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[iva]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;!--END TOTALES--&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;preciofinal&quot; colWidths=&quot;2.7cm&quot; &gt;
+							&lt;tr&gt;
+								&lt;td&gt;[total] &#8364;&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;/blockTable&gt;
+		&lt;/place&gt;
+	&lt;/storyPlace&gt;
+
+&lt;!-- storyPlace x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
+&lt;place x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
+&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;ALB [idpresupuesto] [numpresupuesto] [refpresupuesto]&lt;/barCode&gt;
+&lt;/place&gt;
+&lt;/storyPlace --&gt;
+
+
+&lt;/story&gt;
+&lt;/document&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/es/impers_presupuesto_urgente.rml b/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/es/impers_presupuesto_urgente.rml
new file mode 100644
index 0000000..b8c4da3
--- /dev/null
+++ b/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/es/impers_presupuesto_urgente.rml
@@ -0,0 +1,228 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot; ?&gt;
+&lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
+&lt;document&gt;
+&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Presupuesto Urgente&quot; author=&quot;&quot;&gt;
+	&lt;pageTemplate id=&quot;main&quot;&gt;
+		&lt;pageGraphics&gt;
+		&lt;include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/&gt;
+
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
+
+		&lt;!-- URGENTE --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;34&quot;/&gt;
+		&lt;fill color=&quot;(1,0.3,0.3)&quot;/&gt;
+		&lt;stroke color=&quot;(1,0.3,0.3)&quot;/&gt;
+		&lt;translate dx=&quot;15cm&quot; dy=&quot;-6.5cm&quot;/&gt;
+		&lt;rotate degrees=&quot;20&quot;/&gt;                                                                          
+		&lt;drawString x=&quot;21mm&quot; y=&quot;15.8cm&quot;&gt;URGENTE&lt;/drawString&gt;                                           
+		&lt;lineMode width=&quot;2mm&quot;/&gt;                                                                         
+		&lt;rect round=&quot;1cm&quot; x=&quot;17.5mm&quot; y=&quot;15cm&quot; width=&quot;6.5cm&quot; height=&quot;2.5cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;          
+		&lt;rotate degrees=&quot;-20&quot;/&gt;                                                                         
+		&lt;translate dx=&quot;-15cm&quot; dy=&quot;6.5cm&quot;/&gt; 
+		
+&lt;!--IF QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;11&quot;/&gt;
+		&lt;fill color=&quot;(1,1,1)&quot;/&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.53cm&quot;&gt;Datos del cliente:&lt;/drawString&gt;
+
+		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;26.05cm&quot;&gt;[idcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.6cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.15cm&quot;&gt;[cifcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.7cm&quot;&gt;[dircliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.25cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.8cm&quot;&gt;[telcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.35cm&quot;&gt;[mailcliente]&lt;/drawString&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.05cm&quot;&gt;Nº Cliente:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.6cm&quot;&gt;Nombre/Empresa:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.15cm&quot;&gt;NIF/CIF:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.7cm&quot;&gt;Dirección:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.25cm&quot;&gt;Población:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.8cm&quot;&gt;Teléfono:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.35cm&quot;&gt;Dirección Email:&lt;/drawString&gt;
+
+		&lt;!--Fecha presupuesto--&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
+
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.95cm&quot;&gt;Fecha fra:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.5cm&quot;&gt;Nº fra:&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.95cm&quot;&gt;Referencia:&lt;/drawString&gt;
+
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.95cm&quot;&gt;[fpresupuesto]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.5cm&quot;&gt;[numpresupuesto]&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.5cm&quot;&gt;[refpresupuesto]&lt;/drawString&gt;
+
+		&lt;!-- INCLUDE FILE=&quot;[CONF_DIR_OPENREPORTS]plantilla_empresa.rml&quot; --&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;26.3cm&quot;&gt;- PRESUPUESTO -&lt;/drawCentredString&gt;
+
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;7&quot;/&gt;
+		&lt;drawString x=&quot;15cm&quot; y=&quot;22.7cm&quot;&gt;Los importes están expresados en euros.&lt;/drawString&gt;
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;25.85cm&quot;&gt;Forma de pago: &lt;!--QUERY=&quot;SELECT descforma_pago FROM forma_pago WHERE idforma_pago = [idforma_pago] LIMIT 1&quot;--&gt;[descforma_pago]&lt;!--END QUERY--&gt;&lt;/drawCentredString&gt;
+
+	&lt;/pageGraphics&gt;
+
+
+		&lt;!-- FRAME DE CONTENIDOS --&gt;
+		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;8cm&quot; width=&quot;19cm&quot; height=&quot;14.6cm&quot; /&gt;
+
+		
+	&lt;/pageTemplate&gt;
+
+&lt;/template&gt;
+
+&lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
+
+&lt;story&gt;	
+	&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;3.00cm, 8.5cm, 1.8cm, 2cm, 2.9cm&quot; splitByRow=&quot;2&quot; rowheights=&quot;2&quot; repeatRows=&quot;1&quot;&gt;
+		&lt;tr&gt;
+			&lt;td&gt;Codigo&lt;/td&gt;
+			&lt;td&gt;Concepto&lt;/td&gt;
+			&lt;td&gt;Unid:&lt;/td&gt;
+			&lt;td&gt;Precio/u:&lt;/td&gt;
+			&lt;td&gt;Subtotal s/iva:&lt;/td&gt;
+		&lt;/tr&gt;
+		[story codigocompletoarticulo, descpresupuesto, cantpresupuesto, pvppresupuesto, subtotalpresupuesto]
+	
+&lt;!--IF DESCUENTOS--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Descuento/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;% Dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;Total dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+&lt;!--LINEAS DESCUENTO--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[conceptdpresupuesto]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;[proporciondpresupuesto]%&lt;/td&gt;
+			&lt;td&gt;[totaldescdpresupuesto]&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END LINEAS DESCUENTO--&gt;
+&lt;!--END IF DESCUENTOS--&gt;
+
+
+&lt;!--IF QUERY=&quot;SELECT comentpresupuesto FROM presupuesto WHERE length(comentpresupuesto) &gt; 0 AND idpresupuesto = [idpresupuesto]&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT comentpresupuesto FROM presupuesto WHERE length(comentpresupuesto) &gt; 0 AND idpresupuesto = [idpresupuesto]&quot;--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Comentario/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[comentpresupuesto]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;Este presupuesto es válido hasta: [vencpresupuesto]&lt;/b&gt;&lt;br/&gt;&lt;br/&gt;
+			NOTA: Es imprescindible la presentación de este presupuesto para mantener los precios y condiciones.
+			&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+	&lt;/blockTable&gt;
+
+	
+	&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;20cm&quot; height=&quot;1cm&quot;&gt;
+		&lt;place x=&quot;1cm&quot; y=&quot;4cm&quot; width=&quot;19cm&quot; height=&quot;4cm&quot;&gt;
+			&lt;blockTable style=&quot;total&quot; colWidths=&quot;16.3cm,2.7cm&quot; &gt;
+				&lt;tr&gt;
+					&lt;td colspan=&quot;2&quot;&gt;
+						&lt;blockTable style=&quot;titulo&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm, 2.7cm&quot;&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Base Imponible:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;I.V.A.%:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Tot I.V.A.:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Total:&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;contenido&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm&quot; &gt;
+						&lt;!--TOTALES--&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[bimp]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[tbimp]%&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[iva]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;!--END TOTALES--&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;preciofinal&quot; colWidths=&quot;2.7cm&quot; &gt;
+							&lt;tr&gt;
+								&lt;td&gt;[total] &#8364;&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;/blockTable&gt;
+		&lt;/place&gt;
+	&lt;/storyPlace&gt;
+
+&lt;!-- storyPlace x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
+&lt;place x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
+&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;ALB [idpresupuesto] [numpresupuesto] [refpresupuesto]&lt;/barCode&gt;
+&lt;/place&gt;
+&lt;/storyPlace --&gt;
+
+
+&lt;/story&gt;
+&lt;/document&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/es/presupuesto.rml b/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/es/presupuesto.rml
index 49984cd..fb4acd8 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/es/presupuesto.rml
+++ b/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/es/presupuesto.rml
@@ -1,142 +1,216 @@
-&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot; ?&gt;
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot; ?&gt;
 &lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
 &lt;document&gt;
-&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Presupuesto&quot; author=&quot;Tomeu Borras&quot; allowSplitting=&quot;20&quot;&gt;
+&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Presupuesto&quot; author=&quot;&quot;&gt;
 	&lt;pageTemplate id=&quot;main&quot;&gt;
 		&lt;pageGraphics&gt;
 		&lt;include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/&gt;
 
 		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
 		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;22&quot;/&gt;
-		&lt;drawString x=&quot;1.5cm&quot; y=&quot;24.5cm&quot;&gt;PRESUPUESTO&lt;/drawString&gt;
+		
+&lt;!--IF QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
 
-&lt;!--IF QUERY=&quot;SELECT * FROM CLIENTE WHERE idcliente = [idcliente]&quot;--&gt;
-&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente=[idcliente]&quot;--&gt;
-		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;24cm&quot;&gt;[nomcliente] -- [telcliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23.5cm&quot;&gt;[dircliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;11&quot;/&gt;
+		&lt;fill color=&quot;(1,1,1)&quot;/&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.53cm&quot;&gt;Datos del cliente:&lt;/drawString&gt;
 
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
+		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;26.05cm&quot;&gt;[idcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.6cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.15cm&quot;&gt;[cifcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.7cm&quot;&gt;[dircliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.25cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.8cm&quot;&gt;[telcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.35cm&quot;&gt;[mailcliente]&lt;/drawString&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
 		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
-		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;drawCentredString x=&quot;5.5cm&quot; y=&quot;21.2cm&quot;&gt;NIF&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;8.5cm&quot; y=&quot;21.2cm&quot;&gt;Cliente&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;11.5cm&quot; y=&quot;21.2cm&quot;&gt;Fecha&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;14.5cm&quot; y=&quot;21.2cm&quot;&gt;N. Presup:&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;17.5cm&quot; y=&quot;21.2cm&quot;&gt;Ref&lt;/drawCentredString&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawCentredString x=&quot;5.5cm&quot; y=&quot;20.4cm&quot;&gt;[cifcliente]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;8.5cm&quot; y=&quot;20.4cm&quot;&gt;[idcliente]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;11.5cm&quot; y=&quot;20.4cm&quot;&gt;[fpresupuesto]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;14.5cm&quot; y=&quot;20.4cm&quot;&gt;[numpresupuesto]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;17.5cm&quot; y=&quot;20.4cm&quot;&gt;[refpresupuesto]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;5cm&quot; y=&quot;2.5cm&quot;&gt;Presupuesto valido hasta [vencpresupuesto]&lt;/drawCentredString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.05cm&quot;&gt;Nº Cliente:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.6cm&quot;&gt;Nombre/Empresa:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.15cm&quot;&gt;NIF/CIF:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.7cm&quot;&gt;Dirección:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.25cm&quot;&gt;Población:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.8cm&quot;&gt;Teléfono:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.35cm&quot;&gt;Dirección Email:&lt;/drawString&gt;
+
+		&lt;!--Fecha presupuesto--&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
+
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.95cm&quot;&gt;Fecha presupuesto:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.5cm&quot;&gt;Nº presupuesto:&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.95cm&quot;&gt;Referencia:&lt;/drawString&gt;
+
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.95cm&quot;&gt;[fpresupuesto]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.5cm&quot;&gt;[numpresupuesto]&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.5cm&quot;&gt;[refpresupuesto]&lt;/drawString&gt;
+
+		&lt;!-- INCLUDE FILE=&quot;[CONF_DIR_OPENREPORTS]plantilla_empresa.rml&quot; --&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;26.3cm&quot;&gt;- PRESUPUESTO -&lt;/drawCentredString&gt;
+
 &lt;!--END QUERY--&gt;
 &lt;!--END IF QUERY--&gt;
-		&lt;/pageGraphics&gt;
-		&lt;!-- FRAME DE CONTENIDOS --&gt;
-		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;5cm&quot; width=&quot;19cm&quot; height=&quot;15cm&quot;/&gt;
-	&lt;/pageTemplate&gt;
 
-&lt;/template&gt;
 
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;7&quot;/&gt;
+		&lt;drawString x=&quot;15cm&quot; y=&quot;22.7cm&quot;&gt;Los importes están expresados en euros.&lt;/drawString&gt;
 
-&lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;25.85cm&quot;&gt;Forma de pago: &lt;!--QUERY=&quot;SELECT descforma_pago FROM forma_pago WHERE idforma_pago = [idforma_pago] LIMIT 1&quot;--&gt;[descforma_pago]&lt;!--END QUERY--&gt;&lt;/drawCentredString&gt;
+
+	&lt;/pageGraphics&gt;
 
-&lt;story&gt;
-&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;1.75cm, 8.55cm, 1.2cm, 1.7cm, 1.8cm, 2.25cm&quot; repeatRows=&quot;1&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;Codigo&lt;/td&gt;
-&lt;td&gt;Concepto&lt;/td&gt;
-&lt;td&gt;Und&lt;/td&gt;
-&lt;td&gt;Precio&lt;/td&gt;
-&lt;td&gt;Dto&lt;/td&gt;
-&lt;td&gt;Total&lt;/td&gt;
-&lt;/tr&gt;
-&lt;!--LINEAS DETALLE--&gt;
-&lt;tr&gt;
-&lt;td&gt;[codigocompletoarticulo]&lt;/td&gt;
-&lt;td&gt;&lt;!-- EXISTS FILE=&quot;/var/bulmages/articles/[codigocompletoarticulo].jpg&quot; --&gt;&lt;image x=&quot;0.5cm&quot; y=&quot;1.5cm&quot; width=&quot;2cm&quot; file=&quot;/var/bulmages/articles/[codigocompletoarticulo].jpg&quot;/&gt;&lt;!-- END EXISTS --&gt;[desclpresupuesto]&lt;/td&gt;
-&lt;td&gt;[cantlpresupuesto]&lt;/td&gt;
-&lt;td&gt;[pvplpresupuesto]&lt;/td&gt;
-&lt;td&gt;[descuentolpresupuesto]%&lt;/td&gt;
-&lt;td&gt;[totallpresupuesto]&lt;/td&gt;
-&lt;/tr&gt;
-&lt;!--END LINEAS DETALLE--&gt;
-&lt;/blockTable&gt;
-
-&lt;blockTable colWidths=&quot;1.75cm, 8.55cm, 1.2cm, 1.7cm, 1.8cm, 2.25cm&quot; repeatRows=&quot;1&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;[comentpresupuesto]&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/blockTable&gt;
 
+		&lt;!-- FRAME DE CONTENIDOS --&gt;
+		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;8cm&quot; width=&quot;19cm&quot; height=&quot;14.6cm&quot; /&gt;
+
+		
+	&lt;/pageTemplate&gt;
 
+&lt;/template&gt;
 
+&lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
+
+&lt;story&gt;	
+	&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;3.00cm, 8.5cm, 1.8cm, 2cm, 2.9cm&quot; splitByRow=&quot;2&quot; rowheights=&quot;2&quot; repeatRows=&quot;1&quot;&gt;
+		&lt;tr&gt;
+			&lt;td&gt;Codigo&lt;/td&gt;
+			&lt;td&gt;Concepto&lt;/td&gt;
+			&lt;td&gt;Unid:&lt;/td&gt;
+			&lt;td&gt;Precio/u:&lt;/td&gt;
+			&lt;td&gt;Subtotal s/iva:&lt;/td&gt;
+		&lt;/tr&gt;
+		[story codigocompletoarticulo, descpresupuesto, cantpresupuesto, pvppresupuesto, subtotalpresupuesto]
+	
 &lt;!--IF DESCUENTOS--&gt;
-&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
-	&lt;place x=&quot;4cm&quot; y=&quot;3.5cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;blockTable style=&quot;tabladescuento&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt; Descuento&lt;/td&gt;
-&lt;td&gt; Porcentaje&lt;/td&gt;
-&lt;td&gt; Total &lt;/td&gt;
-&lt;/tr&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Descuento/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;% Dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;Total dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
 &lt;!--LINEAS DESCUENTO--&gt;
-&lt;tr&gt;
-	&lt;td&gt;[conceptdpresupuesto]&lt;/td&gt;
-	&lt;td&gt;[proporciondpresupuesto]%&lt;/td&gt;
-	&lt;td&gt;[totaldescdpresupuesto]&lt;/td&gt;
-&lt;/tr&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[conceptdpresupuesto]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;[proporciondpresupuesto]%&lt;/td&gt;
+			&lt;td&gt;[totaldescdpresupuesto]&lt;/td&gt;
+		&lt;/tr&gt;
 &lt;!--END LINEAS DESCUENTO--&gt;
-&lt;/blockTable&gt;
-&lt;/place&gt;
-&lt;/storyPlace&gt;
 &lt;!--END IF DESCUENTOS--&gt;
 
-&lt;storyPlace x=&quot;2cm&quot; y=&quot;0cm&quot; width=&quot;19cm&quot; height=&quot;2cm&quot;&gt;
-&lt;place x=&quot;2cm&quot; y=&quot;0.5cm&quot; width=&quot;19cm&quot; height=&quot;4.5cm&quot;&gt;
-&lt;blockTable colWidths=&quot;7cm, 7cm&quot;&gt;
-&lt;!--TOTALES--&gt;
-&lt;tr&gt;
-&lt;td&gt;&lt;para&gt;Base Imponible [tbimp]%: &lt;font color=&quot;blue&quot;&gt;[bimp]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;I.V.A. [tbimp]%:  &lt;font color=&quot;blue&quot;&gt;[iva]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;!--END TOTALES--&gt;
-
-&lt;!--TOTREQ--&gt;
-&lt;tr&gt;
-&lt;td colspan=&quot;2&quot;&gt;&lt;para&gt;R.Eq. [tre]%: &lt;font color=&quot;blue&quot;&gt;[re]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;!--END TOTREQ--&gt;
-&lt;/blockTable&gt;
-
-
-&lt;blockTable&gt;
-&lt;tr&gt;
-&lt;!-- td&gt;&lt;para&gt;Total Descuentos &lt;font color=&quot;blue&quot;&gt;[totaldesc]&lt;/font&gt;&lt;/para&gt;&lt;/td--&gt;
-&lt;td&gt;&lt;para&gt;Total Base Imponible &lt;font color=&quot;blue&quot;&gt;[totalbimp]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;Total I.V.A &lt;font color=&quot;blue&quot;&gt;[totaliva]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;Total R.Eq &lt;font color=&quot;blue&quot;&gt;[totalre]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;&lt;font size=&quot;15&quot;&gt;&lt;b&gt; Total &lt;/b&gt;&lt;/font&gt;&lt;font color=&quot;blue&quot; size=&quot;15&quot;&gt;&lt;b&gt;[total]&lt;/b&gt;&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/blockTable&gt;
+
+&lt;!--IF QUERY=&quot;SELECT comentpresupuesto FROM presupuesto WHERE length(comentpresupuesto) &gt; 0 AND idpresupuesto = [idpresupuesto]&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT comentpresupuesto FROM presupuesto WHERE length(comentpresupuesto) &gt; 0 AND idpresupuesto = [idpresupuesto]&quot;--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Comentario/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[comentpresupuesto]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;Este presupuesto es válido hasta: [vencpresupuesto]&lt;/b&gt;&lt;br/&gt;&lt;br/&gt;
+			NOTA: Es imprescindible la presentación de este presupuesto para mantener los precios y condiciones.
+			&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+	&lt;/blockTable&gt;
+
+	
+	&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;20cm&quot; height=&quot;1cm&quot;&gt;
+		&lt;place x=&quot;1cm&quot; y=&quot;4cm&quot; width=&quot;19cm&quot; height=&quot;4cm&quot;&gt;
+			&lt;blockTable style=&quot;total&quot; colWidths=&quot;16.3cm,2.7cm&quot; &gt;
+				&lt;tr&gt;
+					&lt;td colspan=&quot;2&quot;&gt;
+						&lt;blockTable style=&quot;titulo&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm, 2.7cm&quot;&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Base Imponible:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;I.V.A.%:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Tot I.V.A.:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Total:&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;contenido&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm&quot; &gt;
+						&lt;!--TOTALES--&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[bimp]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[tbimp]%&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[iva]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;!--END TOTALES--&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;preciofinal&quot; colWidths=&quot;2.7cm&quot; &gt;
+							&lt;tr&gt;
+								&lt;td&gt;[total] &#8364;&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;/blockTable&gt;
+		&lt;/place&gt;
+	&lt;/storyPlace&gt;
+
+&lt;storyPlace x=&quot;16cm&quot; y=&quot;1cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
+&lt;place x=&quot;16cm&quot; y=&quot;1cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
+&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;PRE [idpresupuesto] [numpresupuesto] [refpresupuesto]&lt;/barCode&gt;
 &lt;/place&gt;
 &lt;/storyPlace&gt;
 
 
-&lt;!-- storyPlace x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
-&lt;place x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;FACT [idpresupuesto] [numpresupuesto] [refpresupuesto]&lt;/barCode&gt;
-&lt;/place&gt;
-&lt;/storyPlace --&gt;
 &lt;/story&gt;
 &lt;/document&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/fr/impers_presupuesto_fproforma.rml b/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/fr/impers_presupuesto_fproforma.rml
index 9eba3e6..b67c07d 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/fr/impers_presupuesto_fproforma.rml
+++ b/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/fr/impers_presupuesto_fproforma.rml
@@ -1,142 +1,216 @@
-&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot; ?&gt;
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot; ?&gt;
 &lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
 &lt;document&gt;
-&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Factura Proforma&quot; author=&quot;Tomeu Borras&quot; allowSplitting=&quot;20&quot;&gt;
+&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Fractura Proforma&quot; author=&quot;&quot;&gt;
 	&lt;pageTemplate id=&quot;main&quot;&gt;
 		&lt;pageGraphics&gt;
 		&lt;include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/&gt;
 
 		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
 		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;22&quot;/&gt;
-		&lt;drawString x=&quot;1.5cm&quot; y=&quot;24.5cm&quot;&gt;FRA. PROFORMA&lt;/drawString&gt;
+		
+&lt;!--IF QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
 
-&lt;!--IF QUERY=&quot;SELECT * FROM CLIENTE WHERE idcliente = [idcliente]&quot;--&gt;
-&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente=[idcliente]&quot;--&gt;
-		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;24cm&quot;&gt;[nomcliente] -- [telcliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23.5cm&quot;&gt;[dircliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;11&quot;/&gt;
+		&lt;fill color=&quot;(1,1,1)&quot;/&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.53cm&quot;&gt;Datos del cliente:&lt;/drawString&gt;
 
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
+		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;26.05cm&quot;&gt;[idcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.6cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.15cm&quot;&gt;[cifcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.7cm&quot;&gt;[dircliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.25cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.8cm&quot;&gt;[telcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.35cm&quot;&gt;[mailcliente]&lt;/drawString&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
 		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
-		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;drawCentredString x=&quot;5.5cm&quot; y=&quot;21.2cm&quot;&gt;NIF&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;8.5cm&quot; y=&quot;21.2cm&quot;&gt;Cliente&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;11.5cm&quot; y=&quot;21.2cm&quot;&gt;Fecha&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;14.5cm&quot; y=&quot;21.2cm&quot;&gt;N. Presup:&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;17.5cm&quot; y=&quot;21.2cm&quot;&gt;Ref&lt;/drawCentredString&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawCentredString x=&quot;5.5cm&quot; y=&quot;20.4cm&quot;&gt;[cifcliente]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;8.5cm&quot; y=&quot;20.4cm&quot;&gt;[idcliente]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;11.5cm&quot; y=&quot;20.4cm&quot;&gt;[fpresupuesto]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;14.5cm&quot; y=&quot;20.4cm&quot;&gt;[numpresupuesto]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;17.5cm&quot; y=&quot;20.4cm&quot;&gt;[refpresupuesto]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;5cm&quot; y=&quot;2.5cm&quot;&gt;Presupuesto valido hasta [vencpresupuesto]&lt;/drawCentredString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.05cm&quot;&gt;Nº Cliente:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.6cm&quot;&gt;Nombre/Empresa:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.15cm&quot;&gt;NIF/CIF:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.7cm&quot;&gt;Dirección:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.25cm&quot;&gt;Población:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.8cm&quot;&gt;Teléfono:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.35cm&quot;&gt;Dirección Email:&lt;/drawString&gt;
+
+		&lt;!--Fecha presupuesto--&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
+
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.95cm&quot;&gt;Fecha fra:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.5cm&quot;&gt;Nº fra:&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.95cm&quot;&gt;Referencia:&lt;/drawString&gt;
+
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.95cm&quot;&gt;[fpresupuesto]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.5cm&quot;&gt;[numpresupuesto]&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.5cm&quot;&gt;[refpresupuesto]&lt;/drawString&gt;
+
+		&lt;!-- INCLUDE FILE=&quot;[CONF_DIR_OPENREPORTS]plantilla_empresa.rml&quot; --&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;26.3cm&quot;&gt;- F. PROFORMA -&lt;/drawCentredString&gt;
+
 &lt;!--END QUERY--&gt;
 &lt;!--END IF QUERY--&gt;
-		&lt;/pageGraphics&gt;
-		&lt;!-- FRAME DE CONTENIDOS --&gt;
-		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;5cm&quot; width=&quot;19cm&quot; height=&quot;15cm&quot;/&gt;
-	&lt;/pageTemplate&gt;
 
-&lt;/template&gt;
 
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;7&quot;/&gt;
+		&lt;drawString x=&quot;15cm&quot; y=&quot;22.7cm&quot;&gt;Los importes están expresados en euros.&lt;/drawString&gt;
 
-&lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;25.85cm&quot;&gt;Forma de pago: &lt;!--QUERY=&quot;SELECT descforma_pago FROM forma_pago WHERE idforma_pago = [idforma_pago] LIMIT 1&quot;--&gt;[descforma_pago]&lt;!--END QUERY--&gt;&lt;/drawCentredString&gt;
+
+	&lt;/pageGraphics&gt;
 
-&lt;story&gt;
-&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;1.75cm, 8.55cm, 1.2cm, 1.7cm, 1.8cm, 2.25cm&quot; repeatRows=&quot;1&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;Codigo&lt;/td&gt;
-&lt;td&gt;Concepto&lt;/td&gt;
-&lt;td&gt;Und&lt;/td&gt;
-&lt;td&gt;Precio&lt;/td&gt;
-&lt;td&gt;Dto&lt;/td&gt;
-&lt;td&gt;Total&lt;/td&gt;
-&lt;/tr&gt;
-&lt;!--LINEAS DETALLE--&gt;
-&lt;tr&gt;
-&lt;td&gt;[codigocompletoarticulo]&lt;/td&gt;
-&lt;td&gt;&lt;!-- EXISTS FILE=&quot;/var/bulmages/articles/[codigocompletoarticulo].jpg&quot; --&gt;&lt;image x=&quot;0.5cm&quot; y=&quot;1.5cm&quot; width=&quot;2cm&quot; file=&quot;/var/bulmages/articles/[codigocompletoarticulo].jpg&quot;/&gt;&lt;!-- END EXISTS --&gt;[desclpresupuesto]&lt;/td&gt;
-&lt;td&gt;[cantlpresupuesto]&lt;/td&gt;
-&lt;td&gt;[pvplpresupuesto]&lt;/td&gt;
-&lt;td&gt;[descuentolpresupuesto]%&lt;/td&gt;
-&lt;td&gt;[totallpresupuesto]&lt;/td&gt;
-&lt;/tr&gt;
-&lt;!--END LINEAS DETALLE--&gt;
-&lt;/blockTable&gt;
-
-&lt;blockTable colWidths=&quot;1.75cm, 8.55cm, 1.2cm, 1.7cm, 1.8cm, 2.25cm&quot; repeatRows=&quot;1&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;[comentpresupuesto]&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/blockTable&gt;
 
+		&lt;!-- FRAME DE CONTENIDOS --&gt;
+		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;8cm&quot; width=&quot;19cm&quot; height=&quot;14.6cm&quot; /&gt;
+
+		
+	&lt;/pageTemplate&gt;
 
+&lt;/template&gt;
 
+&lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
+
+&lt;story&gt;	
+	&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;3.00cm, 8.5cm, 1.8cm, 2cm, 2.9cm&quot; splitByRow=&quot;2&quot; rowheights=&quot;2&quot; repeatRows=&quot;1&quot;&gt;
+		&lt;tr&gt;
+			&lt;td&gt;Codigo&lt;/td&gt;
+			&lt;td&gt;Concepto&lt;/td&gt;
+			&lt;td&gt;Unid:&lt;/td&gt;
+			&lt;td&gt;Precio/u:&lt;/td&gt;
+			&lt;td&gt;Subtotal s/iva:&lt;/td&gt;
+		&lt;/tr&gt;
+		[story codigocompletoarticulo, descpresupuesto, cantpresupuesto, pvppresupuesto, subtotalpresupuesto]
+	
 &lt;!--IF DESCUENTOS--&gt;
-&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
-	&lt;place x=&quot;4cm&quot; y=&quot;3.5cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;blockTable style=&quot;tabladescuento&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt; Descuento&lt;/td&gt;
-&lt;td&gt; Porcentaje&lt;/td&gt;
-&lt;td&gt; Total &lt;/td&gt;
-&lt;/tr&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Descuento/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;% Dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;Total dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
 &lt;!--LINEAS DESCUENTO--&gt;
-&lt;tr&gt;
-	&lt;td&gt;[conceptdpresupuesto]&lt;/td&gt;
-	&lt;td&gt;[proporciondpresupuesto]%&lt;/td&gt;
-	&lt;td&gt;[totaldescdpresupuesto]&lt;/td&gt;
-&lt;/tr&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[conceptdpresupuesto]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;[proporciondpresupuesto]%&lt;/td&gt;
+			&lt;td&gt;[totaldescdpresupuesto]&lt;/td&gt;
+		&lt;/tr&gt;
 &lt;!--END LINEAS DESCUENTO--&gt;
-&lt;/blockTable&gt;
-&lt;/place&gt;
-&lt;/storyPlace&gt;
 &lt;!--END IF DESCUENTOS--&gt;
 
-&lt;storyPlace x=&quot;2cm&quot; y=&quot;0cm&quot; width=&quot;19cm&quot; height=&quot;2cm&quot;&gt;
-&lt;place x=&quot;2cm&quot; y=&quot;0.5cm&quot; width=&quot;19cm&quot; height=&quot;4.5cm&quot;&gt;
-&lt;blockTable colWidths=&quot;7cm, 7cm&quot;&gt;
-&lt;!--TOTALES--&gt;
-&lt;tr&gt;
-&lt;td&gt;&lt;para&gt;Base Imponible [tbimp]%: &lt;font color=&quot;blue&quot;&gt;[bimp]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;I.V.A. [tbimp]%:  &lt;font color=&quot;blue&quot;&gt;[iva]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;!--END TOTALES--&gt;
-
-&lt;!--TOTREQ--&gt;
-&lt;tr&gt;
-&lt;td colspan=&quot;2&quot;&gt;&lt;para&gt;R.Eq. [tre]%: &lt;font color=&quot;blue&quot;&gt;[re]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;!--END TOTREQ--&gt;
-&lt;/blockTable&gt;
-
-
-&lt;blockTable&gt;
-&lt;tr&gt;
-&lt;!-- td&gt;&lt;para&gt;Total Descuentos &lt;font color=&quot;blue&quot;&gt;[totaldesc]&lt;/font&gt;&lt;/para&gt;&lt;/td--&gt;
-&lt;td&gt;&lt;para&gt;Total Base Imponible &lt;font color=&quot;blue&quot;&gt;[totalbimp]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;Total I.V.A &lt;font color=&quot;blue&quot;&gt;[totaliva]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;Total R.Eq &lt;font color=&quot;blue&quot;&gt;[totalre]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;&lt;font size=&quot;15&quot;&gt;&lt;b&gt; Total &lt;/b&gt;&lt;/font&gt;&lt;font color=&quot;blue&quot; size=&quot;15&quot;&gt;&lt;b&gt;[total]&lt;/b&gt;&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/blockTable&gt;
-&lt;/place&gt;
-&lt;/storyPlace&gt;
 
+&lt;!--IF QUERY=&quot;SELECT comentpresupuesto FROM presupuesto WHERE length(comentpresupuesto) &gt; 0 AND idpresupuesto = [idpresupuesto]&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT comentpresupuesto FROM presupuesto WHERE length(comentpresupuesto) &gt; 0 AND idpresupuesto = [idpresupuesto]&quot;--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Comentario/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[comentpresupuesto]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;Este presupuesto es válido hasta: [vencpresupuesto]&lt;/b&gt;&lt;br/&gt;&lt;br/&gt;
+			NOTA: Es imprescindible la presentación de este presupuesto para mantener los precios y condiciones.
+			&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+	&lt;/blockTable&gt;
+
+	
+	&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;20cm&quot; height=&quot;1cm&quot;&gt;
+		&lt;place x=&quot;1cm&quot; y=&quot;4cm&quot; width=&quot;19cm&quot; height=&quot;4cm&quot;&gt;
+			&lt;blockTable style=&quot;total&quot; colWidths=&quot;16.3cm,2.7cm&quot; &gt;
+				&lt;tr&gt;
+					&lt;td colspan=&quot;2&quot;&gt;
+						&lt;blockTable style=&quot;titulo&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm, 2.7cm&quot;&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Base Imponible:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;I.V.A.%:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Tot I.V.A.:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Total:&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;contenido&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm&quot; &gt;
+						&lt;!--TOTALES--&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[bimp]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[tbimp]%&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[iva]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;!--END TOTALES--&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;preciofinal&quot; colWidths=&quot;2.7cm&quot; &gt;
+							&lt;tr&gt;
+								&lt;td&gt;[total] &#8364;&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;/blockTable&gt;
+		&lt;/place&gt;
+	&lt;/storyPlace&gt;
 
 &lt;!-- storyPlace x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
 &lt;place x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;FACT [idpresupuesto] [numpresupuesto] [refpresupuesto]&lt;/barCode&gt;
+&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;ALB [idpresupuesto] [numpresupuesto] [refpresupuesto]&lt;/barCode&gt;
 &lt;/place&gt;
 &lt;/storyPlace --&gt;
+
+
 &lt;/story&gt;
 &lt;/document&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/fr/presupuesto.rml b/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/fr/presupuesto.rml
index 49984cd..fb4acd8 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/fr/presupuesto.rml
+++ b/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/fr/presupuesto.rml
@@ -1,142 +1,216 @@
-&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot; ?&gt;
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;no&quot; ?&gt;
 &lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
 &lt;document&gt;
-&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Presupuesto&quot; author=&quot;Tomeu Borras&quot; allowSplitting=&quot;20&quot;&gt;
+&lt;template pageSize=&quot;(21cm, 29.7cm)&quot; leftMargin=&quot;0cm&quot; rightMargin=&quot;0cm&quot; topMargin=&quot;1.0cm&quot; bottomMargin=&quot;2.0cm&quot; title=&quot;Presupuesto&quot; author=&quot;&quot;&gt;
 	&lt;pageTemplate id=&quot;main&quot;&gt;
 		&lt;pageGraphics&gt;
 		&lt;include src=&quot;[CONF_DIR_OPENREPORTS]plantilla.rml&quot;/&gt;
 
 		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
 		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;22&quot;/&gt;
-		&lt;drawString x=&quot;1.5cm&quot; y=&quot;24.5cm&quot;&gt;PRESUPUESTO&lt;/drawString&gt;
+		
+&lt;!--IF QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente = [idcliente] LIMIT 1&quot;--&gt;
 
-&lt;!--IF QUERY=&quot;SELECT * FROM CLIENTE WHERE idcliente = [idcliente]&quot;--&gt;
-&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente=[idcliente]&quot;--&gt;
-		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;24cm&quot;&gt;[nomcliente] -- [telcliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23.5cm&quot;&gt;[dircliente]&lt;/drawString&gt;
-		&lt;drawString x=&quot;8.5cm&quot; y=&quot;23cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;11&quot;/&gt;
+		&lt;fill color=&quot;(1,1,1)&quot;/&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.53cm&quot;&gt;Datos del cliente:&lt;/drawString&gt;
 
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
+		&lt;!-- LOS DATOS DEL CLIENTE --&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;fill color=&quot;(0,0,0)&quot;/&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;26.05cm&quot;&gt;[idcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.6cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;25.15cm&quot;&gt;[cifcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.7cm&quot;&gt;[dircliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;24.25cm&quot;&gt;[poblcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.8cm&quot;&gt;[telcliente]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;23.35cm&quot;&gt;[mailcliente]&lt;/drawString&gt;
+
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
 		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
-		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;drawCentredString x=&quot;5.5cm&quot; y=&quot;21.2cm&quot;&gt;NIF&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;8.5cm&quot; y=&quot;21.2cm&quot;&gt;Cliente&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;11.5cm&quot; y=&quot;21.2cm&quot;&gt;Fecha&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;14.5cm&quot; y=&quot;21.2cm&quot;&gt;N. Presup:&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;17.5cm&quot; y=&quot;21.2cm&quot;&gt;Ref&lt;/drawCentredString&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
-		&lt;drawCentredString x=&quot;5.5cm&quot; y=&quot;20.4cm&quot;&gt;[cifcliente]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;8.5cm&quot; y=&quot;20.4cm&quot;&gt;[idcliente]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;11.5cm&quot; y=&quot;20.4cm&quot;&gt;[fpresupuesto]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;14.5cm&quot; y=&quot;20.4cm&quot;&gt;[numpresupuesto]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;17.5cm&quot; y=&quot;20.4cm&quot;&gt;[refpresupuesto]&lt;/drawCentredString&gt;
-		&lt;drawCentredString x=&quot;5cm&quot; y=&quot;2.5cm&quot;&gt;Presupuesto valido hasta [vencpresupuesto]&lt;/drawCentredString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;26.05cm&quot;&gt;Nº Cliente:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.6cm&quot;&gt;Nombre/Empresa:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;25.15cm&quot;&gt;NIF/CIF:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.7cm&quot;&gt;Dirección:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;24.25cm&quot;&gt;Población:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.8cm&quot;&gt;Teléfono:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;23.35cm&quot;&gt;Dirección Email:&lt;/drawString&gt;
+
+		&lt;!--Fecha presupuesto--&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
+
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.95cm&quot;&gt;Fecha presupuesto:&lt;/drawString&gt;
+		&lt;drawString x=&quot;10cm&quot; y=&quot;27.5cm&quot;&gt;Nº presupuesto:&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.95cm&quot;&gt;Referencia:&lt;/drawString&gt;
+
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.95cm&quot;&gt;[fpresupuesto]&lt;/drawString&gt;
+		&lt;drawString x=&quot;13.5cm&quot; y=&quot;27.5cm&quot;&gt;[numpresupuesto]&lt;/drawString&gt;
+		&lt;drawString x=&quot;17.0cm&quot; y=&quot;27.5cm&quot;&gt;[refpresupuesto]&lt;/drawString&gt;
+
+		&lt;!-- INCLUDE FILE=&quot;[CONF_DIR_OPENREPORTS]plantilla_empresa.rml&quot; --&gt;
+
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;26.3cm&quot;&gt;- PRESUPUESTO -&lt;/drawCentredString&gt;
+
 &lt;!--END QUERY--&gt;
 &lt;!--END IF QUERY--&gt;
-		&lt;/pageGraphics&gt;
-		&lt;!-- FRAME DE CONTENIDOS --&gt;
-		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;5cm&quot; width=&quot;19cm&quot; height=&quot;15cm&quot;/&gt;
-	&lt;/pageTemplate&gt;
 
-&lt;/template&gt;
 
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;7&quot;/&gt;
+		&lt;drawString x=&quot;15cm&quot; y=&quot;22.7cm&quot;&gt;Los importes están expresados en euros.&lt;/drawString&gt;
 
-&lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+		&lt;drawCentredString x=&quot;5.3cm&quot; y=&quot;25.85cm&quot;&gt;Forma de pago: &lt;!--QUERY=&quot;SELECT descforma_pago FROM forma_pago WHERE idforma_pago = [idforma_pago] LIMIT 1&quot;--&gt;[descforma_pago]&lt;!--END QUERY--&gt;&lt;/drawCentredString&gt;
+
+	&lt;/pageGraphics&gt;
 
-&lt;story&gt;
-&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;1.75cm, 8.55cm, 1.2cm, 1.7cm, 1.8cm, 2.25cm&quot; repeatRows=&quot;1&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;Codigo&lt;/td&gt;
-&lt;td&gt;Concepto&lt;/td&gt;
-&lt;td&gt;Und&lt;/td&gt;
-&lt;td&gt;Precio&lt;/td&gt;
-&lt;td&gt;Dto&lt;/td&gt;
-&lt;td&gt;Total&lt;/td&gt;
-&lt;/tr&gt;
-&lt;!--LINEAS DETALLE--&gt;
-&lt;tr&gt;
-&lt;td&gt;[codigocompletoarticulo]&lt;/td&gt;
-&lt;td&gt;&lt;!-- EXISTS FILE=&quot;/var/bulmages/articles/[codigocompletoarticulo].jpg&quot; --&gt;&lt;image x=&quot;0.5cm&quot; y=&quot;1.5cm&quot; width=&quot;2cm&quot; file=&quot;/var/bulmages/articles/[codigocompletoarticulo].jpg&quot;/&gt;&lt;!-- END EXISTS --&gt;[desclpresupuesto]&lt;/td&gt;
-&lt;td&gt;[cantlpresupuesto]&lt;/td&gt;
-&lt;td&gt;[pvplpresupuesto]&lt;/td&gt;
-&lt;td&gt;[descuentolpresupuesto]%&lt;/td&gt;
-&lt;td&gt;[totallpresupuesto]&lt;/td&gt;
-&lt;/tr&gt;
-&lt;!--END LINEAS DETALLE--&gt;
-&lt;/blockTable&gt;
-
-&lt;blockTable colWidths=&quot;1.75cm, 8.55cm, 1.2cm, 1.7cm, 1.8cm, 2.25cm&quot; repeatRows=&quot;1&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;[comentpresupuesto]&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;td&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/blockTable&gt;
 
+		&lt;!-- FRAME DE CONTENIDOS --&gt;
+		&lt;frame id=&quot;column&quot; x1=&quot;1cm&quot; y1=&quot;8cm&quot; width=&quot;19cm&quot; height=&quot;14.6cm&quot; /&gt;
+
+		
+	&lt;/pageTemplate&gt;
 
+&lt;/template&gt;
 
+&lt;include src=&quot;[CONF_DIR_OPENREPORTS]estilos.rml&quot;/&gt;
+
+&lt;story&gt;	
+	&lt;blockTable style=&quot;tablacontenido&quot; colWidths=&quot;3.00cm, 8.5cm, 1.8cm, 2cm, 2.9cm&quot; splitByRow=&quot;2&quot; rowheights=&quot;2&quot; repeatRows=&quot;1&quot;&gt;
+		&lt;tr&gt;
+			&lt;td&gt;Codigo&lt;/td&gt;
+			&lt;td&gt;Concepto&lt;/td&gt;
+			&lt;td&gt;Unid:&lt;/td&gt;
+			&lt;td&gt;Precio/u:&lt;/td&gt;
+			&lt;td&gt;Subtotal s/iva:&lt;/td&gt;
+		&lt;/tr&gt;
+		[story codigocompletoarticulo, descpresupuesto, cantpresupuesto, pvppresupuesto, subtotalpresupuesto]
+	
 &lt;!--IF DESCUENTOS--&gt;
-&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
-	&lt;place x=&quot;4cm&quot; y=&quot;3.5cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;blockTable style=&quot;tabladescuento&quot;&gt;
-&lt;tr&gt;
-&lt;td&gt; Descuento&lt;/td&gt;
-&lt;td&gt; Porcentaje&lt;/td&gt;
-&lt;td&gt; Total &lt;/td&gt;
-&lt;/tr&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Descuento/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;% Dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2der&quot;&gt;&lt;b&gt;&lt;u&gt;Total dto:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
 &lt;!--LINEAS DESCUENTO--&gt;
-&lt;tr&gt;
-	&lt;td&gt;[conceptdpresupuesto]&lt;/td&gt;
-	&lt;td&gt;[proporciondpresupuesto]%&lt;/td&gt;
-	&lt;td&gt;[totaldescdpresupuesto]&lt;/td&gt;
-&lt;/tr&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[conceptdpresupuesto]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;[proporciondpresupuesto]%&lt;/td&gt;
+			&lt;td&gt;[totaldescdpresupuesto]&lt;/td&gt;
+		&lt;/tr&gt;
 &lt;!--END LINEAS DESCUENTO--&gt;
-&lt;/blockTable&gt;
-&lt;/place&gt;
-&lt;/storyPlace&gt;
 &lt;!--END IF DESCUENTOS--&gt;
 
-&lt;storyPlace x=&quot;2cm&quot; y=&quot;0cm&quot; width=&quot;19cm&quot; height=&quot;2cm&quot;&gt;
-&lt;place x=&quot;2cm&quot; y=&quot;0.5cm&quot; width=&quot;19cm&quot; height=&quot;4.5cm&quot;&gt;
-&lt;blockTable colWidths=&quot;7cm, 7cm&quot;&gt;
-&lt;!--TOTALES--&gt;
-&lt;tr&gt;
-&lt;td&gt;&lt;para&gt;Base Imponible [tbimp]%: &lt;font color=&quot;blue&quot;&gt;[bimp]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;I.V.A. [tbimp]%:  &lt;font color=&quot;blue&quot;&gt;[iva]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;!--END TOTALES--&gt;
-
-&lt;!--TOTREQ--&gt;
-&lt;tr&gt;
-&lt;td colspan=&quot;2&quot;&gt;&lt;para&gt;R.Eq. [tre]%: &lt;font color=&quot;blue&quot;&gt;[re]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;!--END TOTREQ--&gt;
-&lt;/blockTable&gt;
-
-
-&lt;blockTable&gt;
-&lt;tr&gt;
-&lt;!-- td&gt;&lt;para&gt;Total Descuentos &lt;font color=&quot;blue&quot;&gt;[totaldesc]&lt;/font&gt;&lt;/para&gt;&lt;/td--&gt;
-&lt;td&gt;&lt;para&gt;Total Base Imponible &lt;font color=&quot;blue&quot;&gt;[totalbimp]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;Total I.V.A &lt;font color=&quot;blue&quot;&gt;[totaliva]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;Total R.Eq &lt;font color=&quot;blue&quot;&gt;[totalre]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;&lt;font size=&quot;15&quot;&gt;&lt;b&gt; Total &lt;/b&gt;&lt;/font&gt;&lt;font color=&quot;blue&quot; size=&quot;15&quot;&gt;&lt;b&gt;[total]&lt;/b&gt;&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;/tr&gt;
-&lt;/blockTable&gt;
+
+&lt;!--IF QUERY=&quot;SELECT comentpresupuesto FROM presupuesto WHERE length(comentpresupuesto) &gt; 0 AND idpresupuesto = [idpresupuesto]&quot;--&gt;
+&lt;!--QUERY=&quot;SELECT comentpresupuesto FROM presupuesto WHERE length(comentpresupuesto) &gt; 0 AND idpresupuesto = [idpresupuesto]&quot;--&gt;
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;&lt;u&gt;Comentario/s:&lt;/u&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;[comentpresupuesto]&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+&lt;!--END QUERY--&gt;
+&lt;!--END IF QUERY--&gt;
+
+		&lt;tr&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;para style=&quot;paragrafo2&quot;&gt;&lt;b&gt;Este presupuesto es válido hasta: [vencpresupuesto]&lt;/b&gt;&lt;br/&gt;&lt;br/&gt;
+			NOTA: Es imprescindible la presentación de este presupuesto para mantener los precios y condiciones.
+			&lt;/para&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+			&lt;td&gt;&lt;/td&gt;
+		&lt;/tr&gt;
+
+	&lt;/blockTable&gt;
+
+	
+	&lt;storyPlace x=&quot;0cm&quot; y=&quot;0cm&quot; width=&quot;20cm&quot; height=&quot;1cm&quot;&gt;
+		&lt;place x=&quot;1cm&quot; y=&quot;4cm&quot; width=&quot;19cm&quot; height=&quot;4cm&quot;&gt;
+			&lt;blockTable style=&quot;total&quot; colWidths=&quot;16.3cm,2.7cm&quot; &gt;
+				&lt;tr&gt;
+					&lt;td colspan=&quot;2&quot;&gt;
+						&lt;blockTable style=&quot;titulo&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm, 2.7cm&quot;&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Base Imponible:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;I.V.A.%:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Tot I.V.A.:&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;Total:&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+				&lt;tr&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;contenido&quot; colWidths=&quot;5.5cm, 3.2cm, 1.4cm, 1.75cm, 1.4cm, 1.9cm, 1.15cm&quot; &gt;
+						&lt;!--TOTALES--&gt;
+							&lt;tr&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[bimp]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[tbimp]%&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+								&lt;td&gt;[iva]&lt;/td&gt;
+								&lt;td&gt;  &lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;!--END TOTALES--&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+					&lt;td&gt;
+						&lt;blockTable style=&quot;preciofinal&quot; colWidths=&quot;2.7cm&quot; &gt;
+							&lt;tr&gt;
+								&lt;td&gt;[total] &#8364;&lt;/td&gt;
+							&lt;/tr&gt;
+						&lt;/blockTable&gt;
+					&lt;/td&gt;
+				&lt;/tr&gt;
+			&lt;/blockTable&gt;
+		&lt;/place&gt;
+	&lt;/storyPlace&gt;
+
+&lt;storyPlace x=&quot;16cm&quot; y=&quot;1cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
+&lt;place x=&quot;16cm&quot; y=&quot;1cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
+&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;PRE [idpresupuesto] [numpresupuesto] [refpresupuesto]&lt;/barCode&gt;
 &lt;/place&gt;
 &lt;/storyPlace&gt;
 
 
-&lt;!-- storyPlace x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;1cm&quot;&gt;
-&lt;place x=&quot;16cm&quot; y=&quot;27cm&quot; width=&quot;15cm&quot; height=&quot;2.5cm&quot;&gt;
-&lt;barCode code=&quot;code128&quot; height=&quot;1cm&quot;&gt;FACT [idpresupuesto] [numpresupuesto] [refpresupuesto]&lt;/barCode&gt;
-&lt;/place&gt;
-&lt;/storyPlace --&gt;
 &lt;/story&gt;
 &lt;/document&gt;
diff --git a/bulmages/bulmasetup/contabilidad.in b/bulmages/bulmasetup/contabilidad.in
index 9a8eb31..80215dd 100644
--- a/bulmages/bulmasetup/contabilidad.in
+++ b/bulmages/bulmasetup/contabilidad.in
@@ -362,6 +362,7 @@ class Contabilidad(Ui_ModificarContabilidadBase, Empresa):
             functions.multios().copy(str(plugins.confopenreports + language + &quot;/extracto.rml&quot;),str(plugins.openreports + &quot;openreports_%s/%s&quot; % (self.database,language)) )
             functions.multios().copy(str(plugins.confopenreports + language + &quot;/plantilla.rml&quot;),str(plugins.openreports + &quot;openreports_%s/%s&quot; % (self.database,language)) )
             functions.multios().copy(str(plugins.confopenreports + language + &quot;/plantilla1.rml&quot;),str(plugins.openreports + &quot;openreports_%s/%s&quot; % (self.database,language)) )
+            functions.multios().copy(str(plugins.confopenreports + language + &quot;/plantilla_empresa.rml&quot;),str(plugins.openreports + &quot;openreports_%s/%s&quot; % (self.database,language)) )
             functions.multios().copy(str(plugins.confopenreports + language + &quot;/estilos.rml&quot;),str(plugins.openreports + &quot;openreports_%s/%s&quot; % (self.database,language)) )
             functions.multios().copy(str(plugins.confopenreports + language + &quot;/listado.rml&quot;),str(plugins.openreports + &quot;openreports_%s/%s&quot; % (self.database,language)) )
             if (os.path.exists(plugins.confopenreports + &quot;es/logo.jpg&quot;)):
diff --git a/bulmages/bulmasetup/facturacion.in b/bulmages/bulmasetup/facturacion.in
index e6f338b..e71086d 100644
--- a/bulmages/bulmasetup/facturacion.in
+++ b/bulmages/bulmasetup/facturacion.in
@@ -140,6 +140,7 @@ class Facturacion(Ui_ModificarFacturacionBase, Empresa):
             functions.multios().copy(str(plugins.confopenreports+ &quot;%s/informereferencia.rml&quot; % language),str(plugins.openreports + &quot;openreports_&quot; + self.database +&quot;/%s/informereferencia.rml&quot; % language) )
             functions.multios().copy(str(plugins.confopenreports+ &quot;%s/plantilla.rml&quot; % language),str(plugins.openreports + &quot;openreports_&quot; + self.database +&quot;/%s/plantilla.rml&quot; % language) )
             functions.multios().copy(str(plugins.confopenreports+ &quot;%s/plantilla1.rml&quot; % language),str(plugins.openreports + &quot;openreports_&quot; + self.database +&quot;/%s/plantilla1.rml&quot; % language) )
+            functions.multios().copy(str(plugins.confopenreports+ &quot;%s/plantilla_empresa.rml&quot; % language),str(plugins.openreports + &quot;openreports_&quot; + self.database +&quot;/%s/plantilla_empresa.rml&quot; % language) )
             functions.multios().copy(str(plugins.confopenreports+ &quot;%s/estilos.rml&quot; % language),str(plugins.openreports + &quot;openreports_&quot; + self.database +&quot;/%s/estilos.rml&quot; % language) )
             functions.multios().copy(str(plugins.confopenreports+ &quot;%s/listado.rml&quot; % language),str(plugins.openreports + &quot;openreports_&quot; + self.database +&quot;/%s/listado.rml&quot; % language) )
             if (os.path.exists(plugins.confopenreports + &quot;es/logo.jpg&quot;)):
diff --git a/bulmages/installbulmages/openreports/ca/estilos.rml b/bulmages/installbulmages/openreports/ca/estilos.rml
index dc13325..a329f63 100644
--- a/bulmages/installbulmages/openreports/ca/estilos.rml
+++ b/bulmages/installbulmages/openreports/ca/estilos.rml
@@ -3,28 +3,34 @@
 &lt;document&gt;
 
 &lt;stylesheet&gt;
+
 	&lt;blockTableStyle id=&quot;cabecera&quot;&gt;	
 		&lt;blockAlignment value=&quot;CENTER&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;blockTextColor colorName=&quot;(0,0,0)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;	
-		&lt;blockBackground colorName=&quot;(0.7,0.7,0.7)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
+		&lt;blockBackground colorName=&quot;(0.18,0.42,0.18)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica&quot; size=&quot;12&quot; start=&quot;0,-1&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;lineStyle kind=&quot;INNERGRID&quot; colorName=&quot;(0.5,0.5,0.5)&quot;  start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;lineStyle kind=&quot;OUTLINE&quot; colorName=&quot;black&quot;  start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;	
 	&lt;/blockTableStyle&gt;
-	&lt;blockTableStyle id=&quot;tablacontenido&quot;&gt;	
-		&lt;blockAlignment value=&quot;RIGHT&quot; start=&quot;2,1&quot; stop=&quot;-1,-1&quot;/&gt;
-		&lt;blockAlignment value=&quot;CENTER&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
-		&lt;blockTextColor colorName=&quot;(0,0,0)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
+
+	&lt;blockTableStyle id=&quot;tablacontenido&quot;&gt;
+		&lt;blockAlignment value=&quot;LEFT&quot; start=&quot;0,0&quot; stop=&quot;1,-1&quot; /&gt;	
+		&lt;blockAlignment value=&quot;RIGHT&quot; /&gt;	
+		&lt;blockTextColor colorName=&quot;(1,1,1)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica-Bold&quot; size=&quot;10&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica&quot; size=&quot;10&quot; start=&quot;0,1&quot; stop=&quot;-1,-1&quot;/&gt;
-		&lt;blockFont name=&quot;Helvetica&quot; size=&quot;8&quot; start=&quot;1,1&quot; stop=&quot;1,-1&quot;/&gt;
-		&lt;blockValign value=&quot;TOP&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
+		&lt;blockAlignment value=&quot;RIGHT&quot; start=&quot;1,1&quot; stop=&quot;-1,-1&quot; /&gt;
+		&lt;blockAlignment value=&quot;LEFT&quot; start=&quot;0,0&quot; stop=&quot;1,-1&quot; /&gt;
+		&lt;blockValign value=&quot;TOP&quot; /&gt;
+		&lt;blockTopPadding length=&quot;1mm&quot; start=&quot;0,1&quot; stop=&quot;-1,-1&quot; /&gt;
+		&lt;!--&lt;lineStyle kind=&quot;GRID&quot; /&gt;--&gt;
 	&lt;/blockTableStyle&gt;
+
 	&lt;blockTableStyle id=&quot;tabladescuento&quot;&gt;
 		&lt;blockAlignment value=&quot;RIGHT&quot; start=&quot;2,1&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;blockAlignment value=&quot;CENTER&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
-		&lt;blockBackground colorName=&quot;(0.7,0.7,0.7)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
+		&lt;blockBackground colorName=&quot;(0.18,0.42,0.18)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockTextColor colorName=&quot;(0,0,0)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;lineStyle kind=&quot;LINEBEFORE&quot; colorName=&quot;(0.5,0.5,0.5)&quot;  start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;lineStyle kind=&quot;LINEBELOW&quot; colorName=&quot;(0,0,0)&quot;  start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
@@ -32,30 +38,96 @@
 		&lt;blockFont name=&quot;Helvetica-Bold&quot; size=&quot;10&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica&quot; size=&quot;10&quot; start=&quot;0,1&quot; stop=&quot;-1,-1&quot;/&gt;
 	&lt;/blockTableStyle&gt;
+
 	&lt;blockTableStyle id=&quot;tablatotales&quot;&gt;	
 		&lt;blockAlignment value=&quot;RIGHT&quot;/&gt;
 		&lt;blockAlignment value=&quot;RIGHT&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
-		&lt;blockTextColor colorName=&quot;(0,0,0)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;	
+		&lt;blockTextColor colorName=&quot;(1,1,1)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;	
 		&lt;blockBackground colorName=&quot;(1,1,1)&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
-		&lt;blockBackground colorName=&quot;(0.7,0.7,0.7)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
+		&lt;blockBackground colorName=&quot;(0.18,0.42,0.18)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica&quot; size=&quot;12&quot; start=&quot;0,-1&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;lineStyle kind=&quot;INNERGRID&quot; colorName=&quot;(0.5,0.5,0.5)&quot;  start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;lineStyle kind=&quot;OUTLINE&quot; colorName=&quot;black&quot;  start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;	
 	&lt;/blockTableStyle&gt;	
+
 	&lt;blockTableStyle id=&quot;tabladetalle1&quot;&gt;
 		&lt;blockAlignment value=&quot;LEFT&quot; start=&quot;0,0&quot; stop=&quot;0,-1&quot;/&gt;
 		&lt;blockAlignment value=&quot;RIGHT&quot; start=&quot;-1,0&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;blockValign value=&quot;TOP&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
-	&lt;/blockTableStyle&gt;	
+	&lt;/blockTableStyle&gt;
+
 	&lt;blockTableStyle id=&quot;tabladetalle2&quot;&gt;
 		&lt;blockAlignment value=&quot;LEFT&quot; start=&quot;0,0&quot; stop=&quot;0,-1&quot;/&gt;
 		&lt;blockAlignment value=&quot;RIGHT&quot; start=&quot;-1,0&quot; stop=&quot;-1,-1&quot;/&gt;	
 		&lt;blockValign value=&quot;TOP&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
 	&lt;/blockTableStyle&gt;
-	&lt;blockTableStyle id=&quot;metatabla&quot;&gt;	
+
+	&lt;blockTableStyle id=&quot;metatabla&quot;&gt;
+		&lt;blockAlignment value=&quot;RIGHT&quot;/&gt;
+	&lt;/blockTableStyle&gt;
+
+	&lt;blockTableStyle id=&quot;total&quot;&gt;
+		&lt;blockValign value=&quot;TOP&quot;/&gt;
+		&lt;blockLeftPadding length=&quot;0mm&quot; /&gt;
+		&lt;lineStyle kind=&quot;LINEBELOW&quot; colorName=&quot;blue&quot; start=&quot;0,1&quot; stop=&quot;-1,1&quot; /&gt;
+		&lt;!--&lt;lineStyle kind=&quot;GRID&quot; /&gt;--&gt;
+	&lt;/blockTableStyle&gt;
+
+	&lt;blockTableStyle id=&quot;titulo&quot;&gt;	
+		&lt;blockFont name=&quot;Helvetica-Bold&quot; /&gt;
+		&lt;blockBackground colorName=&quot;(0.18,0.42,0.18)&quot; /&gt;
+		&lt;blockTextColor colorName=&quot;(1,1,1)&quot; /&gt;
+		&lt;blockAlignment value=&quot;RIGHT&quot; /&gt;
+	&lt;/blockTableStyle&gt;
+
+	&lt;blockTableStyle id=&quot;contenido&quot;&gt;
+		&lt;blockAlignment value=&quot;RIGHT&quot; /&gt;
+		&lt;blockTextColor colorName=&quot;(0,0,0)&quot; /&gt;
+		&lt;blockBottomPadding length=&quot;2mm&quot; /&gt;
+		&lt;blockTopPadding length=&quot;-0.2cm&quot; /&gt;
+		&lt;blockFont name=&quot;Helvetica&quot; size=&quot;10&quot; /&gt;	
+		&lt;blockBottomPadding length=&quot;0mm&quot; start=&quot;0,-1&quot; stop=&quot;-1,-1&quot; /&gt;
+	&lt;/blockTableStyle&gt;
+
+	&lt;blockTableStyle id=&quot;preciofinal&quot;&gt;	
 		&lt;blockAlignment value=&quot;RIGHT&quot;/&gt;
+		&lt;blockFont name=&quot;Helvetica-Bold&quot; size=&quot;15&quot; /&gt;
+		&lt;blockTextColor colorName=&quot;(0,0,0)&quot; /&gt;
+		&lt;blockTopPadding length=&quot;-0.2cm&quot; /&gt;
 	&lt;/blockTableStyle&gt;
+	
+	&lt;paraStyle 
+		name=&quot;paragrafo&quot;
+		fontName=&quot;Helvetica&quot;
+		fontSize=&quot;10&quot;
+		textColor=&quot;black&quot;
+		spaceBefore=&quot;0.0cm&quot;
+		firstLineIndent=&quot;0.0cm&quot;
+		parent=&quot;tablacontenido&quot;
+	/&gt;
+
+	&lt;paraStyle 
+		name=&quot;paragrafo2&quot;
+		fontName=&quot;Helvetica&quot;
+		fontSize=&quot;10&quot;
+		textColor=&quot;black&quot;
+		spaceBefore=&quot;0.0cm&quot;
+		firstLineIndent=&quot;0.0cm&quot;
+		parent=&quot;tablacontenido&quot;
+	/&gt;
+
+	&lt;paraStyle 
+		name=&quot;paragrafo2der&quot;
+		alignment=&quot;RIGHT&quot;
+		fontName=&quot;Helvetica&quot;
+		fontSize=&quot;10&quot;
+		textColor=&quot;black&quot;
+		spaceBefore=&quot;0.0cm&quot;
+		firstLineIndent=&quot;0.0cm&quot;
+		parent=&quot;tablacontenido&quot;
+	/&gt;
+	
 &lt;/stylesheet&gt;
 
-&lt;/document&gt;
\ No newline at end of file
+&lt;/document&gt;
diff --git a/bulmages/installbulmages/openreports/ca/plantilla.rml b/bulmages/installbulmages/openreports/ca/plantilla.rml
index c1872d0..c32cc72 100644
--- a/bulmages/installbulmages/openreports/ca/plantilla.rml
+++ b/bulmages/installbulmages/openreports/ca/plantilla.rml
@@ -2,40 +2,57 @@
 &lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
 &lt;document&gt;
 		&lt;!-- EL LOGO DE CABECERA --&gt;
-		&lt;image x=&quot;1cm&quot; y=&quot;25.9cm&quot; width=&quot;11cm&quot; file=&quot;logo.jpg&quot;/&gt;
+		&lt;image x=&quot;1cm&quot; y=&quot;27cm&quot; width=&quot;8cm&quot; file=&quot;logo.jpg&quot;/&gt;
 
 		&lt;!-- EL PIE DE PAGINA --&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;8&quot;/&gt;		
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;10&quot;/&gt;	
+		&lt;drawString x=&quot;1.1cm&quot; y=&quot;2.8cm&quot;&gt;&lt;/drawString&gt;
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;9&quot;/&gt;		
 		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
 		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;drawString x=&quot;7.3cm&quot; y=&quot;1.2cm&quot;&gt;www.iglues.org -- <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">info en iglues.org</A> --&lt;/drawString&gt;		      
-		&lt;drawString x=&quot;0.3cm&quot; y=&quot;0.2cm&quot;&gt;Estas plantillas son de demostracion.&lt;/drawString&gt;
-
-
-			&lt;!-- EL BORRADOR --&gt;
-			&lt;setFont name=&quot;Helvetica&quot; size=&quot;100&quot;/&gt;
-			&lt;fill color=&quot;(1,0.9,0.9)&quot;/&gt;
-			&lt;stroke color=&quot;(1,0.9,0.9)&quot;/&gt;
-			&lt;translate dx=&quot;15cm&quot; dy=&quot;-5.5cm&quot;/&gt;
-			&lt;rotate degrees=&quot;50&quot;/&gt;
-			&lt;drawString x=&quot;23mm&quot; y=&quot;15.7cm&quot;&gt;BORRADOR&lt;/drawString&gt;
-			&lt;lineMode width=&quot;4mm&quot;/&gt;
-			&lt;rect round=&quot;1cm&quot; x=&quot;18mm&quot; y=&quot;15cm&quot; width=&quot;21cm&quot; height=&quot;4cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;	
-			&lt;rotate degrees=&quot;-50&quot;/&gt;
-			&lt;translate dx=&quot;-15cm&quot; dy=&quot;5.5cm&quot;/&gt;
+
+		&lt;drawString x=&quot;1cm&quot; y=&quot;5.6cm&quot;&gt;&lt;/drawString&gt;
+		&lt;drawString x=&quot;1cm&quot; y=&quot;5.2cm&quot;&gt;&lt;/drawString&gt;
+		&lt;drawString x=&quot;1cm&quot; y=&quot;4.8cm&quot;&gt;&lt;/drawString&gt;
+		&lt;drawString x=&quot;1cm&quot; y=&quot;4.4cm&quot;&gt;&lt;/drawString&gt;
+		&lt;drawString x=&quot;1cm&quot; y=&quot;4.0cm&quot;&gt;&lt;/drawString&gt;
+		&lt;drawString x=&quot;1cm&quot; y=&quot;3.6cm&quot;&gt;&lt;/drawString&gt;
+
+		&lt;drawString x=&quot;1cm&quot; y=&quot;2.4cm&quot;&gt;&lt;/drawString&gt;
+		&lt;drawString x=&quot;1.1cm&quot; y=&quot;2cm&quot;&gt;&lt;/drawString&gt;
+
+
+		&lt;drawCentredString x=&quot;10.5cm&quot; y=&quot;1.3cm&quot;&gt;&lt;/drawCentredString&gt;
+		&lt;drawCentredString x=&quot;10.5cm&quot; y=&quot;1.0cm&quot;&gt;&lt;/drawCentredString&gt;
+
+		&lt;drawString x=&quot;0.5cm&quot; y=&quot;14.85cm&quot;&gt;-&lt;/drawString&gt;
+
 
 		&lt;!-- EL RECUADRO DONDE VA EL CLIENTE --&gt;
-		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
+		&lt;stroke color=&quot;(0.18,0.42,0.18)&quot;/&gt;
 		&lt;lineMode width=&quot;0.3mm&quot;/&gt;
-		&lt;rect round=&quot;0.25cm&quot; x=&quot;8cm&quot; y=&quot;22.4cm&quot; width=&quot;11cm&quot; height=&quot;2.5cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;
+		&lt;!-- EL RECUADRO FECHA --&gt;
+		&lt;rect round=&quot;0.05cm&quot; x=&quot;9.8cm&quot; y=&quot;27.3cm&quot; width=&quot;10cm&quot; height=&quot;1.2cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;
+		&lt;!-- EL RECUADRO CLIENTE --&gt;
+		&lt;rect round=&quot;0.05cm&quot; x=&quot;9.8cm&quot; y=&quot;23.2cm&quot; width=&quot;10cm&quot; height=&quot;3.9cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;
+		&lt;!-- EL RECUADRO FORMA DE PAGO --&gt;
+		&lt;rect round=&quot;0.05cm&quot; x=&quot;1.3cm&quot; y=&quot;25.7cm&quot; width=&quot;8cm&quot; height=&quot;1.1cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;
+		&lt;!-- EL RECUADRO EMPRESA --&gt;
+		&lt;rect round=&quot;0.05cm&quot; x=&quot;1.3cm&quot; y=&quot;23.2cm&quot; width=&quot;8cm&quot; height=&quot;2.3cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;
+
+		&lt;fill color=&quot;(0.18,0.42,0.18)&quot; /&gt;
+		&lt;stroke color=&quot;(0.18,0.42,0.18)&quot; /&gt;
+		&lt;rect x=&quot;1cm&quot; y=&quot;21.8cm&quot; width=&quot;19cm&quot; height=&quot;0.6cm&quot; fill=&quot;yes&quot; stroke=&quot;yes&quot;/&gt;
+		&lt;!--&lt;rect x=&quot;1cm&quot; y=&quot;6.8cm&quot; width=&quot;19cm&quot; height=&quot;0.6cm&quot; fill=&quot;yes&quot; stroke=&quot;no&quot;/&gt;--&gt;
+		&lt;!--&lt;rect x=&quot;1cm&quot; y=&quot;6.4cm&quot; width=&quot;19cm&quot; height=&quot;0.6cm&quot; fill=&quot;no&quot; stroke=&quot;no&quot;/&gt;--&gt;
+&lt;!-- 		&lt;rect x=&quot;1cm&quot; y=&quot;4.3cm&quot; width=&quot;19cm&quot; height=&quot;0.03cm&quot; fill=&quot;yes&quot; stroke=&quot;yes&quot;/&gt; --&gt;
+		&lt;rect x=&quot;1cm&quot; y=&quot;8cm&quot; width=&quot;19cm&quot; height=&quot;0.05cm&quot; fill=&quot;yes&quot; stroke=&quot;yes&quot;/&gt;
+		&lt;rect x=&quot;1cm&quot; y=&quot;22.5cm&quot; width=&quot;19cm&quot; height=&quot;0.05cm&quot; fill=&quot;yes&quot; stroke=&quot;yes&quot;/&gt;
 
-		&lt;fill color=&quot;(0.7,0.7,0.7)&quot;/&gt;
-		&lt;rect x=&quot;1.85cm&quot; y=&quot;19.2cm&quot; width=&quot;17.3cm&quot; height=&quot;0.6cm&quot; fill=&quot;yes&quot; stroke=&quot;no&quot;/&gt;
-		&lt;grid xs=&quot;1.85cm,3.65cm,12.3cm,13.5cm,15.2cm,16.8cm,19.15cm&quot; ys=&quot;19.8cm,5cm&quot;/&gt;
 
-		&lt;!-- EL DETALLE --&gt;
-		&lt;fill color=&quot;(0.7,0.7,0.7)&quot;/&gt;
-		&lt;rect x=&quot;4cm&quot; y=&quot;21cm&quot; width=&quot;15cm&quot; height=&quot;0.8cm&quot; fill=&quot;yes&quot; stroke=&quot;no&quot;/&gt;
-		&lt;grid xs=&quot;4cm,7cm,10cm,13cm,16cm,19cm&quot; ys=&quot;20.2cm,21cm,21.8cm&quot;/&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
+		&lt;fill color=&quot;(0.18,0.42,0.18)&quot;/&gt;
+		&lt;rect x=&quot;9.9cm&quot; y=&quot;26.4cm&quot; width=&quot;9.8cm&quot; height=&quot;0.6cm&quot; fill=&quot;yes&quot; stroke=&quot;no&quot;/&gt;
 
 &lt;/document&gt;
diff --git a/bulmages/installbulmages/openreports/ca/plantilla_empresa.rml b/bulmages/installbulmages/openreports/ca/plantilla_empresa.rml
new file mode 100644
index 0000000..c2eea3f
--- /dev/null
+++ b/bulmages/installbulmages/openreports/ca/plantilla_empresa.rml
@@ -0,0 +1,11 @@
+&lt;!--Datos Empresas--&gt;
+&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+&lt;drawString x=&quot;1.45cm&quot; y=&quot;25.1cm&quot;&gt;&lt;!-- QUERY=&quot;SELECT * FROM configuracion WHERE nombre='NombreEmpresa'&quot; --&gt;[valor]&lt;!-- END QUERY --&gt;&lt;/drawString&gt;
+
+&lt;drawString x=&quot;1.45cm&quot; y=&quot;24.75cm&quot;&gt;&lt;!-- QUERY=&quot;SELECT valor AS val1 FROM configuracion WHERE nombre='CIF'&quot; --&gt;[val1]&lt;!-- END QUERY --&gt;&lt;/drawString&gt;
+
+&lt;drawString x=&quot;1.45cm&quot; y=&quot;24.4cm&quot;&gt;&lt;!-- QUERY=&quot;SELECT valor AS val2 FROM configuracion WHERE nombre='DireccionCompleta'&quot; --&gt;[val2]&lt;!-- END QUERY --&gt;&lt;/drawString&gt;
+
+&lt;drawString x=&quot;1.45cm&quot; y=&quot;24.05cm&quot;&gt;&lt;!-- QUERY=&quot;SELECT valor AS val3 FROM configuracion WHERE nombre='CodPostal'&quot; --&gt;[val3]&lt;!-- END QUERY --&gt; &lt;!-- QUERY=&quot;SELECT valor AS val4 FROM configuracion WHERE nombre='Municipio'&quot; --&gt;[val4]&lt;!-- END QUERY --&gt;&lt;/drawString&gt;
+
+
diff --git a/bulmages/installbulmages/openreports/en/estilos.rml b/bulmages/installbulmages/openreports/en/estilos.rml
index dc13325..a329f63 100644
--- a/bulmages/installbulmages/openreports/en/estilos.rml
+++ b/bulmages/installbulmages/openreports/en/estilos.rml
@@ -3,28 +3,34 @@
 &lt;document&gt;
 
 &lt;stylesheet&gt;
+
 	&lt;blockTableStyle id=&quot;cabecera&quot;&gt;	
 		&lt;blockAlignment value=&quot;CENTER&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;blockTextColor colorName=&quot;(0,0,0)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;	
-		&lt;blockBackground colorName=&quot;(0.7,0.7,0.7)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
+		&lt;blockBackground colorName=&quot;(0.18,0.42,0.18)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica&quot; size=&quot;12&quot; start=&quot;0,-1&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;lineStyle kind=&quot;INNERGRID&quot; colorName=&quot;(0.5,0.5,0.5)&quot;  start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;lineStyle kind=&quot;OUTLINE&quot; colorName=&quot;black&quot;  start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;	
 	&lt;/blockTableStyle&gt;
-	&lt;blockTableStyle id=&quot;tablacontenido&quot;&gt;	
-		&lt;blockAlignment value=&quot;RIGHT&quot; start=&quot;2,1&quot; stop=&quot;-1,-1&quot;/&gt;
-		&lt;blockAlignment value=&quot;CENTER&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
-		&lt;blockTextColor colorName=&quot;(0,0,0)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
+
+	&lt;blockTableStyle id=&quot;tablacontenido&quot;&gt;
+		&lt;blockAlignment value=&quot;LEFT&quot; start=&quot;0,0&quot; stop=&quot;1,-1&quot; /&gt;	
+		&lt;blockAlignment value=&quot;RIGHT&quot; /&gt;	
+		&lt;blockTextColor colorName=&quot;(1,1,1)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica-Bold&quot; size=&quot;10&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica&quot; size=&quot;10&quot; start=&quot;0,1&quot; stop=&quot;-1,-1&quot;/&gt;
-		&lt;blockFont name=&quot;Helvetica&quot; size=&quot;8&quot; start=&quot;1,1&quot; stop=&quot;1,-1&quot;/&gt;
-		&lt;blockValign value=&quot;TOP&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
+		&lt;blockAlignment value=&quot;RIGHT&quot; start=&quot;1,1&quot; stop=&quot;-1,-1&quot; /&gt;
+		&lt;blockAlignment value=&quot;LEFT&quot; start=&quot;0,0&quot; stop=&quot;1,-1&quot; /&gt;
+		&lt;blockValign value=&quot;TOP&quot; /&gt;
+		&lt;blockTopPadding length=&quot;1mm&quot; start=&quot;0,1&quot; stop=&quot;-1,-1&quot; /&gt;
+		&lt;!--&lt;lineStyle kind=&quot;GRID&quot; /&gt;--&gt;
 	&lt;/blockTableStyle&gt;
+
 	&lt;blockTableStyle id=&quot;tabladescuento&quot;&gt;
 		&lt;blockAlignment value=&quot;RIGHT&quot; start=&quot;2,1&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;blockAlignment value=&quot;CENTER&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
-		&lt;blockBackground colorName=&quot;(0.7,0.7,0.7)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
+		&lt;blockBackground colorName=&quot;(0.18,0.42,0.18)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockTextColor colorName=&quot;(0,0,0)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;lineStyle kind=&quot;LINEBEFORE&quot; colorName=&quot;(0.5,0.5,0.5)&quot;  start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;lineStyle kind=&quot;LINEBELOW&quot; colorName=&quot;(0,0,0)&quot;  start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
@@ -32,30 +38,96 @@
 		&lt;blockFont name=&quot;Helvetica-Bold&quot; size=&quot;10&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica&quot; size=&quot;10&quot; start=&quot;0,1&quot; stop=&quot;-1,-1&quot;/&gt;
 	&lt;/blockTableStyle&gt;
+
 	&lt;blockTableStyle id=&quot;tablatotales&quot;&gt;	
 		&lt;blockAlignment value=&quot;RIGHT&quot;/&gt;
 		&lt;blockAlignment value=&quot;RIGHT&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
-		&lt;blockTextColor colorName=&quot;(0,0,0)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;	
+		&lt;blockTextColor colorName=&quot;(1,1,1)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;	
 		&lt;blockBackground colorName=&quot;(1,1,1)&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
-		&lt;blockBackground colorName=&quot;(0.7,0.7,0.7)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
+		&lt;blockBackground colorName=&quot;(0.18,0.42,0.18)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica&quot; size=&quot;12&quot; start=&quot;0,-1&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;lineStyle kind=&quot;INNERGRID&quot; colorName=&quot;(0.5,0.5,0.5)&quot;  start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;lineStyle kind=&quot;OUTLINE&quot; colorName=&quot;black&quot;  start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;	
 	&lt;/blockTableStyle&gt;	
+
 	&lt;blockTableStyle id=&quot;tabladetalle1&quot;&gt;
 		&lt;blockAlignment value=&quot;LEFT&quot; start=&quot;0,0&quot; stop=&quot;0,-1&quot;/&gt;
 		&lt;blockAlignment value=&quot;RIGHT&quot; start=&quot;-1,0&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;blockValign value=&quot;TOP&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
-	&lt;/blockTableStyle&gt;	
+	&lt;/blockTableStyle&gt;
+
 	&lt;blockTableStyle id=&quot;tabladetalle2&quot;&gt;
 		&lt;blockAlignment value=&quot;LEFT&quot; start=&quot;0,0&quot; stop=&quot;0,-1&quot;/&gt;
 		&lt;blockAlignment value=&quot;RIGHT&quot; start=&quot;-1,0&quot; stop=&quot;-1,-1&quot;/&gt;	
 		&lt;blockValign value=&quot;TOP&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
 	&lt;/blockTableStyle&gt;
-	&lt;blockTableStyle id=&quot;metatabla&quot;&gt;	
+
+	&lt;blockTableStyle id=&quot;metatabla&quot;&gt;
+		&lt;blockAlignment value=&quot;RIGHT&quot;/&gt;
+	&lt;/blockTableStyle&gt;
+
+	&lt;blockTableStyle id=&quot;total&quot;&gt;
+		&lt;blockValign value=&quot;TOP&quot;/&gt;
+		&lt;blockLeftPadding length=&quot;0mm&quot; /&gt;
+		&lt;lineStyle kind=&quot;LINEBELOW&quot; colorName=&quot;blue&quot; start=&quot;0,1&quot; stop=&quot;-1,1&quot; /&gt;
+		&lt;!--&lt;lineStyle kind=&quot;GRID&quot; /&gt;--&gt;
+	&lt;/blockTableStyle&gt;
+
+	&lt;blockTableStyle id=&quot;titulo&quot;&gt;	
+		&lt;blockFont name=&quot;Helvetica-Bold&quot; /&gt;
+		&lt;blockBackground colorName=&quot;(0.18,0.42,0.18)&quot; /&gt;
+		&lt;blockTextColor colorName=&quot;(1,1,1)&quot; /&gt;
+		&lt;blockAlignment value=&quot;RIGHT&quot; /&gt;
+	&lt;/blockTableStyle&gt;
+
+	&lt;blockTableStyle id=&quot;contenido&quot;&gt;
+		&lt;blockAlignment value=&quot;RIGHT&quot; /&gt;
+		&lt;blockTextColor colorName=&quot;(0,0,0)&quot; /&gt;
+		&lt;blockBottomPadding length=&quot;2mm&quot; /&gt;
+		&lt;blockTopPadding length=&quot;-0.2cm&quot; /&gt;
+		&lt;blockFont name=&quot;Helvetica&quot; size=&quot;10&quot; /&gt;	
+		&lt;blockBottomPadding length=&quot;0mm&quot; start=&quot;0,-1&quot; stop=&quot;-1,-1&quot; /&gt;
+	&lt;/blockTableStyle&gt;
+
+	&lt;blockTableStyle id=&quot;preciofinal&quot;&gt;	
 		&lt;blockAlignment value=&quot;RIGHT&quot;/&gt;
+		&lt;blockFont name=&quot;Helvetica-Bold&quot; size=&quot;15&quot; /&gt;
+		&lt;blockTextColor colorName=&quot;(0,0,0)&quot; /&gt;
+		&lt;blockTopPadding length=&quot;-0.2cm&quot; /&gt;
 	&lt;/blockTableStyle&gt;
+	
+	&lt;paraStyle 
+		name=&quot;paragrafo&quot;
+		fontName=&quot;Helvetica&quot;
+		fontSize=&quot;10&quot;
+		textColor=&quot;black&quot;
+		spaceBefore=&quot;0.0cm&quot;
+		firstLineIndent=&quot;0.0cm&quot;
+		parent=&quot;tablacontenido&quot;
+	/&gt;
+
+	&lt;paraStyle 
+		name=&quot;paragrafo2&quot;
+		fontName=&quot;Helvetica&quot;
+		fontSize=&quot;10&quot;
+		textColor=&quot;black&quot;
+		spaceBefore=&quot;0.0cm&quot;
+		firstLineIndent=&quot;0.0cm&quot;
+		parent=&quot;tablacontenido&quot;
+	/&gt;
+
+	&lt;paraStyle 
+		name=&quot;paragrafo2der&quot;
+		alignment=&quot;RIGHT&quot;
+		fontName=&quot;Helvetica&quot;
+		fontSize=&quot;10&quot;
+		textColor=&quot;black&quot;
+		spaceBefore=&quot;0.0cm&quot;
+		firstLineIndent=&quot;0.0cm&quot;
+		parent=&quot;tablacontenido&quot;
+	/&gt;
+	
 &lt;/stylesheet&gt;
 
-&lt;/document&gt;
\ No newline at end of file
+&lt;/document&gt;
diff --git a/bulmages/installbulmages/openreports/en/plantilla.rml b/bulmages/installbulmages/openreports/en/plantilla.rml
index c1872d0..c32cc72 100644
--- a/bulmages/installbulmages/openreports/en/plantilla.rml
+++ b/bulmages/installbulmages/openreports/en/plantilla.rml
@@ -2,40 +2,57 @@
 &lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
 &lt;document&gt;
 		&lt;!-- EL LOGO DE CABECERA --&gt;
-		&lt;image x=&quot;1cm&quot; y=&quot;25.9cm&quot; width=&quot;11cm&quot; file=&quot;logo.jpg&quot;/&gt;
+		&lt;image x=&quot;1cm&quot; y=&quot;27cm&quot; width=&quot;8cm&quot; file=&quot;logo.jpg&quot;/&gt;
 
 		&lt;!-- EL PIE DE PAGINA --&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;8&quot;/&gt;		
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;10&quot;/&gt;	
+		&lt;drawString x=&quot;1.1cm&quot; y=&quot;2.8cm&quot;&gt;&lt;/drawString&gt;
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;9&quot;/&gt;		
 		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
 		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;drawString x=&quot;7.3cm&quot; y=&quot;1.2cm&quot;&gt;www.iglues.org -- <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">info en iglues.org</A> --&lt;/drawString&gt;		      
-		&lt;drawString x=&quot;0.3cm&quot; y=&quot;0.2cm&quot;&gt;Estas plantillas son de demostracion.&lt;/drawString&gt;
-
-
-			&lt;!-- EL BORRADOR --&gt;
-			&lt;setFont name=&quot;Helvetica&quot; size=&quot;100&quot;/&gt;
-			&lt;fill color=&quot;(1,0.9,0.9)&quot;/&gt;
-			&lt;stroke color=&quot;(1,0.9,0.9)&quot;/&gt;
-			&lt;translate dx=&quot;15cm&quot; dy=&quot;-5.5cm&quot;/&gt;
-			&lt;rotate degrees=&quot;50&quot;/&gt;
-			&lt;drawString x=&quot;23mm&quot; y=&quot;15.7cm&quot;&gt;BORRADOR&lt;/drawString&gt;
-			&lt;lineMode width=&quot;4mm&quot;/&gt;
-			&lt;rect round=&quot;1cm&quot; x=&quot;18mm&quot; y=&quot;15cm&quot; width=&quot;21cm&quot; height=&quot;4cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;	
-			&lt;rotate degrees=&quot;-50&quot;/&gt;
-			&lt;translate dx=&quot;-15cm&quot; dy=&quot;5.5cm&quot;/&gt;
+
+		&lt;drawString x=&quot;1cm&quot; y=&quot;5.6cm&quot;&gt;&lt;/drawString&gt;
+		&lt;drawString x=&quot;1cm&quot; y=&quot;5.2cm&quot;&gt;&lt;/drawString&gt;
+		&lt;drawString x=&quot;1cm&quot; y=&quot;4.8cm&quot;&gt;&lt;/drawString&gt;
+		&lt;drawString x=&quot;1cm&quot; y=&quot;4.4cm&quot;&gt;&lt;/drawString&gt;
+		&lt;drawString x=&quot;1cm&quot; y=&quot;4.0cm&quot;&gt;&lt;/drawString&gt;
+		&lt;drawString x=&quot;1cm&quot; y=&quot;3.6cm&quot;&gt;&lt;/drawString&gt;
+
+		&lt;drawString x=&quot;1cm&quot; y=&quot;2.4cm&quot;&gt;&lt;/drawString&gt;
+		&lt;drawString x=&quot;1.1cm&quot; y=&quot;2cm&quot;&gt;&lt;/drawString&gt;
+
+
+		&lt;drawCentredString x=&quot;10.5cm&quot; y=&quot;1.3cm&quot;&gt;&lt;/drawCentredString&gt;
+		&lt;drawCentredString x=&quot;10.5cm&quot; y=&quot;1.0cm&quot;&gt;&lt;/drawCentredString&gt;
+
+		&lt;drawString x=&quot;0.5cm&quot; y=&quot;14.85cm&quot;&gt;-&lt;/drawString&gt;
+
 
 		&lt;!-- EL RECUADRO DONDE VA EL CLIENTE --&gt;
-		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
+		&lt;stroke color=&quot;(0.18,0.42,0.18)&quot;/&gt;
 		&lt;lineMode width=&quot;0.3mm&quot;/&gt;
-		&lt;rect round=&quot;0.25cm&quot; x=&quot;8cm&quot; y=&quot;22.4cm&quot; width=&quot;11cm&quot; height=&quot;2.5cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;
+		&lt;!-- EL RECUADRO FECHA --&gt;
+		&lt;rect round=&quot;0.05cm&quot; x=&quot;9.8cm&quot; y=&quot;27.3cm&quot; width=&quot;10cm&quot; height=&quot;1.2cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;
+		&lt;!-- EL RECUADRO CLIENTE --&gt;
+		&lt;rect round=&quot;0.05cm&quot; x=&quot;9.8cm&quot; y=&quot;23.2cm&quot; width=&quot;10cm&quot; height=&quot;3.9cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;
+		&lt;!-- EL RECUADRO FORMA DE PAGO --&gt;
+		&lt;rect round=&quot;0.05cm&quot; x=&quot;1.3cm&quot; y=&quot;25.7cm&quot; width=&quot;8cm&quot; height=&quot;1.1cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;
+		&lt;!-- EL RECUADRO EMPRESA --&gt;
+		&lt;rect round=&quot;0.05cm&quot; x=&quot;1.3cm&quot; y=&quot;23.2cm&quot; width=&quot;8cm&quot; height=&quot;2.3cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;
+
+		&lt;fill color=&quot;(0.18,0.42,0.18)&quot; /&gt;
+		&lt;stroke color=&quot;(0.18,0.42,0.18)&quot; /&gt;
+		&lt;rect x=&quot;1cm&quot; y=&quot;21.8cm&quot; width=&quot;19cm&quot; height=&quot;0.6cm&quot; fill=&quot;yes&quot; stroke=&quot;yes&quot;/&gt;
+		&lt;!--&lt;rect x=&quot;1cm&quot; y=&quot;6.8cm&quot; width=&quot;19cm&quot; height=&quot;0.6cm&quot; fill=&quot;yes&quot; stroke=&quot;no&quot;/&gt;--&gt;
+		&lt;!--&lt;rect x=&quot;1cm&quot; y=&quot;6.4cm&quot; width=&quot;19cm&quot; height=&quot;0.6cm&quot; fill=&quot;no&quot; stroke=&quot;no&quot;/&gt;--&gt;
+&lt;!-- 		&lt;rect x=&quot;1cm&quot; y=&quot;4.3cm&quot; width=&quot;19cm&quot; height=&quot;0.03cm&quot; fill=&quot;yes&quot; stroke=&quot;yes&quot;/&gt; --&gt;
+		&lt;rect x=&quot;1cm&quot; y=&quot;8cm&quot; width=&quot;19cm&quot; height=&quot;0.05cm&quot; fill=&quot;yes&quot; stroke=&quot;yes&quot;/&gt;
+		&lt;rect x=&quot;1cm&quot; y=&quot;22.5cm&quot; width=&quot;19cm&quot; height=&quot;0.05cm&quot; fill=&quot;yes&quot; stroke=&quot;yes&quot;/&gt;
 
-		&lt;fill color=&quot;(0.7,0.7,0.7)&quot;/&gt;
-		&lt;rect x=&quot;1.85cm&quot; y=&quot;19.2cm&quot; width=&quot;17.3cm&quot; height=&quot;0.6cm&quot; fill=&quot;yes&quot; stroke=&quot;no&quot;/&gt;
-		&lt;grid xs=&quot;1.85cm,3.65cm,12.3cm,13.5cm,15.2cm,16.8cm,19.15cm&quot; ys=&quot;19.8cm,5cm&quot;/&gt;
 
-		&lt;!-- EL DETALLE --&gt;
-		&lt;fill color=&quot;(0.7,0.7,0.7)&quot;/&gt;
-		&lt;rect x=&quot;4cm&quot; y=&quot;21cm&quot; width=&quot;15cm&quot; height=&quot;0.8cm&quot; fill=&quot;yes&quot; stroke=&quot;no&quot;/&gt;
-		&lt;grid xs=&quot;4cm,7cm,10cm,13cm,16cm,19cm&quot; ys=&quot;20.2cm,21cm,21.8cm&quot;/&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
+		&lt;fill color=&quot;(0.18,0.42,0.18)&quot;/&gt;
+		&lt;rect x=&quot;9.9cm&quot; y=&quot;26.4cm&quot; width=&quot;9.8cm&quot; height=&quot;0.6cm&quot; fill=&quot;yes&quot; stroke=&quot;no&quot;/&gt;
 
 &lt;/document&gt;
diff --git a/bulmages/installbulmages/openreports/en/plantilla_empresa.rml b/bulmages/installbulmages/openreports/en/plantilla_empresa.rml
new file mode 100644
index 0000000..c2eea3f
--- /dev/null
+++ b/bulmages/installbulmages/openreports/en/plantilla_empresa.rml
@@ -0,0 +1,11 @@
+&lt;!--Datos Empresas--&gt;
+&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+&lt;drawString x=&quot;1.45cm&quot; y=&quot;25.1cm&quot;&gt;&lt;!-- QUERY=&quot;SELECT * FROM configuracion WHERE nombre='NombreEmpresa'&quot; --&gt;[valor]&lt;!-- END QUERY --&gt;&lt;/drawString&gt;
+
+&lt;drawString x=&quot;1.45cm&quot; y=&quot;24.75cm&quot;&gt;&lt;!-- QUERY=&quot;SELECT valor AS val1 FROM configuracion WHERE nombre='CIF'&quot; --&gt;[val1]&lt;!-- END QUERY --&gt;&lt;/drawString&gt;
+
+&lt;drawString x=&quot;1.45cm&quot; y=&quot;24.4cm&quot;&gt;&lt;!-- QUERY=&quot;SELECT valor AS val2 FROM configuracion WHERE nombre='DireccionCompleta'&quot; --&gt;[val2]&lt;!-- END QUERY --&gt;&lt;/drawString&gt;
+
+&lt;drawString x=&quot;1.45cm&quot; y=&quot;24.05cm&quot;&gt;&lt;!-- QUERY=&quot;SELECT valor AS val3 FROM configuracion WHERE nombre='CodPostal'&quot; --&gt;[val3]&lt;!-- END QUERY --&gt; &lt;!-- QUERY=&quot;SELECT valor AS val4 FROM configuracion WHERE nombre='Municipio'&quot; --&gt;[val4]&lt;!-- END QUERY --&gt;&lt;/drawString&gt;
+
+
diff --git a/bulmages/installbulmages/openreports/es/estilos.rml b/bulmages/installbulmages/openreports/es/estilos.rml
index dc13325..a329f63 100644
--- a/bulmages/installbulmages/openreports/es/estilos.rml
+++ b/bulmages/installbulmages/openreports/es/estilos.rml
@@ -3,28 +3,34 @@
 &lt;document&gt;
 
 &lt;stylesheet&gt;
+
 	&lt;blockTableStyle id=&quot;cabecera&quot;&gt;	
 		&lt;blockAlignment value=&quot;CENTER&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;blockTextColor colorName=&quot;(0,0,0)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;	
-		&lt;blockBackground colorName=&quot;(0.7,0.7,0.7)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
+		&lt;blockBackground colorName=&quot;(0.18,0.42,0.18)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica&quot; size=&quot;12&quot; start=&quot;0,-1&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;lineStyle kind=&quot;INNERGRID&quot; colorName=&quot;(0.5,0.5,0.5)&quot;  start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;lineStyle kind=&quot;OUTLINE&quot; colorName=&quot;black&quot;  start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;	
 	&lt;/blockTableStyle&gt;
-	&lt;blockTableStyle id=&quot;tablacontenido&quot;&gt;	
-		&lt;blockAlignment value=&quot;RIGHT&quot; start=&quot;2,1&quot; stop=&quot;-1,-1&quot;/&gt;
-		&lt;blockAlignment value=&quot;CENTER&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
-		&lt;blockTextColor colorName=&quot;(0,0,0)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
+
+	&lt;blockTableStyle id=&quot;tablacontenido&quot;&gt;
+		&lt;blockAlignment value=&quot;LEFT&quot; start=&quot;0,0&quot; stop=&quot;1,-1&quot; /&gt;	
+		&lt;blockAlignment value=&quot;RIGHT&quot; /&gt;	
+		&lt;blockTextColor colorName=&quot;(1,1,1)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica-Bold&quot; size=&quot;10&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica&quot; size=&quot;10&quot; start=&quot;0,1&quot; stop=&quot;-1,-1&quot;/&gt;
-		&lt;blockFont name=&quot;Helvetica&quot; size=&quot;8&quot; start=&quot;1,1&quot; stop=&quot;1,-1&quot;/&gt;
-		&lt;blockValign value=&quot;TOP&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
+		&lt;blockAlignment value=&quot;RIGHT&quot; start=&quot;1,1&quot; stop=&quot;-1,-1&quot; /&gt;
+		&lt;blockAlignment value=&quot;LEFT&quot; start=&quot;0,0&quot; stop=&quot;1,-1&quot; /&gt;
+		&lt;blockValign value=&quot;TOP&quot; /&gt;
+		&lt;blockTopPadding length=&quot;1mm&quot; start=&quot;0,1&quot; stop=&quot;-1,-1&quot; /&gt;
+		&lt;!--&lt;lineStyle kind=&quot;GRID&quot; /&gt;--&gt;
 	&lt;/blockTableStyle&gt;
+
 	&lt;blockTableStyle id=&quot;tabladescuento&quot;&gt;
 		&lt;blockAlignment value=&quot;RIGHT&quot; start=&quot;2,1&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;blockAlignment value=&quot;CENTER&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
-		&lt;blockBackground colorName=&quot;(0.7,0.7,0.7)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
+		&lt;blockBackground colorName=&quot;(0.18,0.42,0.18)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockTextColor colorName=&quot;(0,0,0)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;lineStyle kind=&quot;LINEBEFORE&quot; colorName=&quot;(0.5,0.5,0.5)&quot;  start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;lineStyle kind=&quot;LINEBELOW&quot; colorName=&quot;(0,0,0)&quot;  start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
@@ -32,30 +38,96 @@
 		&lt;blockFont name=&quot;Helvetica-Bold&quot; size=&quot;10&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica&quot; size=&quot;10&quot; start=&quot;0,1&quot; stop=&quot;-1,-1&quot;/&gt;
 	&lt;/blockTableStyle&gt;
+
 	&lt;blockTableStyle id=&quot;tablatotales&quot;&gt;	
 		&lt;blockAlignment value=&quot;RIGHT&quot;/&gt;
 		&lt;blockAlignment value=&quot;RIGHT&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
-		&lt;blockTextColor colorName=&quot;(0,0,0)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;	
+		&lt;blockTextColor colorName=&quot;(1,1,1)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;	
 		&lt;blockBackground colorName=&quot;(1,1,1)&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
-		&lt;blockBackground colorName=&quot;(0.7,0.7,0.7)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
+		&lt;blockBackground colorName=&quot;(0.18,0.42,0.18)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica&quot; size=&quot;12&quot; start=&quot;0,-1&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;lineStyle kind=&quot;INNERGRID&quot; colorName=&quot;(0.5,0.5,0.5)&quot;  start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;lineStyle kind=&quot;OUTLINE&quot; colorName=&quot;black&quot;  start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;	
 	&lt;/blockTableStyle&gt;	
+
 	&lt;blockTableStyle id=&quot;tabladetalle1&quot;&gt;
 		&lt;blockAlignment value=&quot;LEFT&quot; start=&quot;0,0&quot; stop=&quot;0,-1&quot;/&gt;
 		&lt;blockAlignment value=&quot;RIGHT&quot; start=&quot;-1,0&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;blockValign value=&quot;TOP&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
-	&lt;/blockTableStyle&gt;	
+	&lt;/blockTableStyle&gt;
+
 	&lt;blockTableStyle id=&quot;tabladetalle2&quot;&gt;
 		&lt;blockAlignment value=&quot;LEFT&quot; start=&quot;0,0&quot; stop=&quot;0,-1&quot;/&gt;
 		&lt;blockAlignment value=&quot;RIGHT&quot; start=&quot;-1,0&quot; stop=&quot;-1,-1&quot;/&gt;	
 		&lt;blockValign value=&quot;TOP&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
 	&lt;/blockTableStyle&gt;
-	&lt;blockTableStyle id=&quot;metatabla&quot;&gt;	
+
+	&lt;blockTableStyle id=&quot;metatabla&quot;&gt;
+		&lt;blockAlignment value=&quot;RIGHT&quot;/&gt;
+	&lt;/blockTableStyle&gt;
+
+	&lt;blockTableStyle id=&quot;total&quot;&gt;
+		&lt;blockValign value=&quot;TOP&quot;/&gt;
+		&lt;blockLeftPadding length=&quot;0mm&quot; /&gt;
+		&lt;lineStyle kind=&quot;LINEBELOW&quot; colorName=&quot;blue&quot; start=&quot;0,1&quot; stop=&quot;-1,1&quot; /&gt;
+		&lt;!--&lt;lineStyle kind=&quot;GRID&quot; /&gt;--&gt;
+	&lt;/blockTableStyle&gt;
+
+	&lt;blockTableStyle id=&quot;titulo&quot;&gt;	
+		&lt;blockFont name=&quot;Helvetica-Bold&quot; /&gt;
+		&lt;blockBackground colorName=&quot;(0.18,0.42,0.18)&quot; /&gt;
+		&lt;blockTextColor colorName=&quot;(1,1,1)&quot; /&gt;
+		&lt;blockAlignment value=&quot;RIGHT&quot; /&gt;
+	&lt;/blockTableStyle&gt;
+
+	&lt;blockTableStyle id=&quot;contenido&quot;&gt;
+		&lt;blockAlignment value=&quot;RIGHT&quot; /&gt;
+		&lt;blockTextColor colorName=&quot;(0,0,0)&quot; /&gt;
+		&lt;blockBottomPadding length=&quot;2mm&quot; /&gt;
+		&lt;blockTopPadding length=&quot;-0.2cm&quot; /&gt;
+		&lt;blockFont name=&quot;Helvetica&quot; size=&quot;10&quot; /&gt;	
+		&lt;blockBottomPadding length=&quot;0mm&quot; start=&quot;0,-1&quot; stop=&quot;-1,-1&quot; /&gt;
+	&lt;/blockTableStyle&gt;
+
+	&lt;blockTableStyle id=&quot;preciofinal&quot;&gt;	
 		&lt;blockAlignment value=&quot;RIGHT&quot;/&gt;
+		&lt;blockFont name=&quot;Helvetica-Bold&quot; size=&quot;15&quot; /&gt;
+		&lt;blockTextColor colorName=&quot;(0,0,0)&quot; /&gt;
+		&lt;blockTopPadding length=&quot;-0.2cm&quot; /&gt;
 	&lt;/blockTableStyle&gt;
+	
+	&lt;paraStyle 
+		name=&quot;paragrafo&quot;
+		fontName=&quot;Helvetica&quot;
+		fontSize=&quot;10&quot;
+		textColor=&quot;black&quot;
+		spaceBefore=&quot;0.0cm&quot;
+		firstLineIndent=&quot;0.0cm&quot;
+		parent=&quot;tablacontenido&quot;
+	/&gt;
+
+	&lt;paraStyle 
+		name=&quot;paragrafo2&quot;
+		fontName=&quot;Helvetica&quot;
+		fontSize=&quot;10&quot;
+		textColor=&quot;black&quot;
+		spaceBefore=&quot;0.0cm&quot;
+		firstLineIndent=&quot;0.0cm&quot;
+		parent=&quot;tablacontenido&quot;
+	/&gt;
+
+	&lt;paraStyle 
+		name=&quot;paragrafo2der&quot;
+		alignment=&quot;RIGHT&quot;
+		fontName=&quot;Helvetica&quot;
+		fontSize=&quot;10&quot;
+		textColor=&quot;black&quot;
+		spaceBefore=&quot;0.0cm&quot;
+		firstLineIndent=&quot;0.0cm&quot;
+		parent=&quot;tablacontenido&quot;
+	/&gt;
+	
 &lt;/stylesheet&gt;
 
-&lt;/document&gt;
\ No newline at end of file
+&lt;/document&gt;
diff --git a/bulmages/installbulmages/openreports/es/plantilla.rml b/bulmages/installbulmages/openreports/es/plantilla.rml
index c1872d0..c32cc72 100644
--- a/bulmages/installbulmages/openreports/es/plantilla.rml
+++ b/bulmages/installbulmages/openreports/es/plantilla.rml
@@ -2,40 +2,57 @@
 &lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
 &lt;document&gt;
 		&lt;!-- EL LOGO DE CABECERA --&gt;
-		&lt;image x=&quot;1cm&quot; y=&quot;25.9cm&quot; width=&quot;11cm&quot; file=&quot;logo.jpg&quot;/&gt;
+		&lt;image x=&quot;1cm&quot; y=&quot;27cm&quot; width=&quot;8cm&quot; file=&quot;logo.jpg&quot;/&gt;
 
 		&lt;!-- EL PIE DE PAGINA --&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;8&quot;/&gt;		
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;10&quot;/&gt;	
+		&lt;drawString x=&quot;1.1cm&quot; y=&quot;2.8cm&quot;&gt;&lt;/drawString&gt;
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;9&quot;/&gt;		
 		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
 		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;drawString x=&quot;7.3cm&quot; y=&quot;1.2cm&quot;&gt;www.iglues.org -- <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">info en iglues.org</A> --&lt;/drawString&gt;		      
-		&lt;drawString x=&quot;0.3cm&quot; y=&quot;0.2cm&quot;&gt;Estas plantillas son de demostracion.&lt;/drawString&gt;
-
-
-			&lt;!-- EL BORRADOR --&gt;
-			&lt;setFont name=&quot;Helvetica&quot; size=&quot;100&quot;/&gt;
-			&lt;fill color=&quot;(1,0.9,0.9)&quot;/&gt;
-			&lt;stroke color=&quot;(1,0.9,0.9)&quot;/&gt;
-			&lt;translate dx=&quot;15cm&quot; dy=&quot;-5.5cm&quot;/&gt;
-			&lt;rotate degrees=&quot;50&quot;/&gt;
-			&lt;drawString x=&quot;23mm&quot; y=&quot;15.7cm&quot;&gt;BORRADOR&lt;/drawString&gt;
-			&lt;lineMode width=&quot;4mm&quot;/&gt;
-			&lt;rect round=&quot;1cm&quot; x=&quot;18mm&quot; y=&quot;15cm&quot; width=&quot;21cm&quot; height=&quot;4cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;	
-			&lt;rotate degrees=&quot;-50&quot;/&gt;
-			&lt;translate dx=&quot;-15cm&quot; dy=&quot;5.5cm&quot;/&gt;
+
+		&lt;drawString x=&quot;1cm&quot; y=&quot;5.6cm&quot;&gt;&lt;/drawString&gt;
+		&lt;drawString x=&quot;1cm&quot; y=&quot;5.2cm&quot;&gt;&lt;/drawString&gt;
+		&lt;drawString x=&quot;1cm&quot; y=&quot;4.8cm&quot;&gt;&lt;/drawString&gt;
+		&lt;drawString x=&quot;1cm&quot; y=&quot;4.4cm&quot;&gt;&lt;/drawString&gt;
+		&lt;drawString x=&quot;1cm&quot; y=&quot;4.0cm&quot;&gt;&lt;/drawString&gt;
+		&lt;drawString x=&quot;1cm&quot; y=&quot;3.6cm&quot;&gt;&lt;/drawString&gt;
+
+		&lt;drawString x=&quot;1cm&quot; y=&quot;2.4cm&quot;&gt;&lt;/drawString&gt;
+		&lt;drawString x=&quot;1.1cm&quot; y=&quot;2cm&quot;&gt;&lt;/drawString&gt;
+
+
+		&lt;drawCentredString x=&quot;10.5cm&quot; y=&quot;1.3cm&quot;&gt;&lt;/drawCentredString&gt;
+		&lt;drawCentredString x=&quot;10.5cm&quot; y=&quot;1.0cm&quot;&gt;&lt;/drawCentredString&gt;
+
+		&lt;drawString x=&quot;0.5cm&quot; y=&quot;14.85cm&quot;&gt;-&lt;/drawString&gt;
+
 
 		&lt;!-- EL RECUADRO DONDE VA EL CLIENTE --&gt;
-		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
+		&lt;stroke color=&quot;(0.18,0.42,0.18)&quot;/&gt;
 		&lt;lineMode width=&quot;0.3mm&quot;/&gt;
-		&lt;rect round=&quot;0.25cm&quot; x=&quot;8cm&quot; y=&quot;22.4cm&quot; width=&quot;11cm&quot; height=&quot;2.5cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;
+		&lt;!-- EL RECUADRO FECHA --&gt;
+		&lt;rect round=&quot;0.05cm&quot; x=&quot;9.8cm&quot; y=&quot;27.3cm&quot; width=&quot;10cm&quot; height=&quot;1.2cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;
+		&lt;!-- EL RECUADRO CLIENTE --&gt;
+		&lt;rect round=&quot;0.05cm&quot; x=&quot;9.8cm&quot; y=&quot;23.2cm&quot; width=&quot;10cm&quot; height=&quot;3.9cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;
+		&lt;!-- EL RECUADRO FORMA DE PAGO --&gt;
+		&lt;rect round=&quot;0.05cm&quot; x=&quot;1.3cm&quot; y=&quot;25.7cm&quot; width=&quot;8cm&quot; height=&quot;1.1cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;
+		&lt;!-- EL RECUADRO EMPRESA --&gt;
+		&lt;rect round=&quot;0.05cm&quot; x=&quot;1.3cm&quot; y=&quot;23.2cm&quot; width=&quot;8cm&quot; height=&quot;2.3cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;
+
+		&lt;fill color=&quot;(0.18,0.42,0.18)&quot; /&gt;
+		&lt;stroke color=&quot;(0.18,0.42,0.18)&quot; /&gt;
+		&lt;rect x=&quot;1cm&quot; y=&quot;21.8cm&quot; width=&quot;19cm&quot; height=&quot;0.6cm&quot; fill=&quot;yes&quot; stroke=&quot;yes&quot;/&gt;
+		&lt;!--&lt;rect x=&quot;1cm&quot; y=&quot;6.8cm&quot; width=&quot;19cm&quot; height=&quot;0.6cm&quot; fill=&quot;yes&quot; stroke=&quot;no&quot;/&gt;--&gt;
+		&lt;!--&lt;rect x=&quot;1cm&quot; y=&quot;6.4cm&quot; width=&quot;19cm&quot; height=&quot;0.6cm&quot; fill=&quot;no&quot; stroke=&quot;no&quot;/&gt;--&gt;
+&lt;!-- 		&lt;rect x=&quot;1cm&quot; y=&quot;4.3cm&quot; width=&quot;19cm&quot; height=&quot;0.03cm&quot; fill=&quot;yes&quot; stroke=&quot;yes&quot;/&gt; --&gt;
+		&lt;rect x=&quot;1cm&quot; y=&quot;8cm&quot; width=&quot;19cm&quot; height=&quot;0.05cm&quot; fill=&quot;yes&quot; stroke=&quot;yes&quot;/&gt;
+		&lt;rect x=&quot;1cm&quot; y=&quot;22.5cm&quot; width=&quot;19cm&quot; height=&quot;0.05cm&quot; fill=&quot;yes&quot; stroke=&quot;yes&quot;/&gt;
 
-		&lt;fill color=&quot;(0.7,0.7,0.7)&quot;/&gt;
-		&lt;rect x=&quot;1.85cm&quot; y=&quot;19.2cm&quot; width=&quot;17.3cm&quot; height=&quot;0.6cm&quot; fill=&quot;yes&quot; stroke=&quot;no&quot;/&gt;
-		&lt;grid xs=&quot;1.85cm,3.65cm,12.3cm,13.5cm,15.2cm,16.8cm,19.15cm&quot; ys=&quot;19.8cm,5cm&quot;/&gt;
 
-		&lt;!-- EL DETALLE --&gt;
-		&lt;fill color=&quot;(0.7,0.7,0.7)&quot;/&gt;
-		&lt;rect x=&quot;4cm&quot; y=&quot;21cm&quot; width=&quot;15cm&quot; height=&quot;0.8cm&quot; fill=&quot;yes&quot; stroke=&quot;no&quot;/&gt;
-		&lt;grid xs=&quot;4cm,7cm,10cm,13cm,16cm,19cm&quot; ys=&quot;20.2cm,21cm,21.8cm&quot;/&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
+		&lt;fill color=&quot;(0.18,0.42,0.18)&quot;/&gt;
+		&lt;rect x=&quot;9.9cm&quot; y=&quot;26.4cm&quot; width=&quot;9.8cm&quot; height=&quot;0.6cm&quot; fill=&quot;yes&quot; stroke=&quot;no&quot;/&gt;
 
 &lt;/document&gt;
diff --git a/bulmages/installbulmages/openreports/es/plantilla_empresa.rml b/bulmages/installbulmages/openreports/es/plantilla_empresa.rml
new file mode 100644
index 0000000..c2eea3f
--- /dev/null
+++ b/bulmages/installbulmages/openreports/es/plantilla_empresa.rml
@@ -0,0 +1,11 @@
+&lt;!--Datos Empresas--&gt;
+&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+&lt;drawString x=&quot;1.45cm&quot; y=&quot;25.1cm&quot;&gt;&lt;!-- QUERY=&quot;SELECT * FROM configuracion WHERE nombre='NombreEmpresa'&quot; --&gt;[valor]&lt;!-- END QUERY --&gt;&lt;/drawString&gt;
+
+&lt;drawString x=&quot;1.45cm&quot; y=&quot;24.75cm&quot;&gt;&lt;!-- QUERY=&quot;SELECT valor AS val1 FROM configuracion WHERE nombre='CIF'&quot; --&gt;[val1]&lt;!-- END QUERY --&gt;&lt;/drawString&gt;
+
+&lt;drawString x=&quot;1.45cm&quot; y=&quot;24.4cm&quot;&gt;&lt;!-- QUERY=&quot;SELECT valor AS val2 FROM configuracion WHERE nombre='DireccionCompleta'&quot; --&gt;[val2]&lt;!-- END QUERY --&gt;&lt;/drawString&gt;
+
+&lt;drawString x=&quot;1.45cm&quot; y=&quot;24.05cm&quot;&gt;&lt;!-- QUERY=&quot;SELECT valor AS val3 FROM configuracion WHERE nombre='CodPostal'&quot; --&gt;[val3]&lt;!-- END QUERY --&gt; &lt;!-- QUERY=&quot;SELECT valor AS val4 FROM configuracion WHERE nombre='Municipio'&quot; --&gt;[val4]&lt;!-- END QUERY --&gt;&lt;/drawString&gt;
+
+
diff --git a/bulmages/installbulmages/openreports/fr/estilos.rml b/bulmages/installbulmages/openreports/fr/estilos.rml
index dc13325..a329f63 100644
--- a/bulmages/installbulmages/openreports/fr/estilos.rml
+++ b/bulmages/installbulmages/openreports/fr/estilos.rml
@@ -3,28 +3,34 @@
 &lt;document&gt;
 
 &lt;stylesheet&gt;
+
 	&lt;blockTableStyle id=&quot;cabecera&quot;&gt;	
 		&lt;blockAlignment value=&quot;CENTER&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;blockTextColor colorName=&quot;(0,0,0)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;	
-		&lt;blockBackground colorName=&quot;(0.7,0.7,0.7)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
+		&lt;blockBackground colorName=&quot;(0.18,0.42,0.18)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica&quot; size=&quot;12&quot; start=&quot;0,-1&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;lineStyle kind=&quot;INNERGRID&quot; colorName=&quot;(0.5,0.5,0.5)&quot;  start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;lineStyle kind=&quot;OUTLINE&quot; colorName=&quot;black&quot;  start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;	
 	&lt;/blockTableStyle&gt;
-	&lt;blockTableStyle id=&quot;tablacontenido&quot;&gt;	
-		&lt;blockAlignment value=&quot;RIGHT&quot; start=&quot;2,1&quot; stop=&quot;-1,-1&quot;/&gt;
-		&lt;blockAlignment value=&quot;CENTER&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
-		&lt;blockTextColor colorName=&quot;(0,0,0)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
+
+	&lt;blockTableStyle id=&quot;tablacontenido&quot;&gt;
+		&lt;blockAlignment value=&quot;LEFT&quot; start=&quot;0,0&quot; stop=&quot;1,-1&quot; /&gt;	
+		&lt;blockAlignment value=&quot;RIGHT&quot; /&gt;	
+		&lt;blockTextColor colorName=&quot;(1,1,1)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica-Bold&quot; size=&quot;10&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica&quot; size=&quot;10&quot; start=&quot;0,1&quot; stop=&quot;-1,-1&quot;/&gt;
-		&lt;blockFont name=&quot;Helvetica&quot; size=&quot;8&quot; start=&quot;1,1&quot; stop=&quot;1,-1&quot;/&gt;
-		&lt;blockValign value=&quot;TOP&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
+		&lt;blockAlignment value=&quot;RIGHT&quot; start=&quot;1,1&quot; stop=&quot;-1,-1&quot; /&gt;
+		&lt;blockAlignment value=&quot;LEFT&quot; start=&quot;0,0&quot; stop=&quot;1,-1&quot; /&gt;
+		&lt;blockValign value=&quot;TOP&quot; /&gt;
+		&lt;blockTopPadding length=&quot;1mm&quot; start=&quot;0,1&quot; stop=&quot;-1,-1&quot; /&gt;
+		&lt;!--&lt;lineStyle kind=&quot;GRID&quot; /&gt;--&gt;
 	&lt;/blockTableStyle&gt;
+
 	&lt;blockTableStyle id=&quot;tabladescuento&quot;&gt;
 		&lt;blockAlignment value=&quot;RIGHT&quot; start=&quot;2,1&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;blockAlignment value=&quot;CENTER&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
-		&lt;blockBackground colorName=&quot;(0.7,0.7,0.7)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
+		&lt;blockBackground colorName=&quot;(0.18,0.42,0.18)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockTextColor colorName=&quot;(0,0,0)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;lineStyle kind=&quot;LINEBEFORE&quot; colorName=&quot;(0.5,0.5,0.5)&quot;  start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;lineStyle kind=&quot;LINEBELOW&quot; colorName=&quot;(0,0,0)&quot;  start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
@@ -32,30 +38,96 @@
 		&lt;blockFont name=&quot;Helvetica-Bold&quot; size=&quot;10&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica&quot; size=&quot;10&quot; start=&quot;0,1&quot; stop=&quot;-1,-1&quot;/&gt;
 	&lt;/blockTableStyle&gt;
+
 	&lt;blockTableStyle id=&quot;tablatotales&quot;&gt;	
 		&lt;blockAlignment value=&quot;RIGHT&quot;/&gt;
 		&lt;blockAlignment value=&quot;RIGHT&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
-		&lt;blockTextColor colorName=&quot;(0,0,0)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;	
+		&lt;blockTextColor colorName=&quot;(1,1,1)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;	
 		&lt;blockBackground colorName=&quot;(1,1,1)&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
-		&lt;blockBackground colorName=&quot;(0.7,0.7,0.7)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
+		&lt;blockBackground colorName=&quot;(0.18,0.42,0.18)&quot; start=&quot;0,0&quot; stop=&quot;-1,0&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica-Bold&quot; size=&quot;12&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;blockFont name=&quot;Helvetica&quot; size=&quot;12&quot; start=&quot;0,-1&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;lineStyle kind=&quot;INNERGRID&quot; colorName=&quot;(0.5,0.5,0.5)&quot;  start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;lineStyle kind=&quot;OUTLINE&quot; colorName=&quot;black&quot;  start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;	
 	&lt;/blockTableStyle&gt;	
+
 	&lt;blockTableStyle id=&quot;tabladetalle1&quot;&gt;
 		&lt;blockAlignment value=&quot;LEFT&quot; start=&quot;0,0&quot; stop=&quot;0,-1&quot;/&gt;
 		&lt;blockAlignment value=&quot;RIGHT&quot; start=&quot;-1,0&quot; stop=&quot;-1,-1&quot;/&gt;
 		&lt;blockValign value=&quot;TOP&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
-	&lt;/blockTableStyle&gt;	
+	&lt;/blockTableStyle&gt;
+
 	&lt;blockTableStyle id=&quot;tabladetalle2&quot;&gt;
 		&lt;blockAlignment value=&quot;LEFT&quot; start=&quot;0,0&quot; stop=&quot;0,-1&quot;/&gt;
 		&lt;blockAlignment value=&quot;RIGHT&quot; start=&quot;-1,0&quot; stop=&quot;-1,-1&quot;/&gt;	
 		&lt;blockValign value=&quot;TOP&quot; start=&quot;0,0&quot; stop=&quot;-1,-1&quot;/&gt;
 	&lt;/blockTableStyle&gt;
-	&lt;blockTableStyle id=&quot;metatabla&quot;&gt;	
+
+	&lt;blockTableStyle id=&quot;metatabla&quot;&gt;
+		&lt;blockAlignment value=&quot;RIGHT&quot;/&gt;
+	&lt;/blockTableStyle&gt;
+
+	&lt;blockTableStyle id=&quot;total&quot;&gt;
+		&lt;blockValign value=&quot;TOP&quot;/&gt;
+		&lt;blockLeftPadding length=&quot;0mm&quot; /&gt;
+		&lt;lineStyle kind=&quot;LINEBELOW&quot; colorName=&quot;blue&quot; start=&quot;0,1&quot; stop=&quot;-1,1&quot; /&gt;
+		&lt;!--&lt;lineStyle kind=&quot;GRID&quot; /&gt;--&gt;
+	&lt;/blockTableStyle&gt;
+
+	&lt;blockTableStyle id=&quot;titulo&quot;&gt;	
+		&lt;blockFont name=&quot;Helvetica-Bold&quot; /&gt;
+		&lt;blockBackground colorName=&quot;(0.18,0.42,0.18)&quot; /&gt;
+		&lt;blockTextColor colorName=&quot;(1,1,1)&quot; /&gt;
+		&lt;blockAlignment value=&quot;RIGHT&quot; /&gt;
+	&lt;/blockTableStyle&gt;
+
+	&lt;blockTableStyle id=&quot;contenido&quot;&gt;
+		&lt;blockAlignment value=&quot;RIGHT&quot; /&gt;
+		&lt;blockTextColor colorName=&quot;(0,0,0)&quot; /&gt;
+		&lt;blockBottomPadding length=&quot;2mm&quot; /&gt;
+		&lt;blockTopPadding length=&quot;-0.2cm&quot; /&gt;
+		&lt;blockFont name=&quot;Helvetica&quot; size=&quot;10&quot; /&gt;	
+		&lt;blockBottomPadding length=&quot;0mm&quot; start=&quot;0,-1&quot; stop=&quot;-1,-1&quot; /&gt;
+	&lt;/blockTableStyle&gt;
+
+	&lt;blockTableStyle id=&quot;preciofinal&quot;&gt;	
 		&lt;blockAlignment value=&quot;RIGHT&quot;/&gt;
+		&lt;blockFont name=&quot;Helvetica-Bold&quot; size=&quot;15&quot; /&gt;
+		&lt;blockTextColor colorName=&quot;(0,0,0)&quot; /&gt;
+		&lt;blockTopPadding length=&quot;-0.2cm&quot; /&gt;
 	&lt;/blockTableStyle&gt;
+	
+	&lt;paraStyle 
+		name=&quot;paragrafo&quot;
+		fontName=&quot;Helvetica&quot;
+		fontSize=&quot;10&quot;
+		textColor=&quot;black&quot;
+		spaceBefore=&quot;0.0cm&quot;
+		firstLineIndent=&quot;0.0cm&quot;
+		parent=&quot;tablacontenido&quot;
+	/&gt;
+
+	&lt;paraStyle 
+		name=&quot;paragrafo2&quot;
+		fontName=&quot;Helvetica&quot;
+		fontSize=&quot;10&quot;
+		textColor=&quot;black&quot;
+		spaceBefore=&quot;0.0cm&quot;
+		firstLineIndent=&quot;0.0cm&quot;
+		parent=&quot;tablacontenido&quot;
+	/&gt;
+
+	&lt;paraStyle 
+		name=&quot;paragrafo2der&quot;
+		alignment=&quot;RIGHT&quot;
+		fontName=&quot;Helvetica&quot;
+		fontSize=&quot;10&quot;
+		textColor=&quot;black&quot;
+		spaceBefore=&quot;0.0cm&quot;
+		firstLineIndent=&quot;0.0cm&quot;
+		parent=&quot;tablacontenido&quot;
+	/&gt;
+	
 &lt;/stylesheet&gt;
 
-&lt;/document&gt;
\ No newline at end of file
+&lt;/document&gt;
diff --git a/bulmages/installbulmages/openreports/fr/plantilla.rml b/bulmages/installbulmages/openreports/fr/plantilla.rml
index c1872d0..c32cc72 100644
--- a/bulmages/installbulmages/openreports/fr/plantilla.rml
+++ b/bulmages/installbulmages/openreports/fr/plantilla.rml
@@ -2,40 +2,57 @@
 &lt;!DOCTYPE document SYSTEM &quot;rml_1_0.dtd&quot;&gt;
 &lt;document&gt;
 		&lt;!-- EL LOGO DE CABECERA --&gt;
-		&lt;image x=&quot;1cm&quot; y=&quot;25.9cm&quot; width=&quot;11cm&quot; file=&quot;logo.jpg&quot;/&gt;
+		&lt;image x=&quot;1cm&quot; y=&quot;27cm&quot; width=&quot;8cm&quot; file=&quot;logo.jpg&quot;/&gt;
 
 		&lt;!-- EL PIE DE PAGINA --&gt;
-		&lt;setFont name=&quot;Helvetica&quot; size=&quot;8&quot;/&gt;		
+		&lt;setFont name=&quot;Helvetica-Bold&quot; size=&quot;10&quot;/&gt;	
+		&lt;drawString x=&quot;1.1cm&quot; y=&quot;2.8cm&quot;&gt;&lt;/drawString&gt;
+
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;9&quot;/&gt;		
 		&lt;fill color=&quot;(0,0,0)&quot;/&gt;	
 		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
-		&lt;drawString x=&quot;7.3cm&quot; y=&quot;1.2cm&quot;&gt;www.iglues.org -- <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">info en iglues.org</A> --&lt;/drawString&gt;		      
-		&lt;drawString x=&quot;0.3cm&quot; y=&quot;0.2cm&quot;&gt;Estas plantillas son de demostracion.&lt;/drawString&gt;
-
-
-			&lt;!-- EL BORRADOR --&gt;
-			&lt;setFont name=&quot;Helvetica&quot; size=&quot;100&quot;/&gt;
-			&lt;fill color=&quot;(1,0.9,0.9)&quot;/&gt;
-			&lt;stroke color=&quot;(1,0.9,0.9)&quot;/&gt;
-			&lt;translate dx=&quot;15cm&quot; dy=&quot;-5.5cm&quot;/&gt;
-			&lt;rotate degrees=&quot;50&quot;/&gt;
-			&lt;drawString x=&quot;23mm&quot; y=&quot;15.7cm&quot;&gt;BORRADOR&lt;/drawString&gt;
-			&lt;lineMode width=&quot;4mm&quot;/&gt;
-			&lt;rect round=&quot;1cm&quot; x=&quot;18mm&quot; y=&quot;15cm&quot; width=&quot;21cm&quot; height=&quot;4cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;	
-			&lt;rotate degrees=&quot;-50&quot;/&gt;
-			&lt;translate dx=&quot;-15cm&quot; dy=&quot;5.5cm&quot;/&gt;
+
+		&lt;drawString x=&quot;1cm&quot; y=&quot;5.6cm&quot;&gt;&lt;/drawString&gt;
+		&lt;drawString x=&quot;1cm&quot; y=&quot;5.2cm&quot;&gt;&lt;/drawString&gt;
+		&lt;drawString x=&quot;1cm&quot; y=&quot;4.8cm&quot;&gt;&lt;/drawString&gt;
+		&lt;drawString x=&quot;1cm&quot; y=&quot;4.4cm&quot;&gt;&lt;/drawString&gt;
+		&lt;drawString x=&quot;1cm&quot; y=&quot;4.0cm&quot;&gt;&lt;/drawString&gt;
+		&lt;drawString x=&quot;1cm&quot; y=&quot;3.6cm&quot;&gt;&lt;/drawString&gt;
+
+		&lt;drawString x=&quot;1cm&quot; y=&quot;2.4cm&quot;&gt;&lt;/drawString&gt;
+		&lt;drawString x=&quot;1.1cm&quot; y=&quot;2cm&quot;&gt;&lt;/drawString&gt;
+
+
+		&lt;drawCentredString x=&quot;10.5cm&quot; y=&quot;1.3cm&quot;&gt;&lt;/drawCentredString&gt;
+		&lt;drawCentredString x=&quot;10.5cm&quot; y=&quot;1.0cm&quot;&gt;&lt;/drawCentredString&gt;
+
+		&lt;drawString x=&quot;0.5cm&quot; y=&quot;14.85cm&quot;&gt;-&lt;/drawString&gt;
+
 
 		&lt;!-- EL RECUADRO DONDE VA EL CLIENTE --&gt;
-		&lt;stroke color=&quot;(0,0,0)&quot;/&gt;
+		&lt;stroke color=&quot;(0.18,0.42,0.18)&quot;/&gt;
 		&lt;lineMode width=&quot;0.3mm&quot;/&gt;
-		&lt;rect round=&quot;0.25cm&quot; x=&quot;8cm&quot; y=&quot;22.4cm&quot; width=&quot;11cm&quot; height=&quot;2.5cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;
+		&lt;!-- EL RECUADRO FECHA --&gt;
+		&lt;rect round=&quot;0.05cm&quot; x=&quot;9.8cm&quot; y=&quot;27.3cm&quot; width=&quot;10cm&quot; height=&quot;1.2cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;
+		&lt;!-- EL RECUADRO CLIENTE --&gt;
+		&lt;rect round=&quot;0.05cm&quot; x=&quot;9.8cm&quot; y=&quot;23.2cm&quot; width=&quot;10cm&quot; height=&quot;3.9cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;
+		&lt;!-- EL RECUADRO FORMA DE PAGO --&gt;
+		&lt;rect round=&quot;0.05cm&quot; x=&quot;1.3cm&quot; y=&quot;25.7cm&quot; width=&quot;8cm&quot; height=&quot;1.1cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;
+		&lt;!-- EL RECUADRO EMPRESA --&gt;
+		&lt;rect round=&quot;0.05cm&quot; x=&quot;1.3cm&quot; y=&quot;23.2cm&quot; width=&quot;8cm&quot; height=&quot;2.3cm&quot; fill=&quot;no&quot; stroke=&quot;yes&quot;/&gt;
+
+		&lt;fill color=&quot;(0.18,0.42,0.18)&quot; /&gt;
+		&lt;stroke color=&quot;(0.18,0.42,0.18)&quot; /&gt;
+		&lt;rect x=&quot;1cm&quot; y=&quot;21.8cm&quot; width=&quot;19cm&quot; height=&quot;0.6cm&quot; fill=&quot;yes&quot; stroke=&quot;yes&quot;/&gt;
+		&lt;!--&lt;rect x=&quot;1cm&quot; y=&quot;6.8cm&quot; width=&quot;19cm&quot; height=&quot;0.6cm&quot; fill=&quot;yes&quot; stroke=&quot;no&quot;/&gt;--&gt;
+		&lt;!--&lt;rect x=&quot;1cm&quot; y=&quot;6.4cm&quot; width=&quot;19cm&quot; height=&quot;0.6cm&quot; fill=&quot;no&quot; stroke=&quot;no&quot;/&gt;--&gt;
+&lt;!-- 		&lt;rect x=&quot;1cm&quot; y=&quot;4.3cm&quot; width=&quot;19cm&quot; height=&quot;0.03cm&quot; fill=&quot;yes&quot; stroke=&quot;yes&quot;/&gt; --&gt;
+		&lt;rect x=&quot;1cm&quot; y=&quot;8cm&quot; width=&quot;19cm&quot; height=&quot;0.05cm&quot; fill=&quot;yes&quot; stroke=&quot;yes&quot;/&gt;
+		&lt;rect x=&quot;1cm&quot; y=&quot;22.5cm&quot; width=&quot;19cm&quot; height=&quot;0.05cm&quot; fill=&quot;yes&quot; stroke=&quot;yes&quot;/&gt;
 
-		&lt;fill color=&quot;(0.7,0.7,0.7)&quot;/&gt;
-		&lt;rect x=&quot;1.85cm&quot; y=&quot;19.2cm&quot; width=&quot;17.3cm&quot; height=&quot;0.6cm&quot; fill=&quot;yes&quot; stroke=&quot;no&quot;/&gt;
-		&lt;grid xs=&quot;1.85cm,3.65cm,12.3cm,13.5cm,15.2cm,16.8cm,19.15cm&quot; ys=&quot;19.8cm,5cm&quot;/&gt;
 
-		&lt;!-- EL DETALLE --&gt;
-		&lt;fill color=&quot;(0.7,0.7,0.7)&quot;/&gt;
-		&lt;rect x=&quot;4cm&quot; y=&quot;21cm&quot; width=&quot;15cm&quot; height=&quot;0.8cm&quot; fill=&quot;yes&quot; stroke=&quot;no&quot;/&gt;
-		&lt;grid xs=&quot;4cm,7cm,10cm,13cm,16cm,19cm&quot; ys=&quot;20.2cm,21cm,21.8cm&quot;/&gt;
+		&lt;setFont name=&quot;Helvetica&quot; size=&quot;11&quot;/&gt;
+		&lt;fill color=&quot;(0.18,0.42,0.18)&quot;/&gt;
+		&lt;rect x=&quot;9.9cm&quot; y=&quot;26.4cm&quot; width=&quot;9.8cm&quot; height=&quot;0.6cm&quot; fill=&quot;yes&quot; stroke=&quot;no&quot;/&gt;
 
 &lt;/document&gt;
diff --git a/bulmages/installbulmages/openreports/fr/plantilla_empresa.rml b/bulmages/installbulmages/openreports/fr/plantilla_empresa.rml
new file mode 100644
index 0000000..c2eea3f
--- /dev/null
+++ b/bulmages/installbulmages/openreports/fr/plantilla_empresa.rml
@@ -0,0 +1,11 @@
+&lt;!--Datos Empresas--&gt;
+&lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
+&lt;drawString x=&quot;1.45cm&quot; y=&quot;25.1cm&quot;&gt;&lt;!-- QUERY=&quot;SELECT * FROM configuracion WHERE nombre='NombreEmpresa'&quot; --&gt;[valor]&lt;!-- END QUERY --&gt;&lt;/drawString&gt;
+
+&lt;drawString x=&quot;1.45cm&quot; y=&quot;24.75cm&quot;&gt;&lt;!-- QUERY=&quot;SELECT valor AS val1 FROM configuracion WHERE nombre='CIF'&quot; --&gt;[val1]&lt;!-- END QUERY --&gt;&lt;/drawString&gt;
+
+&lt;drawString x=&quot;1.45cm&quot; y=&quot;24.4cm&quot;&gt;&lt;!-- QUERY=&quot;SELECT valor AS val2 FROM configuracion WHERE nombre='DireccionCompleta'&quot; --&gt;[val2]&lt;!-- END QUERY --&gt;&lt;/drawString&gt;
+
+&lt;drawString x=&quot;1.45cm&quot; y=&quot;24.05cm&quot;&gt;&lt;!-- QUERY=&quot;SELECT valor AS val3 FROM configuracion WHERE nombre='CodPostal'&quot; --&gt;[val3]&lt;!-- END QUERY --&gt; &lt;!-- QUERY=&quot;SELECT valor AS val4 FROM configuracion WHERE nombre='Municipio'&quot; --&gt;[val4]&lt;!-- END QUERY --&gt;&lt;/drawString&gt;
+
+

commit d395073b05db6dd566c9141b0e85d9b7984d7888
Author: Tomeu Borras &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">tborras en conetxia.com</A>&gt;
Date:   Sun Apr 15 18:37:16 2012 +0200

    Arreglo error en la plantilla de presupuesto

diff --git a/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/ca/impers_presupuesto_fproforma.rml b/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/ca/impers_presupuesto_fproforma.rml
index 9bfc006..9eba3e6 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/ca/impers_presupuesto_fproforma.rml
+++ b/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/ca/impers_presupuesto_fproforma.rml
@@ -126,7 +126,7 @@
 &lt;td&gt;&lt;para&gt;Total Base Imponible &lt;font color=&quot;blue&quot;&gt;[totalbimp]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
 &lt;td&gt;&lt;para&gt;Total I.V.A &lt;font color=&quot;blue&quot;&gt;[totaliva]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
 &lt;td&gt;&lt;para&gt;Total R.Eq &lt;font color=&quot;blue&quot;&gt;[totalre]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;&lt;b&gt;&lt;font size=&quot;15&quot;&gt; Total &lt;font color=&quot;blue&quot;&gt;[total]&lt;/font&gt;&lt;/font&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+&lt;td&gt;&lt;para&gt;&lt;font size=&quot;15&quot;&gt;&lt;b&gt; Total &lt;/b&gt;&lt;/font&gt;&lt;font color=&quot;blue&quot; size=&quot;15&quot;&gt;&lt;b&gt;[total]&lt;/b&gt;&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;/blockTable&gt;
 &lt;/place&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/ca/presupuesto.rml b/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/ca/presupuesto.rml
index da29eb0..49984cd 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/ca/presupuesto.rml
+++ b/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/ca/presupuesto.rml
@@ -126,7 +126,7 @@
 &lt;td&gt;&lt;para&gt;Total Base Imponible &lt;font color=&quot;blue&quot;&gt;[totalbimp]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
 &lt;td&gt;&lt;para&gt;Total I.V.A &lt;font color=&quot;blue&quot;&gt;[totaliva]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
 &lt;td&gt;&lt;para&gt;Total R.Eq &lt;font color=&quot;blue&quot;&gt;[totalre]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;&lt;b&gt;&lt;font size=&quot;15&quot;&gt; Total &lt;font color=&quot;blue&quot;&gt;[total]&lt;/font&gt;&lt;/font&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+&lt;td&gt;&lt;para&gt;&lt;font size=&quot;15&quot;&gt;&lt;b&gt; Total &lt;/b&gt;&lt;/font&gt;&lt;font color=&quot;blue&quot; size=&quot;15&quot;&gt;&lt;b&gt;[total]&lt;/b&gt;&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;/blockTable&gt;
 &lt;/place&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/en/impers_presupuesto_fproforma.rml b/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/en/impers_presupuesto_fproforma.rml
index 9bfc006..9eba3e6 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/en/impers_presupuesto_fproforma.rml
+++ b/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/en/impers_presupuesto_fproforma.rml
@@ -126,7 +126,7 @@
 &lt;td&gt;&lt;para&gt;Total Base Imponible &lt;font color=&quot;blue&quot;&gt;[totalbimp]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
 &lt;td&gt;&lt;para&gt;Total I.V.A &lt;font color=&quot;blue&quot;&gt;[totaliva]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
 &lt;td&gt;&lt;para&gt;Total R.Eq &lt;font color=&quot;blue&quot;&gt;[totalre]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;&lt;b&gt;&lt;font size=&quot;15&quot;&gt; Total &lt;font color=&quot;blue&quot;&gt;[total]&lt;/font&gt;&lt;/font&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+&lt;td&gt;&lt;para&gt;&lt;font size=&quot;15&quot;&gt;&lt;b&gt; Total &lt;/b&gt;&lt;/font&gt;&lt;font color=&quot;blue&quot; size=&quot;15&quot;&gt;&lt;b&gt;[total]&lt;/b&gt;&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;/blockTable&gt;
 &lt;/place&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/en/presupuesto.rml b/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/en/presupuesto.rml
index da29eb0..49984cd 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/en/presupuesto.rml
+++ b/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/en/presupuesto.rml
@@ -126,7 +126,7 @@
 &lt;td&gt;&lt;para&gt;Total Base Imponible &lt;font color=&quot;blue&quot;&gt;[totalbimp]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
 &lt;td&gt;&lt;para&gt;Total I.V.A &lt;font color=&quot;blue&quot;&gt;[totaliva]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
 &lt;td&gt;&lt;para&gt;Total R.Eq &lt;font color=&quot;blue&quot;&gt;[totalre]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;&lt;b&gt;&lt;font size=&quot;15&quot;&gt; Total &lt;font color=&quot;blue&quot;&gt;[total]&lt;/font&gt;&lt;/font&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+&lt;td&gt;&lt;para&gt;&lt;font size=&quot;15&quot;&gt;&lt;b&gt; Total &lt;/b&gt;&lt;/font&gt;&lt;font color=&quot;blue&quot; size=&quot;15&quot;&gt;&lt;b&gt;[total]&lt;/b&gt;&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;/blockTable&gt;
 &lt;/place&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/es/impers_presupuesto_fproforma.rml b/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/es/impers_presupuesto_fproforma.rml
index 9bfc006..9eba3e6 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/es/impers_presupuesto_fproforma.rml
+++ b/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/es/impers_presupuesto_fproforma.rml
@@ -126,7 +126,7 @@
 &lt;td&gt;&lt;para&gt;Total Base Imponible &lt;font color=&quot;blue&quot;&gt;[totalbimp]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
 &lt;td&gt;&lt;para&gt;Total I.V.A &lt;font color=&quot;blue&quot;&gt;[totaliva]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
 &lt;td&gt;&lt;para&gt;Total R.Eq &lt;font color=&quot;blue&quot;&gt;[totalre]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;&lt;b&gt;&lt;font size=&quot;15&quot;&gt; Total &lt;font color=&quot;blue&quot;&gt;[total]&lt;/font&gt;&lt;/font&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+&lt;td&gt;&lt;para&gt;&lt;font size=&quot;15&quot;&gt;&lt;b&gt; Total &lt;/b&gt;&lt;/font&gt;&lt;font color=&quot;blue&quot; size=&quot;15&quot;&gt;&lt;b&gt;[total]&lt;/b&gt;&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;/blockTable&gt;
 &lt;/place&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/es/presupuesto.rml b/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/es/presupuesto.rml
index da29eb0..49984cd 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/es/presupuesto.rml
+++ b/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/es/presupuesto.rml
@@ -126,7 +126,7 @@
 &lt;td&gt;&lt;para&gt;Total Base Imponible &lt;font color=&quot;blue&quot;&gt;[totalbimp]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
 &lt;td&gt;&lt;para&gt;Total I.V.A &lt;font color=&quot;blue&quot;&gt;[totaliva]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
 &lt;td&gt;&lt;para&gt;Total R.Eq &lt;font color=&quot;blue&quot;&gt;[totalre]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;&lt;b&gt;&lt;font size=&quot;15&quot;&gt; Total &lt;font color=&quot;blue&quot;&gt;[total]&lt;/font&gt;&lt;/font&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+&lt;td&gt;&lt;para&gt;&lt;font size=&quot;15&quot;&gt;&lt;b&gt; Total &lt;/b&gt;&lt;/font&gt;&lt;font color=&quot;blue&quot; size=&quot;15&quot;&gt;&lt;b&gt;[total]&lt;/b&gt;&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;/blockTable&gt;
 &lt;/place&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/fr/impers_presupuesto_fproforma.rml b/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/fr/impers_presupuesto_fproforma.rml
index 9bfc006..9eba3e6 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/fr/impers_presupuesto_fproforma.rml
+++ b/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/fr/impers_presupuesto_fproforma.rml
@@ -126,7 +126,7 @@
 &lt;td&gt;&lt;para&gt;Total Base Imponible &lt;font color=&quot;blue&quot;&gt;[totalbimp]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
 &lt;td&gt;&lt;para&gt;Total I.V.A &lt;font color=&quot;blue&quot;&gt;[totaliva]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
 &lt;td&gt;&lt;para&gt;Total R.Eq &lt;font color=&quot;blue&quot;&gt;[totalre]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;&lt;b&gt;&lt;font size=&quot;15&quot;&gt; Total &lt;font color=&quot;blue&quot;&gt;[total]&lt;/font&gt;&lt;/font&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+&lt;td&gt;&lt;para&gt;&lt;font size=&quot;15&quot;&gt;&lt;b&gt; Total &lt;/b&gt;&lt;/font&gt;&lt;font color=&quot;blue&quot; size=&quot;15&quot;&gt;&lt;b&gt;[total]&lt;/b&gt;&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;/blockTable&gt;
 &lt;/place&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/fr/presupuesto.rml b/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/fr/presupuesto.rml
index da29eb0..49984cd 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/fr/presupuesto.rml
+++ b/bulmages/bulmafact/plugins/pluginbf_clientepresupuesto/openreports/fr/presupuesto.rml
@@ -126,7 +126,7 @@
 &lt;td&gt;&lt;para&gt;Total Base Imponible &lt;font color=&quot;blue&quot;&gt;[totalbimp]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
 &lt;td&gt;&lt;para&gt;Total I.V.A &lt;font color=&quot;blue&quot;&gt;[totaliva]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
 &lt;td&gt;&lt;para&gt;Total R.Eq &lt;font color=&quot;blue&quot;&gt;[totalre]&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
-&lt;td&gt;&lt;para&gt;&lt;b&gt;&lt;font size=&quot;15&quot;&gt; Total &lt;font color=&quot;blue&quot;&gt;[total]&lt;/font&gt;&lt;/font&gt;&lt;/b&gt;&lt;/para&gt;&lt;/td&gt;
+&lt;td&gt;&lt;para&gt;&lt;font size=&quot;15&quot;&gt;&lt;b&gt; Total &lt;/b&gt;&lt;/font&gt;&lt;font color=&quot;blue&quot; size=&quot;15&quot;&gt;&lt;b&gt;[total]&lt;/b&gt;&lt;/font&gt;&lt;/para&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;/blockTable&gt;
 &lt;/place&gt;

commit 00f61023988061ec3cc5951218a07c509370f059
Merge: cd7f008 9880fdc
Author: tborras &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">tborras en conetxia.com</A>&gt;
Date:   Sat Apr 14 14:16:43 2012 +0200

    Merge branch 'pendientesmerge' of <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">git en gitorious.org</A>:~tborras/bulmages/tborrass-bulmages into pendientesmerge


commit cd7f00838c9a7bd21abfd51797a5a36a9b563c54
Author: tborras &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">tborras en conetxia.com</A>&gt;
Date:   Sat Apr 14 14:16:02 2012 +0200

    Arreglo problema con Windows y el pluginbf_abrecodigobarras

diff --git a/bulmages/bulmafact/plugins/pluginbf_abrecodigobarras/CMakeLists.txt b/bulmages/bulmafact/plugins/pluginbf_abrecodigobarras/CMakeLists.txt
index f1598e3..389ad11 100644
--- a/bulmages/bulmafact/plugins/pluginbf_abrecodigobarras/CMakeLists.txt
+++ b/bulmages/bulmafact/plugins/pluginbf_abrecodigobarras/CMakeLists.txt
@@ -25,7 +25,7 @@ include_directories(
     ${QT_INCLUDE_DIR}
 	${PGSQL_INCLUDE_DIR}
 	${QT_QTXML_INCLUDE_DIR}
-        ${QT_QTSCRIPT_INCLUDE_DIR}
+    ${QT_QTSCRIPT_INCLUDE_DIR}
 	${CMAKE_CURRENT_BINARY_DIR}
 	${CMAKE_CURRENT_SOURCE_DIR}
 	${CMAKE_BINARY_DIR}/bulmalib/src/
@@ -38,8 +38,8 @@ include_directories(
 	${CMAKE_SOURCE_DIR}/bulmafact/plugins/pluginbf_clientepedido/
 	${CMAKE_BINARY_DIR}/bulmafact/plugins/pluginbf_proveedorpedido/
 	${CMAKE_SOURCE_DIR}/bulmafact/plugins/pluginbf_proveedorpedido/
- 	${CMAKE_BINARY_DIR}/bulmafact/plugins/pluginbarcodeopen/
-	${CMAKE_SOURCE_DIR}/bulmafact/plugins/pluginbarcodeopen/
+ 	${CMAKE_BINARY_DIR}/bulmafact/plugins/pluginbf_abrecodigobarras/
+	${CMAKE_SOURCE_DIR}/bulmafact/plugins/pluginbf_abrecodigobarras/
  	${CMAKE_BINARY_DIR}/bulmafact/plugins/pluginbf_clientefactura/
 	${CMAKE_SOURCE_DIR}/bulmafact/plugins/pluginbf_clientefactura/
  	${CMAKE_BINARY_DIR}/bulmafact/plugins/pluginbf_clientealbaran/
@@ -99,8 +99,6 @@ set_target_properties( ${plugin} PROPERTIES
   VERSION &quot;${BULMAGES_VERSION}&quot;)
 
 if(WIN32)
-target_link_libraries(${plugin} libbulmafact bulmalib pluginbf_proveedorpedido ${QT_LIBRARIES} ${PGSQL_LIBRARIES})
-else(WIN32)
 target_link_libraries(${plugin} libbulmafact bulmalib ${QT_LIBRARIES} ${PGSQL_LIBRARIES})
 endif(WIN32)
 
diff --git a/bulmages/bulmafact/plugins/pluginbf_abrecodigobarras/pluginbf_abrecodigobarras.cpp b/bulmages/bulmafact/plugins/pluginbf_abrecodigobarras/pluginbf_abrecodigobarras.cpp
index 19a8d0b..3eb94c1 100644
--- a/bulmages/bulmafact/plugins/pluginbf_abrecodigobarras/pluginbf_abrecodigobarras.cpp
+++ b/bulmages/bulmafact/plugins/pluginbf_abrecodigobarras/pluginbf_abrecodigobarras.cpp
@@ -135,8 +135,13 @@ int BlAction_actionTriggered(BlAction *accion) {
             g_pluginbf_abrecodigobarras-&gt;company()-&gt;m_pWorkspace-&gt;addSubWindow ( prov );
             prov-&gt;show();
         } else if ( listaelem.at ( 0 ) == QString ( &quot;PEDP&quot; ) ) {
-
-            PedidoProveedorView * prov = new PedidoProveedorView ( g_pluginbf_abrecodigobarras-&gt;company(), 0 );
+            /// Como estamos en un plugin buscamos nuevas formas de creacion de objetos.
+            int resur = g_plugins-&gt;run ( &quot;SNewPedidoProveedorView&quot;, g_pluginbf_abrecodigobarras-&gt;company() );
+            if ( !resur ) {
+                blMsgInfo ( _(&quot;No se pudo crear instancia de pedido proveedor&quot;) );
+                return 0;
+            } // end if
+            PedidoProveedorView * prov = ( PedidoProveedorView *) g_plugParams;
             if ( prov-&gt;load ( listaelem.at ( 1 ) ) ) {
                 delete prov;
                 return 0;

commit 9880fdc86c560e7b1ec8eaa4ff17923b2b64b05d
Merge: a2cb43a f653d50
Author: Tomeu Borras &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">tborras en conetxia.com</A>&gt;
Date:   Sat Apr 14 10:43:14 2012 +0200

    Merge branch 'arreglogabi' into mirrama


commit f653d5090278038e8842cba482bb8034e43c4741
Author: Tomeu Borras &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">tborras en conetxia.com</A>&gt;
Date:   Sat Apr 14 10:40:38 2012 +0200

    Hago perdurar entre ejecuciones el valor los campos BlSearchWidget para los listados como se hace con los BlDateSearch y QLineEdit. Este cambio ha sido sugerido por Biel Amer (Cuñaooooo)

diff --git a/bulmages/bulmafact/src/bfbuscarfamilia.h b/bulmages/bulmafact/src/bfbuscarfamilia.h
index 6348c51..40a7351 100644
--- a/bulmages/bulmafact/src/bfbuscarfamilia.h
+++ b/bulmages/bulmafact/src/bfbuscarfamilia.h
@@ -46,8 +46,6 @@ public:
     virtual QString nombrefamilia();
     virtual void setidfamilia ( QString val );
     virtual void setcodigocompletofamilia ( QString val );
-
-
 };
 
 #endif
diff --git a/bulmages/bulmalib/src/blformlist.cpp b/bulmages/bulmalib/src/blformlist.cpp
index 4186b3b..224cd59 100644
--- a/bulmages/bulmalib/src/blformlist.cpp
+++ b/bulmages/bulmalib/src/blformlist.cpp
@@ -28,6 +28,8 @@
 #include &quot;blsearchwidget.h&quot;
 #include &quot;bldatesearch.h&quot;
 
+#include &quot;blfunctions.h&quot;
+
 #include &lt;QFile&gt;
 #include &lt;QTextStream&gt;
 #include &lt;QDomDocument&gt;
@@ -681,6 +683,16 @@ void BlFormList::guardaFiltrosXML() {
 	    stream &lt;&lt; &quot;&lt;QLINEEDIT&gt;\n\t&lt;OBJNAME&gt;&quot; &lt;&lt; objname &lt;&lt; &quot;&lt;/OBJNAME&gt;\n\t&lt;OBJVALUE&gt;&quot; &lt;&lt; date &lt;&lt; &quot;&lt;/OBJVALUE&gt;\n\t&lt;OBJPARENT&gt;&quot; &lt;&lt; objparent &lt;&lt; &quot;&lt;/OBJPARENT&gt;\n&lt;/QLINEEDIT&gt;&quot;;
 	} // end while
 	
+	QList&lt;BlSearchWidget *&gt; l8i = findChildren&lt;BlSearchWidget *&gt;();
+	QListIterator&lt;BlSearchWidget *&gt; it8i ( l8i );
+	while ( it8i.hasNext() ) {
+	    BlSearchWidget * item = it8i.next();
+	    QString objname = item-&gt;objectName();
+	    QString objparent = item-&gt;parent()-&gt;objectName();
+	    QString date = item-&gt;id();
+	    stream &lt;&lt; &quot;&lt;BLSEARCHWIDGET&gt;\n\t&lt;OBJNAME&gt;&quot; &lt;&lt; objname &lt;&lt; &quot;&lt;/OBJNAME&gt;\n\t&lt;OBJVALUE&gt;&quot; &lt;&lt; date &lt;&lt; &quot;&lt;/OBJVALUE&gt;\n\t&lt;OBJPARENT&gt;&quot; &lt;&lt; objparent &lt;&lt; &quot;&lt;/OBJPARENT&gt;\n&lt;/BLSEARCHWIDGET&gt;&quot;;
+	} // end while
+	
 	stream &lt;&lt; &quot;&lt;/DOCUMENT&gt;\n&quot;;
 	file.close();
     } // end if
@@ -728,7 +740,7 @@ void BlFormList::cargaFiltrosXML() {
 		} // end if
 	    } // end if
 	} // end if
-    } // end form
+    } // end for
   
     /// Leemos la visibilidad de las columnas. Se hace antes de ordenarlas.
     nodos = docElem.elementsByTagName ( &quot;QLINEEDIT&quot; );
@@ -749,7 +761,28 @@ void BlFormList::cargaFiltrosXML() {
 	    } // end if
 	    
 	} // end if
-    } // end form
+    } // end for
+  
+    /// Leemos la visibilidad de las columnas. Se hace antes de ordenarlas.
+    nodos = docElem.elementsByTagName ( &quot;BLSEARCHWIDGET&quot; );
+    for ( int i = 0; i &lt; nodos.count(); i++ ) {
+        QDomNode visible = nodos.item ( i );
+        QDomElement e1 = visible.toElement(); /// try to convert the node to an element.
+        if ( !e1.isNull() ) { /// the node was really an element.
+
+	    /// Cogemos el nombre y el valor
+	    QString objname = e1.firstChildElement ( &quot;OBJNAME&quot; ).toElement().text();
+	    QString objvalue = e1.firstChildElement ( &quot;OBJVALUE&quot; ).toElement().text();
+	    QString objparent = e1.firstChildElement ( &quot;OBJPARENT&quot; ).toElement().text();
+	    BlSearchWidget *dates = findChild&lt;BlSearchWidget *&gt;(objname);
+	    if (dates) {
+		if (dates-&gt;parent()-&gt;objectName() == objparent) {
+		    dates-&gt;setId(objvalue);
+		} // end if
+	    } // end if
+	    
+	} // end if
+    } // end for
   
 }
 

commit a2cb43ab5bb359b0c634d1e6b51bf589ed858026
Author: Tomeu Borras &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">tborras en conetxia.com</A>&gt;
Date:   Thu Apr 12 19:47:54 2012 +0200

    Arreglo todos los inf_ventas.ui para que sean correctos con el BlDateSearch en lugar de un QLineEdit

diff --git a/bulmages/bulmafact/plugins/pluginbf_minicontabilidad/openreports/ca/inf_ventas.ui b/bulmages/bulmafact/plugins/pluginbf_minicontabilidad/openreports/ca/inf_ventas.ui
index 3c5ab66..95d75dc 100644
--- a/bulmages/bulmafact/plugins/pluginbf_minicontabilidad/openreports/ca/inf_ventas.ui
+++ b/bulmages/bulmafact/plugins/pluginbf_minicontabilidad/openreports/ca/inf_ventas.ui
@@ -1,7 +1,8 @@
-&lt;ui version=&quot;4.0&quot; &gt;
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
+&lt;ui version=&quot;4.0&quot;&gt;
  &lt;class&gt;Dialog&lt;/class&gt;
- &lt;widget class=&quot;QDialog&quot; name=&quot;Dialog&quot; &gt;
-  &lt;property name=&quot;geometry&quot; &gt;
+ &lt;widget class=&quot;QDialog&quot; name=&quot;Dialog&quot;&gt;
+  &lt;property name=&quot;geometry&quot;&gt;
    &lt;rect&gt;
     &lt;x&gt;0&lt;/x&gt;
     &lt;y&gt;0&lt;/y&gt;
@@ -9,44 +10,44 @@
     &lt;height&gt;159&lt;/height&gt;
    &lt;/rect&gt;
   &lt;/property&gt;
-  &lt;property name=&quot;windowTitle&quot; &gt;
+  &lt;property name=&quot;windowTitle&quot;&gt;
    &lt;string&gt;Informe&lt;/string&gt;
   &lt;/property&gt;
-  &lt;layout class=&quot;QVBoxLayout&quot; name=&quot;verticalLayout&quot; &gt;
+  &lt;layout class=&quot;QVBoxLayout&quot; name=&quot;verticalLayout&quot;&gt;
    &lt;item&gt;
-    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout&quot; &gt;
+    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout&quot;&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;QLabel&quot; name=&quot;label&quot; &gt;
-       &lt;property name=&quot;text&quot; &gt;
+      &lt;widget class=&quot;QLabel&quot; name=&quot;label&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
         &lt;string&gt;Fecha Inicial (dd/mm/yyyy)&lt;/string&gt;
        &lt;/property&gt;
       &lt;/widget&gt;
      &lt;/item&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;QLineEdit&quot; name=&quot;mui_fecha_inicial&quot; /&gt;
+      &lt;widget class=&quot;BlDateSearch&quot; name=&quot;mui_fecha_inicial&quot;/&gt;
      &lt;/item&gt;
     &lt;/layout&gt;
    &lt;/item&gt;
    &lt;item&gt;
-    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_2&quot; &gt;
+    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_2&quot;&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;QLabel&quot; name=&quot;label_2&quot; &gt;
-       &lt;property name=&quot;text&quot; &gt;
+      &lt;widget class=&quot;QLabel&quot; name=&quot;label_2&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
         &lt;string&gt;Fecha Final (dd/mm/yyyy)&lt;/string&gt;
        &lt;/property&gt;
       &lt;/widget&gt;
      &lt;/item&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;BlDateSearch&quot; name=&quot;mui_fecha_final&quot; /&gt;
+      &lt;widget class=&quot;BlDateSearch&quot; name=&quot;mui_fecha_final&quot;/&gt;
      &lt;/item&gt;
     &lt;/layout&gt;
    &lt;/item&gt;
    &lt;item&gt;
-    &lt;spacer name=&quot;verticalSpacer&quot; &gt;
-     &lt;property name=&quot;orientation&quot; &gt;
+    &lt;spacer name=&quot;verticalSpacer&quot;&gt;
+     &lt;property name=&quot;orientation&quot;&gt;
       &lt;enum&gt;Qt::Vertical&lt;/enum&gt;
      &lt;/property&gt;
-     &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot; &gt;
+     &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot;&gt;
       &lt;size&gt;
        &lt;width&gt;20&lt;/width&gt;
        &lt;height&gt;20&lt;/height&gt;
@@ -55,13 +56,13 @@
     &lt;/spacer&gt;
    &lt;/item&gt;
    &lt;item&gt;
-    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_3&quot; &gt;
+    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_3&quot;&gt;
      &lt;item&gt;
-      &lt;spacer name=&quot;horizontalSpacer&quot; &gt;
-       &lt;property name=&quot;orientation&quot; &gt;
+      &lt;spacer name=&quot;horizontalSpacer&quot;&gt;
+       &lt;property name=&quot;orientation&quot;&gt;
         &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
        &lt;/property&gt;
-       &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot; &gt;
+       &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot;&gt;
         &lt;size&gt;
          &lt;width&gt;40&lt;/width&gt;
          &lt;height&gt;20&lt;/height&gt;
@@ -70,15 +71,15 @@
       &lt;/spacer&gt;
      &lt;/item&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;QPushButton&quot; name=&quot;mui_aceptar&quot; &gt;
-       &lt;property name=&quot;text&quot; &gt;
+      &lt;widget class=&quot;QPushButton&quot; name=&quot;mui_aceptar&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
         &lt;string&gt;Aceptar&lt;/string&gt;
        &lt;/property&gt;
       &lt;/widget&gt;
      &lt;/item&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;QPushButton&quot; name=&quot;mui_cancelar&quot; &gt;
-       &lt;property name=&quot;text&quot; &gt;
+      &lt;widget class=&quot;QPushButton&quot; name=&quot;mui_cancelar&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
         &lt;string&gt;Cancelar&lt;/string&gt;
        &lt;/property&gt;
       &lt;/widget&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_minicontabilidad/openreports/en/inf_ventas.ui b/bulmages/bulmafact/plugins/pluginbf_minicontabilidad/openreports/en/inf_ventas.ui
index 3c5ab66..95d75dc 100644
--- a/bulmages/bulmafact/plugins/pluginbf_minicontabilidad/openreports/en/inf_ventas.ui
+++ b/bulmages/bulmafact/plugins/pluginbf_minicontabilidad/openreports/en/inf_ventas.ui
@@ -1,7 +1,8 @@
-&lt;ui version=&quot;4.0&quot; &gt;
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
+&lt;ui version=&quot;4.0&quot;&gt;
  &lt;class&gt;Dialog&lt;/class&gt;
- &lt;widget class=&quot;QDialog&quot; name=&quot;Dialog&quot; &gt;
-  &lt;property name=&quot;geometry&quot; &gt;
+ &lt;widget class=&quot;QDialog&quot; name=&quot;Dialog&quot;&gt;
+  &lt;property name=&quot;geometry&quot;&gt;
    &lt;rect&gt;
     &lt;x&gt;0&lt;/x&gt;
     &lt;y&gt;0&lt;/y&gt;
@@ -9,44 +10,44 @@
     &lt;height&gt;159&lt;/height&gt;
    &lt;/rect&gt;
   &lt;/property&gt;
-  &lt;property name=&quot;windowTitle&quot; &gt;
+  &lt;property name=&quot;windowTitle&quot;&gt;
    &lt;string&gt;Informe&lt;/string&gt;
   &lt;/property&gt;
-  &lt;layout class=&quot;QVBoxLayout&quot; name=&quot;verticalLayout&quot; &gt;
+  &lt;layout class=&quot;QVBoxLayout&quot; name=&quot;verticalLayout&quot;&gt;
    &lt;item&gt;
-    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout&quot; &gt;
+    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout&quot;&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;QLabel&quot; name=&quot;label&quot; &gt;
-       &lt;property name=&quot;text&quot; &gt;
+      &lt;widget class=&quot;QLabel&quot; name=&quot;label&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
         &lt;string&gt;Fecha Inicial (dd/mm/yyyy)&lt;/string&gt;
        &lt;/property&gt;
       &lt;/widget&gt;
      &lt;/item&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;QLineEdit&quot; name=&quot;mui_fecha_inicial&quot; /&gt;
+      &lt;widget class=&quot;BlDateSearch&quot; name=&quot;mui_fecha_inicial&quot;/&gt;
      &lt;/item&gt;
     &lt;/layout&gt;
    &lt;/item&gt;
    &lt;item&gt;
-    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_2&quot; &gt;
+    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_2&quot;&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;QLabel&quot; name=&quot;label_2&quot; &gt;
-       &lt;property name=&quot;text&quot; &gt;
+      &lt;widget class=&quot;QLabel&quot; name=&quot;label_2&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
         &lt;string&gt;Fecha Final (dd/mm/yyyy)&lt;/string&gt;
        &lt;/property&gt;
       &lt;/widget&gt;
      &lt;/item&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;BlDateSearch&quot; name=&quot;mui_fecha_final&quot; /&gt;
+      &lt;widget class=&quot;BlDateSearch&quot; name=&quot;mui_fecha_final&quot;/&gt;
      &lt;/item&gt;
     &lt;/layout&gt;
    &lt;/item&gt;
    &lt;item&gt;
-    &lt;spacer name=&quot;verticalSpacer&quot; &gt;
-     &lt;property name=&quot;orientation&quot; &gt;
+    &lt;spacer name=&quot;verticalSpacer&quot;&gt;
+     &lt;property name=&quot;orientation&quot;&gt;
       &lt;enum&gt;Qt::Vertical&lt;/enum&gt;
      &lt;/property&gt;
-     &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot; &gt;
+     &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot;&gt;
       &lt;size&gt;
        &lt;width&gt;20&lt;/width&gt;
        &lt;height&gt;20&lt;/height&gt;
@@ -55,13 +56,13 @@
     &lt;/spacer&gt;
    &lt;/item&gt;
    &lt;item&gt;
-    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_3&quot; &gt;
+    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_3&quot;&gt;
      &lt;item&gt;
-      &lt;spacer name=&quot;horizontalSpacer&quot; &gt;
-       &lt;property name=&quot;orientation&quot; &gt;
+      &lt;spacer name=&quot;horizontalSpacer&quot;&gt;
+       &lt;property name=&quot;orientation&quot;&gt;
         &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
        &lt;/property&gt;
-       &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot; &gt;
+       &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot;&gt;
         &lt;size&gt;
          &lt;width&gt;40&lt;/width&gt;
          &lt;height&gt;20&lt;/height&gt;
@@ -70,15 +71,15 @@
       &lt;/spacer&gt;
      &lt;/item&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;QPushButton&quot; name=&quot;mui_aceptar&quot; &gt;
-       &lt;property name=&quot;text&quot; &gt;
+      &lt;widget class=&quot;QPushButton&quot; name=&quot;mui_aceptar&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
         &lt;string&gt;Aceptar&lt;/string&gt;
        &lt;/property&gt;
       &lt;/widget&gt;
      &lt;/item&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;QPushButton&quot; name=&quot;mui_cancelar&quot; &gt;
-       &lt;property name=&quot;text&quot; &gt;
+      &lt;widget class=&quot;QPushButton&quot; name=&quot;mui_cancelar&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
         &lt;string&gt;Cancelar&lt;/string&gt;
        &lt;/property&gt;
       &lt;/widget&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_minicontabilidad/openreports/es/inf_ventas.ui b/bulmages/bulmafact/plugins/pluginbf_minicontabilidad/openreports/es/inf_ventas.ui
index 3c5ab66..95d75dc 100644
--- a/bulmages/bulmafact/plugins/pluginbf_minicontabilidad/openreports/es/inf_ventas.ui
+++ b/bulmages/bulmafact/plugins/pluginbf_minicontabilidad/openreports/es/inf_ventas.ui
@@ -1,7 +1,8 @@
-&lt;ui version=&quot;4.0&quot; &gt;
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
+&lt;ui version=&quot;4.0&quot;&gt;
  &lt;class&gt;Dialog&lt;/class&gt;
- &lt;widget class=&quot;QDialog&quot; name=&quot;Dialog&quot; &gt;
-  &lt;property name=&quot;geometry&quot; &gt;
+ &lt;widget class=&quot;QDialog&quot; name=&quot;Dialog&quot;&gt;
+  &lt;property name=&quot;geometry&quot;&gt;
    &lt;rect&gt;
     &lt;x&gt;0&lt;/x&gt;
     &lt;y&gt;0&lt;/y&gt;
@@ -9,44 +10,44 @@
     &lt;height&gt;159&lt;/height&gt;
    &lt;/rect&gt;
   &lt;/property&gt;
-  &lt;property name=&quot;windowTitle&quot; &gt;
+  &lt;property name=&quot;windowTitle&quot;&gt;
    &lt;string&gt;Informe&lt;/string&gt;
   &lt;/property&gt;
-  &lt;layout class=&quot;QVBoxLayout&quot; name=&quot;verticalLayout&quot; &gt;
+  &lt;layout class=&quot;QVBoxLayout&quot; name=&quot;verticalLayout&quot;&gt;
    &lt;item&gt;
-    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout&quot; &gt;
+    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout&quot;&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;QLabel&quot; name=&quot;label&quot; &gt;
-       &lt;property name=&quot;text&quot; &gt;
+      &lt;widget class=&quot;QLabel&quot; name=&quot;label&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
         &lt;string&gt;Fecha Inicial (dd/mm/yyyy)&lt;/string&gt;
        &lt;/property&gt;
       &lt;/widget&gt;
      &lt;/item&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;QLineEdit&quot; name=&quot;mui_fecha_inicial&quot; /&gt;
+      &lt;widget class=&quot;BlDateSearch&quot; name=&quot;mui_fecha_inicial&quot;/&gt;
      &lt;/item&gt;
     &lt;/layout&gt;
    &lt;/item&gt;
    &lt;item&gt;
-    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_2&quot; &gt;
+    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_2&quot;&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;QLabel&quot; name=&quot;label_2&quot; &gt;
-       &lt;property name=&quot;text&quot; &gt;
+      &lt;widget class=&quot;QLabel&quot; name=&quot;label_2&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
         &lt;string&gt;Fecha Final (dd/mm/yyyy)&lt;/string&gt;
        &lt;/property&gt;
       &lt;/widget&gt;
      &lt;/item&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;BlDateSearch&quot; name=&quot;mui_fecha_final&quot; /&gt;
+      &lt;widget class=&quot;BlDateSearch&quot; name=&quot;mui_fecha_final&quot;/&gt;
      &lt;/item&gt;
     &lt;/layout&gt;
    &lt;/item&gt;
    &lt;item&gt;
-    &lt;spacer name=&quot;verticalSpacer&quot; &gt;
-     &lt;property name=&quot;orientation&quot; &gt;
+    &lt;spacer name=&quot;verticalSpacer&quot;&gt;
+     &lt;property name=&quot;orientation&quot;&gt;
       &lt;enum&gt;Qt::Vertical&lt;/enum&gt;
      &lt;/property&gt;
-     &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot; &gt;
+     &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot;&gt;
       &lt;size&gt;
        &lt;width&gt;20&lt;/width&gt;
        &lt;height&gt;20&lt;/height&gt;
@@ -55,13 +56,13 @@
     &lt;/spacer&gt;
    &lt;/item&gt;
    &lt;item&gt;
-    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_3&quot; &gt;
+    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_3&quot;&gt;
      &lt;item&gt;
-      &lt;spacer name=&quot;horizontalSpacer&quot; &gt;
-       &lt;property name=&quot;orientation&quot; &gt;
+      &lt;spacer name=&quot;horizontalSpacer&quot;&gt;
+       &lt;property name=&quot;orientation&quot;&gt;
         &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
        &lt;/property&gt;
-       &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot; &gt;
+       &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot;&gt;
         &lt;size&gt;
          &lt;width&gt;40&lt;/width&gt;
          &lt;height&gt;20&lt;/height&gt;
@@ -70,15 +71,15 @@
       &lt;/spacer&gt;
      &lt;/item&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;QPushButton&quot; name=&quot;mui_aceptar&quot; &gt;
-       &lt;property name=&quot;text&quot; &gt;
+      &lt;widget class=&quot;QPushButton&quot; name=&quot;mui_aceptar&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
         &lt;string&gt;Aceptar&lt;/string&gt;
        &lt;/property&gt;
       &lt;/widget&gt;
      &lt;/item&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;QPushButton&quot; name=&quot;mui_cancelar&quot; &gt;
-       &lt;property name=&quot;text&quot; &gt;
+      &lt;widget class=&quot;QPushButton&quot; name=&quot;mui_cancelar&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
         &lt;string&gt;Cancelar&lt;/string&gt;
        &lt;/property&gt;
       &lt;/widget&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_minicontabilidad/openreports/fr/inf_ventas.ui b/bulmages/bulmafact/plugins/pluginbf_minicontabilidad/openreports/fr/inf_ventas.ui
index 3c5ab66..95d75dc 100644
--- a/bulmages/bulmafact/plugins/pluginbf_minicontabilidad/openreports/fr/inf_ventas.ui
+++ b/bulmages/bulmafact/plugins/pluginbf_minicontabilidad/openreports/fr/inf_ventas.ui
@@ -1,7 +1,8 @@
-&lt;ui version=&quot;4.0&quot; &gt;
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
+&lt;ui version=&quot;4.0&quot;&gt;
  &lt;class&gt;Dialog&lt;/class&gt;
- &lt;widget class=&quot;QDialog&quot; name=&quot;Dialog&quot; &gt;
-  &lt;property name=&quot;geometry&quot; &gt;
+ &lt;widget class=&quot;QDialog&quot; name=&quot;Dialog&quot;&gt;
+  &lt;property name=&quot;geometry&quot;&gt;
    &lt;rect&gt;
     &lt;x&gt;0&lt;/x&gt;
     &lt;y&gt;0&lt;/y&gt;
@@ -9,44 +10,44 @@
     &lt;height&gt;159&lt;/height&gt;
    &lt;/rect&gt;
   &lt;/property&gt;
-  &lt;property name=&quot;windowTitle&quot; &gt;
+  &lt;property name=&quot;windowTitle&quot;&gt;
    &lt;string&gt;Informe&lt;/string&gt;
   &lt;/property&gt;
-  &lt;layout class=&quot;QVBoxLayout&quot; name=&quot;verticalLayout&quot; &gt;
+  &lt;layout class=&quot;QVBoxLayout&quot; name=&quot;verticalLayout&quot;&gt;
    &lt;item&gt;
-    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout&quot; &gt;
+    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout&quot;&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;QLabel&quot; name=&quot;label&quot; &gt;
-       &lt;property name=&quot;text&quot; &gt;
+      &lt;widget class=&quot;QLabel&quot; name=&quot;label&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
         &lt;string&gt;Fecha Inicial (dd/mm/yyyy)&lt;/string&gt;
        &lt;/property&gt;
       &lt;/widget&gt;
      &lt;/item&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;QLineEdit&quot; name=&quot;mui_fecha_inicial&quot; /&gt;
+      &lt;widget class=&quot;BlDateSearch&quot; name=&quot;mui_fecha_inicial&quot;/&gt;
      &lt;/item&gt;
     &lt;/layout&gt;
    &lt;/item&gt;
    &lt;item&gt;
-    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_2&quot; &gt;
+    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_2&quot;&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;QLabel&quot; name=&quot;label_2&quot; &gt;
-       &lt;property name=&quot;text&quot; &gt;
+      &lt;widget class=&quot;QLabel&quot; name=&quot;label_2&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
         &lt;string&gt;Fecha Final (dd/mm/yyyy)&lt;/string&gt;
        &lt;/property&gt;
       &lt;/widget&gt;
      &lt;/item&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;BlDateSearch&quot; name=&quot;mui_fecha_final&quot; /&gt;
+      &lt;widget class=&quot;BlDateSearch&quot; name=&quot;mui_fecha_final&quot;/&gt;
      &lt;/item&gt;
     &lt;/layout&gt;
    &lt;/item&gt;
    &lt;item&gt;
-    &lt;spacer name=&quot;verticalSpacer&quot; &gt;
-     &lt;property name=&quot;orientation&quot; &gt;
+    &lt;spacer name=&quot;verticalSpacer&quot;&gt;
+     &lt;property name=&quot;orientation&quot;&gt;
       &lt;enum&gt;Qt::Vertical&lt;/enum&gt;
      &lt;/property&gt;
-     &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot; &gt;
+     &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot;&gt;
       &lt;size&gt;
        &lt;width&gt;20&lt;/width&gt;
        &lt;height&gt;20&lt;/height&gt;
@@ -55,13 +56,13 @@
     &lt;/spacer&gt;
    &lt;/item&gt;
    &lt;item&gt;
-    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_3&quot; &gt;
+    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_3&quot;&gt;
      &lt;item&gt;
-      &lt;spacer name=&quot;horizontalSpacer&quot; &gt;
-       &lt;property name=&quot;orientation&quot; &gt;
+      &lt;spacer name=&quot;horizontalSpacer&quot;&gt;
+       &lt;property name=&quot;orientation&quot;&gt;
         &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
        &lt;/property&gt;
-       &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot; &gt;
+       &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot;&gt;
         &lt;size&gt;
          &lt;width&gt;40&lt;/width&gt;
          &lt;height&gt;20&lt;/height&gt;
@@ -70,15 +71,15 @@
       &lt;/spacer&gt;
      &lt;/item&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;QPushButton&quot; name=&quot;mui_aceptar&quot; &gt;
-       &lt;property name=&quot;text&quot; &gt;
+      &lt;widget class=&quot;QPushButton&quot; name=&quot;mui_aceptar&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
         &lt;string&gt;Aceptar&lt;/string&gt;
        &lt;/property&gt;
       &lt;/widget&gt;
      &lt;/item&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;QPushButton&quot; name=&quot;mui_cancelar&quot; &gt;
-       &lt;property name=&quot;text&quot; &gt;
+      &lt;widget class=&quot;QPushButton&quot; name=&quot;mui_cancelar&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
         &lt;string&gt;Cancelar&lt;/string&gt;
        &lt;/property&gt;
       &lt;/widget&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_tallascolores/openreports/ca/inf_ventas.ui b/bulmages/bulmafact/plugins/pluginbf_tallascolores/openreports/ca/inf_ventas.ui
index 3c5ab66..95d75dc 100644
--- a/bulmages/bulmafact/plugins/pluginbf_tallascolores/openreports/ca/inf_ventas.ui
+++ b/bulmages/bulmafact/plugins/pluginbf_tallascolores/openreports/ca/inf_ventas.ui
@@ -1,7 +1,8 @@
-&lt;ui version=&quot;4.0&quot; &gt;
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
+&lt;ui version=&quot;4.0&quot;&gt;
  &lt;class&gt;Dialog&lt;/class&gt;
- &lt;widget class=&quot;QDialog&quot; name=&quot;Dialog&quot; &gt;
-  &lt;property name=&quot;geometry&quot; &gt;
+ &lt;widget class=&quot;QDialog&quot; name=&quot;Dialog&quot;&gt;
+  &lt;property name=&quot;geometry&quot;&gt;
    &lt;rect&gt;
     &lt;x&gt;0&lt;/x&gt;
     &lt;y&gt;0&lt;/y&gt;
@@ -9,44 +10,44 @@
     &lt;height&gt;159&lt;/height&gt;
    &lt;/rect&gt;
   &lt;/property&gt;
-  &lt;property name=&quot;windowTitle&quot; &gt;
+  &lt;property name=&quot;windowTitle&quot;&gt;
    &lt;string&gt;Informe&lt;/string&gt;
   &lt;/property&gt;
-  &lt;layout class=&quot;QVBoxLayout&quot; name=&quot;verticalLayout&quot; &gt;
+  &lt;layout class=&quot;QVBoxLayout&quot; name=&quot;verticalLayout&quot;&gt;
    &lt;item&gt;
-    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout&quot; &gt;
+    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout&quot;&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;QLabel&quot; name=&quot;label&quot; &gt;
-       &lt;property name=&quot;text&quot; &gt;
+      &lt;widget class=&quot;QLabel&quot; name=&quot;label&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
         &lt;string&gt;Fecha Inicial (dd/mm/yyyy)&lt;/string&gt;
        &lt;/property&gt;
       &lt;/widget&gt;
      &lt;/item&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;QLineEdit&quot; name=&quot;mui_fecha_inicial&quot; /&gt;
+      &lt;widget class=&quot;BlDateSearch&quot; name=&quot;mui_fecha_inicial&quot;/&gt;
      &lt;/item&gt;
     &lt;/layout&gt;
    &lt;/item&gt;
    &lt;item&gt;
-    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_2&quot; &gt;
+    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_2&quot;&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;QLabel&quot; name=&quot;label_2&quot; &gt;
-       &lt;property name=&quot;text&quot; &gt;
+      &lt;widget class=&quot;QLabel&quot; name=&quot;label_2&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
         &lt;string&gt;Fecha Final (dd/mm/yyyy)&lt;/string&gt;
        &lt;/property&gt;
       &lt;/widget&gt;
      &lt;/item&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;BlDateSearch&quot; name=&quot;mui_fecha_final&quot; /&gt;
+      &lt;widget class=&quot;BlDateSearch&quot; name=&quot;mui_fecha_final&quot;/&gt;
      &lt;/item&gt;
     &lt;/layout&gt;
    &lt;/item&gt;
    &lt;item&gt;
-    &lt;spacer name=&quot;verticalSpacer&quot; &gt;
-     &lt;property name=&quot;orientation&quot; &gt;
+    &lt;spacer name=&quot;verticalSpacer&quot;&gt;
+     &lt;property name=&quot;orientation&quot;&gt;
       &lt;enum&gt;Qt::Vertical&lt;/enum&gt;
      &lt;/property&gt;
-     &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot; &gt;
+     &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot;&gt;
       &lt;size&gt;
        &lt;width&gt;20&lt;/width&gt;
        &lt;height&gt;20&lt;/height&gt;
@@ -55,13 +56,13 @@
     &lt;/spacer&gt;
    &lt;/item&gt;
    &lt;item&gt;
-    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_3&quot; &gt;
+    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_3&quot;&gt;
      &lt;item&gt;
-      &lt;spacer name=&quot;horizontalSpacer&quot; &gt;
-       &lt;property name=&quot;orientation&quot; &gt;
+      &lt;spacer name=&quot;horizontalSpacer&quot;&gt;
+       &lt;property name=&quot;orientation&quot;&gt;
         &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
        &lt;/property&gt;
-       &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot; &gt;
+       &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot;&gt;
         &lt;size&gt;
          &lt;width&gt;40&lt;/width&gt;
          &lt;height&gt;20&lt;/height&gt;
@@ -70,15 +71,15 @@
       &lt;/spacer&gt;
      &lt;/item&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;QPushButton&quot; name=&quot;mui_aceptar&quot; &gt;
-       &lt;property name=&quot;text&quot; &gt;
+      &lt;widget class=&quot;QPushButton&quot; name=&quot;mui_aceptar&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
         &lt;string&gt;Aceptar&lt;/string&gt;
        &lt;/property&gt;
       &lt;/widget&gt;
      &lt;/item&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;QPushButton&quot; name=&quot;mui_cancelar&quot; &gt;
-       &lt;property name=&quot;text&quot; &gt;
+      &lt;widget class=&quot;QPushButton&quot; name=&quot;mui_cancelar&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
         &lt;string&gt;Cancelar&lt;/string&gt;
        &lt;/property&gt;
       &lt;/widget&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_tallascolores/openreports/en/inf_ventas.ui b/bulmages/bulmafact/plugins/pluginbf_tallascolores/openreports/en/inf_ventas.ui
index 3c5ab66..95d75dc 100644
--- a/bulmages/bulmafact/plugins/pluginbf_tallascolores/openreports/en/inf_ventas.ui
+++ b/bulmages/bulmafact/plugins/pluginbf_tallascolores/openreports/en/inf_ventas.ui
@@ -1,7 +1,8 @@
-&lt;ui version=&quot;4.0&quot; &gt;
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
+&lt;ui version=&quot;4.0&quot;&gt;
  &lt;class&gt;Dialog&lt;/class&gt;
- &lt;widget class=&quot;QDialog&quot; name=&quot;Dialog&quot; &gt;
-  &lt;property name=&quot;geometry&quot; &gt;
+ &lt;widget class=&quot;QDialog&quot; name=&quot;Dialog&quot;&gt;
+  &lt;property name=&quot;geometry&quot;&gt;
    &lt;rect&gt;
     &lt;x&gt;0&lt;/x&gt;
     &lt;y&gt;0&lt;/y&gt;
@@ -9,44 +10,44 @@
     &lt;height&gt;159&lt;/height&gt;
    &lt;/rect&gt;
   &lt;/property&gt;
-  &lt;property name=&quot;windowTitle&quot; &gt;
+  &lt;property name=&quot;windowTitle&quot;&gt;
    &lt;string&gt;Informe&lt;/string&gt;
   &lt;/property&gt;
-  &lt;layout class=&quot;QVBoxLayout&quot; name=&quot;verticalLayout&quot; &gt;
+  &lt;layout class=&quot;QVBoxLayout&quot; name=&quot;verticalLayout&quot;&gt;
    &lt;item&gt;
-    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout&quot; &gt;
+    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout&quot;&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;QLabel&quot; name=&quot;label&quot; &gt;
-       &lt;property name=&quot;text&quot; &gt;
+      &lt;widget class=&quot;QLabel&quot; name=&quot;label&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
         &lt;string&gt;Fecha Inicial (dd/mm/yyyy)&lt;/string&gt;
        &lt;/property&gt;
       &lt;/widget&gt;
      &lt;/item&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;QLineEdit&quot; name=&quot;mui_fecha_inicial&quot; /&gt;
+      &lt;widget class=&quot;BlDateSearch&quot; name=&quot;mui_fecha_inicial&quot;/&gt;
      &lt;/item&gt;
     &lt;/layout&gt;
    &lt;/item&gt;
    &lt;item&gt;
-    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_2&quot; &gt;
+    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_2&quot;&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;QLabel&quot; name=&quot;label_2&quot; &gt;
-       &lt;property name=&quot;text&quot; &gt;
+      &lt;widget class=&quot;QLabel&quot; name=&quot;label_2&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
         &lt;string&gt;Fecha Final (dd/mm/yyyy)&lt;/string&gt;
        &lt;/property&gt;
       &lt;/widget&gt;
      &lt;/item&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;BlDateSearch&quot; name=&quot;mui_fecha_final&quot; /&gt;
+      &lt;widget class=&quot;BlDateSearch&quot; name=&quot;mui_fecha_final&quot;/&gt;
      &lt;/item&gt;
     &lt;/layout&gt;
    &lt;/item&gt;
    &lt;item&gt;
-    &lt;spacer name=&quot;verticalSpacer&quot; &gt;
-     &lt;property name=&quot;orientation&quot; &gt;
+    &lt;spacer name=&quot;verticalSpacer&quot;&gt;
+     &lt;property name=&quot;orientation&quot;&gt;
       &lt;enum&gt;Qt::Vertical&lt;/enum&gt;
      &lt;/property&gt;
-     &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot; &gt;
+     &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot;&gt;
       &lt;size&gt;
        &lt;width&gt;20&lt;/width&gt;
        &lt;height&gt;20&lt;/height&gt;
@@ -55,13 +56,13 @@
     &lt;/spacer&gt;
    &lt;/item&gt;
    &lt;item&gt;
-    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_3&quot; &gt;
+    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_3&quot;&gt;
      &lt;item&gt;
-      &lt;spacer name=&quot;horizontalSpacer&quot; &gt;
-       &lt;property name=&quot;orientation&quot; &gt;
+      &lt;spacer name=&quot;horizontalSpacer&quot;&gt;
+       &lt;property name=&quot;orientation&quot;&gt;
         &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
        &lt;/property&gt;
-       &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot; &gt;
+       &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot;&gt;
         &lt;size&gt;
          &lt;width&gt;40&lt;/width&gt;
          &lt;height&gt;20&lt;/height&gt;
@@ -70,15 +71,15 @@
       &lt;/spacer&gt;
      &lt;/item&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;QPushButton&quot; name=&quot;mui_aceptar&quot; &gt;
-       &lt;property name=&quot;text&quot; &gt;
+      &lt;widget class=&quot;QPushButton&quot; name=&quot;mui_aceptar&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
         &lt;string&gt;Aceptar&lt;/string&gt;
        &lt;/property&gt;
       &lt;/widget&gt;
      &lt;/item&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;QPushButton&quot; name=&quot;mui_cancelar&quot; &gt;
-       &lt;property name=&quot;text&quot; &gt;
+      &lt;widget class=&quot;QPushButton&quot; name=&quot;mui_cancelar&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
         &lt;string&gt;Cancelar&lt;/string&gt;
        &lt;/property&gt;
       &lt;/widget&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_tallascolores/openreports/es/inf_ventas.ui b/bulmages/bulmafact/plugins/pluginbf_tallascolores/openreports/es/inf_ventas.ui
index 3c5ab66..95d75dc 100644
--- a/bulmages/bulmafact/plugins/pluginbf_tallascolores/openreports/es/inf_ventas.ui
+++ b/bulmages/bulmafact/plugins/pluginbf_tallascolores/openreports/es/inf_ventas.ui
@@ -1,7 +1,8 @@
-&lt;ui version=&quot;4.0&quot; &gt;
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
+&lt;ui version=&quot;4.0&quot;&gt;
  &lt;class&gt;Dialog&lt;/class&gt;
- &lt;widget class=&quot;QDialog&quot; name=&quot;Dialog&quot; &gt;
-  &lt;property name=&quot;geometry&quot; &gt;
+ &lt;widget class=&quot;QDialog&quot; name=&quot;Dialog&quot;&gt;
+  &lt;property name=&quot;geometry&quot;&gt;
    &lt;rect&gt;
     &lt;x&gt;0&lt;/x&gt;
     &lt;y&gt;0&lt;/y&gt;
@@ -9,44 +10,44 @@
     &lt;height&gt;159&lt;/height&gt;
    &lt;/rect&gt;
   &lt;/property&gt;
-  &lt;property name=&quot;windowTitle&quot; &gt;
+  &lt;property name=&quot;windowTitle&quot;&gt;
    &lt;string&gt;Informe&lt;/string&gt;
   &lt;/property&gt;
-  &lt;layout class=&quot;QVBoxLayout&quot; name=&quot;verticalLayout&quot; &gt;
+  &lt;layout class=&quot;QVBoxLayout&quot; name=&quot;verticalLayout&quot;&gt;
    &lt;item&gt;
-    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout&quot; &gt;
+    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout&quot;&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;QLabel&quot; name=&quot;label&quot; &gt;
-       &lt;property name=&quot;text&quot; &gt;
+      &lt;widget class=&quot;QLabel&quot; name=&quot;label&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
         &lt;string&gt;Fecha Inicial (dd/mm/yyyy)&lt;/string&gt;
        &lt;/property&gt;
       &lt;/widget&gt;
      &lt;/item&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;QLineEdit&quot; name=&quot;mui_fecha_inicial&quot; /&gt;
+      &lt;widget class=&quot;BlDateSearch&quot; name=&quot;mui_fecha_inicial&quot;/&gt;
      &lt;/item&gt;
     &lt;/layout&gt;
    &lt;/item&gt;
    &lt;item&gt;
-    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_2&quot; &gt;
+    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_2&quot;&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;QLabel&quot; name=&quot;label_2&quot; &gt;
-       &lt;property name=&quot;text&quot; &gt;
+      &lt;widget class=&quot;QLabel&quot; name=&quot;label_2&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
         &lt;string&gt;Fecha Final (dd/mm/yyyy)&lt;/string&gt;
        &lt;/property&gt;
       &lt;/widget&gt;
      &lt;/item&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;BlDateSearch&quot; name=&quot;mui_fecha_final&quot; /&gt;
+      &lt;widget class=&quot;BlDateSearch&quot; name=&quot;mui_fecha_final&quot;/&gt;
      &lt;/item&gt;
     &lt;/layout&gt;
    &lt;/item&gt;
    &lt;item&gt;
-    &lt;spacer name=&quot;verticalSpacer&quot; &gt;
-     &lt;property name=&quot;orientation&quot; &gt;
+    &lt;spacer name=&quot;verticalSpacer&quot;&gt;
+     &lt;property name=&quot;orientation&quot;&gt;
       &lt;enum&gt;Qt::Vertical&lt;/enum&gt;
      &lt;/property&gt;
-     &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot; &gt;
+     &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot;&gt;
       &lt;size&gt;
        &lt;width&gt;20&lt;/width&gt;
        &lt;height&gt;20&lt;/height&gt;
@@ -55,13 +56,13 @@
     &lt;/spacer&gt;
    &lt;/item&gt;
    &lt;item&gt;
-    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_3&quot; &gt;
+    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_3&quot;&gt;
      &lt;item&gt;
-      &lt;spacer name=&quot;horizontalSpacer&quot; &gt;
-       &lt;property name=&quot;orientation&quot; &gt;
+      &lt;spacer name=&quot;horizontalSpacer&quot;&gt;
+       &lt;property name=&quot;orientation&quot;&gt;
         &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
        &lt;/property&gt;
-       &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot; &gt;
+       &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot;&gt;
         &lt;size&gt;
          &lt;width&gt;40&lt;/width&gt;
          &lt;height&gt;20&lt;/height&gt;
@@ -70,15 +71,15 @@
       &lt;/spacer&gt;
      &lt;/item&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;QPushButton&quot; name=&quot;mui_aceptar&quot; &gt;
-       &lt;property name=&quot;text&quot; &gt;
+      &lt;widget class=&quot;QPushButton&quot; name=&quot;mui_aceptar&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
         &lt;string&gt;Aceptar&lt;/string&gt;
        &lt;/property&gt;
       &lt;/widget&gt;
      &lt;/item&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;QPushButton&quot; name=&quot;mui_cancelar&quot; &gt;
-       &lt;property name=&quot;text&quot; &gt;
+      &lt;widget class=&quot;QPushButton&quot; name=&quot;mui_cancelar&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
         &lt;string&gt;Cancelar&lt;/string&gt;
        &lt;/property&gt;
       &lt;/widget&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_tallascolores/openreports/fr/inf_ventas.ui b/bulmages/bulmafact/plugins/pluginbf_tallascolores/openreports/fr/inf_ventas.ui
index 3c5ab66..95d75dc 100644
--- a/bulmages/bulmafact/plugins/pluginbf_tallascolores/openreports/fr/inf_ventas.ui
+++ b/bulmages/bulmafact/plugins/pluginbf_tallascolores/openreports/fr/inf_ventas.ui
@@ -1,7 +1,8 @@
-&lt;ui version=&quot;4.0&quot; &gt;
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
+&lt;ui version=&quot;4.0&quot;&gt;
  &lt;class&gt;Dialog&lt;/class&gt;
- &lt;widget class=&quot;QDialog&quot; name=&quot;Dialog&quot; &gt;
-  &lt;property name=&quot;geometry&quot; &gt;
+ &lt;widget class=&quot;QDialog&quot; name=&quot;Dialog&quot;&gt;
+  &lt;property name=&quot;geometry&quot;&gt;
    &lt;rect&gt;
     &lt;x&gt;0&lt;/x&gt;
     &lt;y&gt;0&lt;/y&gt;
@@ -9,44 +10,44 @@
     &lt;height&gt;159&lt;/height&gt;
    &lt;/rect&gt;
   &lt;/property&gt;
-  &lt;property name=&quot;windowTitle&quot; &gt;
+  &lt;property name=&quot;windowTitle&quot;&gt;
    &lt;string&gt;Informe&lt;/string&gt;
   &lt;/property&gt;
-  &lt;layout class=&quot;QVBoxLayout&quot; name=&quot;verticalLayout&quot; &gt;
+  &lt;layout class=&quot;QVBoxLayout&quot; name=&quot;verticalLayout&quot;&gt;
    &lt;item&gt;
-    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout&quot; &gt;
+    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout&quot;&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;QLabel&quot; name=&quot;label&quot; &gt;
-       &lt;property name=&quot;text&quot; &gt;
+      &lt;widget class=&quot;QLabel&quot; name=&quot;label&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
         &lt;string&gt;Fecha Inicial (dd/mm/yyyy)&lt;/string&gt;
        &lt;/property&gt;
       &lt;/widget&gt;
      &lt;/item&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;QLineEdit&quot; name=&quot;mui_fecha_inicial&quot; /&gt;
+      &lt;widget class=&quot;BlDateSearch&quot; name=&quot;mui_fecha_inicial&quot;/&gt;
      &lt;/item&gt;
     &lt;/layout&gt;
    &lt;/item&gt;
    &lt;item&gt;
-    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_2&quot; &gt;
+    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_2&quot;&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;QLabel&quot; name=&quot;label_2&quot; &gt;
-       &lt;property name=&quot;text&quot; &gt;
+      &lt;widget class=&quot;QLabel&quot; name=&quot;label_2&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
         &lt;string&gt;Fecha Final (dd/mm/yyyy)&lt;/string&gt;
        &lt;/property&gt;
       &lt;/widget&gt;
      &lt;/item&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;BlDateSearch&quot; name=&quot;mui_fecha_final&quot; /&gt;
+      &lt;widget class=&quot;BlDateSearch&quot; name=&quot;mui_fecha_final&quot;/&gt;
      &lt;/item&gt;
     &lt;/layout&gt;
    &lt;/item&gt;
    &lt;item&gt;
-    &lt;spacer name=&quot;verticalSpacer&quot; &gt;
-     &lt;property name=&quot;orientation&quot; &gt;
+    &lt;spacer name=&quot;verticalSpacer&quot;&gt;
+     &lt;property name=&quot;orientation&quot;&gt;
       &lt;enum&gt;Qt::Vertical&lt;/enum&gt;
      &lt;/property&gt;
-     &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot; &gt;
+     &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot;&gt;
       &lt;size&gt;
        &lt;width&gt;20&lt;/width&gt;
        &lt;height&gt;20&lt;/height&gt;
@@ -55,13 +56,13 @@
     &lt;/spacer&gt;
    &lt;/item&gt;
    &lt;item&gt;
-    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_3&quot; &gt;
+    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_3&quot;&gt;
      &lt;item&gt;
-      &lt;spacer name=&quot;horizontalSpacer&quot; &gt;
-       &lt;property name=&quot;orientation&quot; &gt;
+      &lt;spacer name=&quot;horizontalSpacer&quot;&gt;
+       &lt;property name=&quot;orientation&quot;&gt;
         &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
        &lt;/property&gt;
-       &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot; &gt;
+       &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot;&gt;
         &lt;size&gt;
          &lt;width&gt;40&lt;/width&gt;
          &lt;height&gt;20&lt;/height&gt;
@@ -70,15 +71,15 @@
       &lt;/spacer&gt;
      &lt;/item&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;QPushButton&quot; name=&quot;mui_aceptar&quot; &gt;
-       &lt;property name=&quot;text&quot; &gt;
+      &lt;widget class=&quot;QPushButton&quot; name=&quot;mui_aceptar&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
         &lt;string&gt;Aceptar&lt;/string&gt;
        &lt;/property&gt;
       &lt;/widget&gt;
      &lt;/item&gt;
      &lt;item&gt;
-      &lt;widget class=&quot;QPushButton&quot; name=&quot;mui_cancelar&quot; &gt;
-       &lt;property name=&quot;text&quot; &gt;
+      &lt;widget class=&quot;QPushButton&quot; name=&quot;mui_cancelar&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
         &lt;string&gt;Cancelar&lt;/string&gt;
        &lt;/property&gt;
       &lt;/widget&gt;

commit 15b35fb3d71f3236bbebe26de8f2ea0a8b25bb40
Author: Tomeu Borras &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">tborras en conetxia.com</A>&gt;
Date:   Thu Apr 12 19:38:08 2012 +0200

    Arreglo la busqueda de fecha en el informe

diff --git a/bulmages/bulmafact/plugins/pluginbf_clientefactura/README.ca b/bulmages/bulmafact/plugins/pluginbf_clientefactura/README.ca
index 185d5f2..edaa8a4 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientefactura/README.ca
+++ b/bulmages/bulmafact/plugins/pluginbf_clientefactura/README.ca
@@ -36,7 +36,7 @@ Dependencias: libpluginbf_cliente.so
 
 Incompatibles:
 
-Reports: factura_alternativa1.rml; factura.rml; blform_FacturaView.qs; inf_detalleventasarticulo.pys; inf_resumcompras.pys; inf_familiacliente.pys
+Reports: factura_alternativa1.rml; factura.rml; blform_FacturaView.qs; inf_detalleventasarticulo.pys; inf_resumcompras.pys; inf_familiacliente.pys; inf_ventas.ui
 
 Categorias: Facturació genèrica;
 
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientefactura/README.en b/bulmages/bulmafact/plugins/pluginbf_clientefactura/README.en
index 4429ad0..4a36b31 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientefactura/README.en
+++ b/bulmages/bulmafact/plugins/pluginbf_clientefactura/README.en
@@ -30,7 +30,7 @@ Dependencias: libpluginbf_cliente.so
 
 Incompatibles:
 
-Reports: factura_alternativa1.rml; factura.rml; blform_FacturaView.qs; inf_detalleventasarticulo.pys; inf_resumcompras.pys; inf_familiacliente.pys
+Reports: factura_alternativa1.rml; factura.rml; blform_FacturaView.qs; inf_detalleventasarticulo.pys; inf_resumcompras.pys; inf_familiacliente.pys; inf_ventas.ui
 
 Categorias: Generic invoicing;
 
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientefactura/README.es b/bulmages/bulmafact/plugins/pluginbf_clientefactura/README.es
index 333e6a7..ca9d755 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientefactura/README.es
+++ b/bulmages/bulmafact/plugins/pluginbf_clientefactura/README.es
@@ -36,7 +36,7 @@ Dependencias: libpluginbf_cliente.so
 
 Incompatibles:
 
-Reports: factura_alternativa1.rml; factura.rml; blform_FacturaView.qs; inf_detalleventasarticulo.pys; inf_resumcompras.pys; inf_familiacliente.pys
+Reports: factura_alternativa1.rml; factura.rml; blform_FacturaView.qs; inf_detalleventasarticulo.pys; inf_resumcompras.pys; inf_familiacliente.pys; inf_ventas.ui
 
 Categorias: Facturacion generica;
 
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientefactura/README.fr b/bulmages/bulmafact/plugins/pluginbf_clientefactura/README.fr
index eb9ff0b..1b0430a 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientefactura/README.fr
+++ b/bulmages/bulmafact/plugins/pluginbf_clientefactura/README.fr
@@ -29,7 +29,7 @@ Dependencias: libpluginbf_cliente.so
 
 Incompatibles:
 
-Reports: factura_alternativa1.rml; factura.rml; blform_FacturaView.qs; inf_detalleventasarticulo.pys; inf_resumcompras.pys; inf_familiacliente.pys
+Reports: factura_alternativa1.rml; factura.rml; blform_FacturaView.qs; inf_detalleventasarticulo.pys; inf_resumcompras.pys; inf_familiacliente.pys; inf_ventas.ui
 
 Categorias: Facturation generique;
 
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/ca/inf_ventas.ui b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/ca/inf_ventas.ui
new file mode 100644
index 0000000..95d75dc
--- /dev/null
+++ b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/ca/inf_ventas.ui
@@ -0,0 +1,100 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
+&lt;ui version=&quot;4.0&quot;&gt;
+ &lt;class&gt;Dialog&lt;/class&gt;
+ &lt;widget class=&quot;QDialog&quot; name=&quot;Dialog&quot;&gt;
+  &lt;property name=&quot;geometry&quot;&gt;
+   &lt;rect&gt;
+    &lt;x&gt;0&lt;/x&gt;
+    &lt;y&gt;0&lt;/y&gt;
+    &lt;width&gt;400&lt;/width&gt;
+    &lt;height&gt;159&lt;/height&gt;
+   &lt;/rect&gt;
+  &lt;/property&gt;
+  &lt;property name=&quot;windowTitle&quot;&gt;
+   &lt;string&gt;Informe&lt;/string&gt;
+  &lt;/property&gt;
+  &lt;layout class=&quot;QVBoxLayout&quot; name=&quot;verticalLayout&quot;&gt;
+   &lt;item&gt;
+    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout&quot;&gt;
+     &lt;item&gt;
+      &lt;widget class=&quot;QLabel&quot; name=&quot;label&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
+        &lt;string&gt;Fecha Inicial (dd/mm/yyyy)&lt;/string&gt;
+       &lt;/property&gt;
+      &lt;/widget&gt;
+     &lt;/item&gt;
+     &lt;item&gt;
+      &lt;widget class=&quot;BlDateSearch&quot; name=&quot;mui_fecha_inicial&quot;/&gt;
+     &lt;/item&gt;
+    &lt;/layout&gt;
+   &lt;/item&gt;
+   &lt;item&gt;
+    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_2&quot;&gt;
+     &lt;item&gt;
+      &lt;widget class=&quot;QLabel&quot; name=&quot;label_2&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
+        &lt;string&gt;Fecha Final (dd/mm/yyyy)&lt;/string&gt;
+       &lt;/property&gt;
+      &lt;/widget&gt;
+     &lt;/item&gt;
+     &lt;item&gt;
+      &lt;widget class=&quot;BlDateSearch&quot; name=&quot;mui_fecha_final&quot;/&gt;
+     &lt;/item&gt;
+    &lt;/layout&gt;
+   &lt;/item&gt;
+   &lt;item&gt;
+    &lt;spacer name=&quot;verticalSpacer&quot;&gt;
+     &lt;property name=&quot;orientation&quot;&gt;
+      &lt;enum&gt;Qt::Vertical&lt;/enum&gt;
+     &lt;/property&gt;
+     &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot;&gt;
+      &lt;size&gt;
+       &lt;width&gt;20&lt;/width&gt;
+       &lt;height&gt;20&lt;/height&gt;
+      &lt;/size&gt;
+     &lt;/property&gt;
+    &lt;/spacer&gt;
+   &lt;/item&gt;
+   &lt;item&gt;
+    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_3&quot;&gt;
+     &lt;item&gt;
+      &lt;spacer name=&quot;horizontalSpacer&quot;&gt;
+       &lt;property name=&quot;orientation&quot;&gt;
+        &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
+       &lt;/property&gt;
+       &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot;&gt;
+        &lt;size&gt;
+         &lt;width&gt;40&lt;/width&gt;
+         &lt;height&gt;20&lt;/height&gt;
+        &lt;/size&gt;
+       &lt;/property&gt;
+      &lt;/spacer&gt;
+     &lt;/item&gt;
+     &lt;item&gt;
+      &lt;widget class=&quot;QPushButton&quot; name=&quot;mui_aceptar&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
+        &lt;string&gt;Aceptar&lt;/string&gt;
+       &lt;/property&gt;
+      &lt;/widget&gt;
+     &lt;/item&gt;
+     &lt;item&gt;
+      &lt;widget class=&quot;QPushButton&quot; name=&quot;mui_cancelar&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
+        &lt;string&gt;Cancelar&lt;/string&gt;
+       &lt;/property&gt;
+      &lt;/widget&gt;
+     &lt;/item&gt;
+    &lt;/layout&gt;
+   &lt;/item&gt;
+  &lt;/layout&gt;
+ &lt;/widget&gt;
+ &lt;customwidgets&gt;
+  &lt;customwidget&gt;
+   &lt;class&gt;BlDateSearch&lt;/class&gt;
+   &lt;extends&gt;QLineEdit&lt;/extends&gt;
+   &lt;header&gt;bldatesearch.h&lt;/header&gt;
+  &lt;/customwidget&gt;
+ &lt;/customwidgets&gt;
+ &lt;resources/&gt;
+ &lt;connections/&gt;
+&lt;/ui&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/en/inf_ventas.ui b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/en/inf_ventas.ui
new file mode 100644
index 0000000..95d75dc
--- /dev/null
+++ b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/en/inf_ventas.ui
@@ -0,0 +1,100 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
+&lt;ui version=&quot;4.0&quot;&gt;
+ &lt;class&gt;Dialog&lt;/class&gt;
+ &lt;widget class=&quot;QDialog&quot; name=&quot;Dialog&quot;&gt;
+  &lt;property name=&quot;geometry&quot;&gt;
+   &lt;rect&gt;
+    &lt;x&gt;0&lt;/x&gt;
+    &lt;y&gt;0&lt;/y&gt;
+    &lt;width&gt;400&lt;/width&gt;
+    &lt;height&gt;159&lt;/height&gt;
+   &lt;/rect&gt;
+  &lt;/property&gt;
+  &lt;property name=&quot;windowTitle&quot;&gt;
+   &lt;string&gt;Informe&lt;/string&gt;
+  &lt;/property&gt;
+  &lt;layout class=&quot;QVBoxLayout&quot; name=&quot;verticalLayout&quot;&gt;
+   &lt;item&gt;
+    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout&quot;&gt;
+     &lt;item&gt;
+      &lt;widget class=&quot;QLabel&quot; name=&quot;label&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
+        &lt;string&gt;Fecha Inicial (dd/mm/yyyy)&lt;/string&gt;
+       &lt;/property&gt;
+      &lt;/widget&gt;
+     &lt;/item&gt;
+     &lt;item&gt;
+      &lt;widget class=&quot;BlDateSearch&quot; name=&quot;mui_fecha_inicial&quot;/&gt;
+     &lt;/item&gt;
+    &lt;/layout&gt;
+   &lt;/item&gt;
+   &lt;item&gt;
+    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_2&quot;&gt;
+     &lt;item&gt;
+      &lt;widget class=&quot;QLabel&quot; name=&quot;label_2&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
+        &lt;string&gt;Fecha Final (dd/mm/yyyy)&lt;/string&gt;
+       &lt;/property&gt;
+      &lt;/widget&gt;
+     &lt;/item&gt;
+     &lt;item&gt;
+      &lt;widget class=&quot;BlDateSearch&quot; name=&quot;mui_fecha_final&quot;/&gt;
+     &lt;/item&gt;
+    &lt;/layout&gt;
+   &lt;/item&gt;
+   &lt;item&gt;
+    &lt;spacer name=&quot;verticalSpacer&quot;&gt;
+     &lt;property name=&quot;orientation&quot;&gt;
+      &lt;enum&gt;Qt::Vertical&lt;/enum&gt;
+     &lt;/property&gt;
+     &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot;&gt;
+      &lt;size&gt;
+       &lt;width&gt;20&lt;/width&gt;
+       &lt;height&gt;20&lt;/height&gt;
+      &lt;/size&gt;
+     &lt;/property&gt;
+    &lt;/spacer&gt;
+   &lt;/item&gt;
+   &lt;item&gt;
+    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_3&quot;&gt;
+     &lt;item&gt;
+      &lt;spacer name=&quot;horizontalSpacer&quot;&gt;
+       &lt;property name=&quot;orientation&quot;&gt;
+        &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
+       &lt;/property&gt;
+       &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot;&gt;
+        &lt;size&gt;
+         &lt;width&gt;40&lt;/width&gt;
+         &lt;height&gt;20&lt;/height&gt;
+        &lt;/size&gt;
+       &lt;/property&gt;
+      &lt;/spacer&gt;
+     &lt;/item&gt;
+     &lt;item&gt;
+      &lt;widget class=&quot;QPushButton&quot; name=&quot;mui_aceptar&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
+        &lt;string&gt;Aceptar&lt;/string&gt;
+       &lt;/property&gt;
+      &lt;/widget&gt;
+     &lt;/item&gt;
+     &lt;item&gt;
+      &lt;widget class=&quot;QPushButton&quot; name=&quot;mui_cancelar&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
+        &lt;string&gt;Cancelar&lt;/string&gt;
+       &lt;/property&gt;
+      &lt;/widget&gt;
+     &lt;/item&gt;
+    &lt;/layout&gt;
+   &lt;/item&gt;
+  &lt;/layout&gt;
+ &lt;/widget&gt;
+ &lt;customwidgets&gt;
+  &lt;customwidget&gt;
+   &lt;class&gt;BlDateSearch&lt;/class&gt;
+   &lt;extends&gt;QLineEdit&lt;/extends&gt;
+   &lt;header&gt;bldatesearch.h&lt;/header&gt;
+  &lt;/customwidget&gt;
+ &lt;/customwidgets&gt;
+ &lt;resources/&gt;
+ &lt;connections/&gt;
+&lt;/ui&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/es/inf_ventas.ui b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/es/inf_ventas.ui
new file mode 100644
index 0000000..95d75dc
--- /dev/null
+++ b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/es/inf_ventas.ui
@@ -0,0 +1,100 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
+&lt;ui version=&quot;4.0&quot;&gt;
+ &lt;class&gt;Dialog&lt;/class&gt;
+ &lt;widget class=&quot;QDialog&quot; name=&quot;Dialog&quot;&gt;
+  &lt;property name=&quot;geometry&quot;&gt;
+   &lt;rect&gt;
+    &lt;x&gt;0&lt;/x&gt;
+    &lt;y&gt;0&lt;/y&gt;
+    &lt;width&gt;400&lt;/width&gt;
+    &lt;height&gt;159&lt;/height&gt;
+   &lt;/rect&gt;
+  &lt;/property&gt;
+  &lt;property name=&quot;windowTitle&quot;&gt;
+   &lt;string&gt;Informe&lt;/string&gt;
+  &lt;/property&gt;
+  &lt;layout class=&quot;QVBoxLayout&quot; name=&quot;verticalLayout&quot;&gt;
+   &lt;item&gt;
+    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout&quot;&gt;
+     &lt;item&gt;
+      &lt;widget class=&quot;QLabel&quot; name=&quot;label&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
+        &lt;string&gt;Fecha Inicial (dd/mm/yyyy)&lt;/string&gt;
+       &lt;/property&gt;
+      &lt;/widget&gt;
+     &lt;/item&gt;
+     &lt;item&gt;
+      &lt;widget class=&quot;BlDateSearch&quot; name=&quot;mui_fecha_inicial&quot;/&gt;
+     &lt;/item&gt;
+    &lt;/layout&gt;
+   &lt;/item&gt;
+   &lt;item&gt;
+    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_2&quot;&gt;
+     &lt;item&gt;
+      &lt;widget class=&quot;QLabel&quot; name=&quot;label_2&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
+        &lt;string&gt;Fecha Final (dd/mm/yyyy)&lt;/string&gt;
+       &lt;/property&gt;
+      &lt;/widget&gt;
+     &lt;/item&gt;
+     &lt;item&gt;
+      &lt;widget class=&quot;BlDateSearch&quot; name=&quot;mui_fecha_final&quot;/&gt;
+     &lt;/item&gt;
+    &lt;/layout&gt;
+   &lt;/item&gt;
+   &lt;item&gt;
+    &lt;spacer name=&quot;verticalSpacer&quot;&gt;
+     &lt;property name=&quot;orientation&quot;&gt;
+      &lt;enum&gt;Qt::Vertical&lt;/enum&gt;
+     &lt;/property&gt;
+     &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot;&gt;
+      &lt;size&gt;
+       &lt;width&gt;20&lt;/width&gt;
+       &lt;height&gt;20&lt;/height&gt;
+      &lt;/size&gt;
+     &lt;/property&gt;
+    &lt;/spacer&gt;
+   &lt;/item&gt;
+   &lt;item&gt;
+    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_3&quot;&gt;
+     &lt;item&gt;
+      &lt;spacer name=&quot;horizontalSpacer&quot;&gt;
+       &lt;property name=&quot;orientation&quot;&gt;
+        &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
+       &lt;/property&gt;
+       &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot;&gt;
+        &lt;size&gt;
+         &lt;width&gt;40&lt;/width&gt;
+         &lt;height&gt;20&lt;/height&gt;
+        &lt;/size&gt;
+       &lt;/property&gt;
+      &lt;/spacer&gt;
+     &lt;/item&gt;
+     &lt;item&gt;
+      &lt;widget class=&quot;QPushButton&quot; name=&quot;mui_aceptar&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
+        &lt;string&gt;Aceptar&lt;/string&gt;
+       &lt;/property&gt;
+      &lt;/widget&gt;
+     &lt;/item&gt;
+     &lt;item&gt;
+      &lt;widget class=&quot;QPushButton&quot; name=&quot;mui_cancelar&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
+        &lt;string&gt;Cancelar&lt;/string&gt;
+       &lt;/property&gt;
+      &lt;/widget&gt;
+     &lt;/item&gt;
+    &lt;/layout&gt;
+   &lt;/item&gt;
+  &lt;/layout&gt;
+ &lt;/widget&gt;
+ &lt;customwidgets&gt;
+  &lt;customwidget&gt;
+   &lt;class&gt;BlDateSearch&lt;/class&gt;
+   &lt;extends&gt;QLineEdit&lt;/extends&gt;
+   &lt;header&gt;bldatesearch.h&lt;/header&gt;
+  &lt;/customwidget&gt;
+ &lt;/customwidgets&gt;
+ &lt;resources/&gt;
+ &lt;connections/&gt;
+&lt;/ui&gt;
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/fr/inf_ventas.ui b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/fr/inf_ventas.ui
new file mode 100644
index 0000000..95d75dc
--- /dev/null
+++ b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/fr/inf_ventas.ui
@@ -0,0 +1,100 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
+&lt;ui version=&quot;4.0&quot;&gt;
+ &lt;class&gt;Dialog&lt;/class&gt;
+ &lt;widget class=&quot;QDialog&quot; name=&quot;Dialog&quot;&gt;
+  &lt;property name=&quot;geometry&quot;&gt;
+   &lt;rect&gt;
+    &lt;x&gt;0&lt;/x&gt;
+    &lt;y&gt;0&lt;/y&gt;
+    &lt;width&gt;400&lt;/width&gt;
+    &lt;height&gt;159&lt;/height&gt;
+   &lt;/rect&gt;
+  &lt;/property&gt;
+  &lt;property name=&quot;windowTitle&quot;&gt;
+   &lt;string&gt;Informe&lt;/string&gt;
+  &lt;/property&gt;
+  &lt;layout class=&quot;QVBoxLayout&quot; name=&quot;verticalLayout&quot;&gt;
+   &lt;item&gt;
+    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout&quot;&gt;
+     &lt;item&gt;
+      &lt;widget class=&quot;QLabel&quot; name=&quot;label&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
+        &lt;string&gt;Fecha Inicial (dd/mm/yyyy)&lt;/string&gt;
+       &lt;/property&gt;
+      &lt;/widget&gt;
+     &lt;/item&gt;
+     &lt;item&gt;
+      &lt;widget class=&quot;BlDateSearch&quot; name=&quot;mui_fecha_inicial&quot;/&gt;
+     &lt;/item&gt;
+    &lt;/layout&gt;
+   &lt;/item&gt;
+   &lt;item&gt;
+    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_2&quot;&gt;
+     &lt;item&gt;
+      &lt;widget class=&quot;QLabel&quot; name=&quot;label_2&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
+        &lt;string&gt;Fecha Final (dd/mm/yyyy)&lt;/string&gt;
+       &lt;/property&gt;
+      &lt;/widget&gt;
+     &lt;/item&gt;
+     &lt;item&gt;
+      &lt;widget class=&quot;BlDateSearch&quot; name=&quot;mui_fecha_final&quot;/&gt;
+     &lt;/item&gt;
+    &lt;/layout&gt;
+   &lt;/item&gt;
+   &lt;item&gt;
+    &lt;spacer name=&quot;verticalSpacer&quot;&gt;
+     &lt;property name=&quot;orientation&quot;&gt;
+      &lt;enum&gt;Qt::Vertical&lt;/enum&gt;
+     &lt;/property&gt;
+     &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot;&gt;
+      &lt;size&gt;
+       &lt;width&gt;20&lt;/width&gt;
+       &lt;height&gt;20&lt;/height&gt;
+      &lt;/size&gt;
+     &lt;/property&gt;
+    &lt;/spacer&gt;
+   &lt;/item&gt;
+   &lt;item&gt;
+    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout_3&quot;&gt;
+     &lt;item&gt;
+      &lt;spacer name=&quot;horizontalSpacer&quot;&gt;
+       &lt;property name=&quot;orientation&quot;&gt;
+        &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
+       &lt;/property&gt;
+       &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot;&gt;
+        &lt;size&gt;
+         &lt;width&gt;40&lt;/width&gt;
+         &lt;height&gt;20&lt;/height&gt;
+        &lt;/size&gt;
+       &lt;/property&gt;
+      &lt;/spacer&gt;
+     &lt;/item&gt;
+     &lt;item&gt;
+      &lt;widget class=&quot;QPushButton&quot; name=&quot;mui_aceptar&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
+        &lt;string&gt;Aceptar&lt;/string&gt;
+       &lt;/property&gt;
+      &lt;/widget&gt;
+     &lt;/item&gt;
+     &lt;item&gt;
+      &lt;widget class=&quot;QPushButton&quot; name=&quot;mui_cancelar&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
+        &lt;string&gt;Cancelar&lt;/string&gt;
+       &lt;/property&gt;
+      &lt;/widget&gt;
+     &lt;/item&gt;
+    &lt;/layout&gt;
+   &lt;/item&gt;
+  &lt;/layout&gt;
+ &lt;/widget&gt;
+ &lt;customwidgets&gt;
+  &lt;customwidget&gt;
+   &lt;class&gt;BlDateSearch&lt;/class&gt;
+   &lt;extends&gt;QLineEdit&lt;/extends&gt;
+   &lt;header&gt;bldatesearch.h&lt;/header&gt;
+  &lt;/customwidget&gt;
+ &lt;/customwidgets&gt;
+ &lt;resources/&gt;
+ &lt;connections/&gt;
+&lt;/ui&gt;

commit dd8533d0b879896021ea3dfa8dc28049f0ba0180
Author: Tomeu Borras &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">tborras en conetxia.com</A>&gt;
Date:   Thu Apr 12 19:05:36 2012 +0200

    Arreglo problemas en el informe de detalle de ventas por articulo que contenia caracteres especiales en cadenas no unicode

diff --git a/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/ca/inf_detalleventasarticulo.pys b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/ca/inf_detalleventasarticulo.pys
index 1db09ef..8d4a992 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/ca/inf_detalleventasarticulo.pys
+++ b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/ca/inf_detalleventasarticulo.pys
@@ -7,12 +7,12 @@
 import ooolib
 
 # Crea el documento
-doc = ooolib.Calc(&quot;Detalle de ventas (por artículo)&quot;)
+doc = ooolib.Calc(u&quot;Detalle de ventas (por artículo)&quot;)
 
 doc.set_column_property(1, 'width', '0.5in')
 doc.set_column_property(2, 'width', '5in')
 doc.set_cell_property('bold', True)
-doc.set_cell_value(2, 2, 'string', 'DETALLE DE VENTAS (POR ARTÍCULO)')
+doc.set_cell_value(2, 2, 'string', u'DETALLE DE VENTAS (POR ARTÍCULO)')
 i = 5
 &lt;!--QUERY=&quot;select articulo.idarticulo, articulo.nomarticulo, cliente.nomcliente, albaran.fechaalbaran, lalbaran.desclalbaran, lalbaran.pvplalbaran from lalbaran, albaran, cliente, articulo where cliente.idcliente = albaran.idcliente AND lalbaran.idalbaran = albaran.idalbaran AND lalbaran.idarticulo = articulo.idarticulo order by articulo.nomarticulo&quot;--&gt;
 
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/en/inf_detalleventasarticulo.pys b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/en/inf_detalleventasarticulo.pys
index 1db09ef..8d4a992 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/en/inf_detalleventasarticulo.pys
+++ b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/en/inf_detalleventasarticulo.pys
@@ -7,12 +7,12 @@
 import ooolib
 
 # Crea el documento
-doc = ooolib.Calc(&quot;Detalle de ventas (por artículo)&quot;)
+doc = ooolib.Calc(u&quot;Detalle de ventas (por artículo)&quot;)
 
 doc.set_column_property(1, 'width', '0.5in')
 doc.set_column_property(2, 'width', '5in')
 doc.set_cell_property('bold', True)
-doc.set_cell_value(2, 2, 'string', 'DETALLE DE VENTAS (POR ARTÍCULO)')
+doc.set_cell_value(2, 2, 'string', u'DETALLE DE VENTAS (POR ARTÍCULO)')
 i = 5
 &lt;!--QUERY=&quot;select articulo.idarticulo, articulo.nomarticulo, cliente.nomcliente, albaran.fechaalbaran, lalbaran.desclalbaran, lalbaran.pvplalbaran from lalbaran, albaran, cliente, articulo where cliente.idcliente = albaran.idcliente AND lalbaran.idalbaran = albaran.idalbaran AND lalbaran.idarticulo = articulo.idarticulo order by articulo.nomarticulo&quot;--&gt;
 
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/es/inf_detalleventasarticulo.pys b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/es/inf_detalleventasarticulo.pys
index 1db09ef..8d4a992 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/es/inf_detalleventasarticulo.pys
+++ b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/es/inf_detalleventasarticulo.pys
@@ -7,12 +7,12 @@
 import ooolib
 
 # Crea el documento
-doc = ooolib.Calc(&quot;Detalle de ventas (por artículo)&quot;)
+doc = ooolib.Calc(u&quot;Detalle de ventas (por artículo)&quot;)
 
 doc.set_column_property(1, 'width', '0.5in')
 doc.set_column_property(2, 'width', '5in')
 doc.set_cell_property('bold', True)
-doc.set_cell_value(2, 2, 'string', 'DETALLE DE VENTAS (POR ARTÍCULO)')
+doc.set_cell_value(2, 2, 'string', u'DETALLE DE VENTAS (POR ARTÍCULO)')
 i = 5
 &lt;!--QUERY=&quot;select articulo.idarticulo, articulo.nomarticulo, cliente.nomcliente, albaran.fechaalbaran, lalbaran.desclalbaran, lalbaran.pvplalbaran from lalbaran, albaran, cliente, articulo where cliente.idcliente = albaran.idcliente AND lalbaran.idalbaran = albaran.idalbaran AND lalbaran.idarticulo = articulo.idarticulo order by articulo.nomarticulo&quot;--&gt;
 
diff --git a/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/fr/inf_detalleventasarticulo.pys b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/fr/inf_detalleventasarticulo.pys
index 1db09ef..8d4a992 100644
--- a/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/fr/inf_detalleventasarticulo.pys
+++ b/bulmages/bulmafact/plugins/pluginbf_clientefactura/openreports/fr/inf_detalleventasarticulo.pys
@@ -7,12 +7,12 @@
 import ooolib
 
 # Crea el documento
-doc = ooolib.Calc(&quot;Detalle de ventas (por artículo)&quot;)
+doc = ooolib.Calc(u&quot;Detalle de ventas (por artículo)&quot;)
 
 doc.set_column_property(1, 'width', '0.5in')
 doc.set_column_property(2, 'width', '5in')
 doc.set_cell_property('bold', True)
-doc.set_cell_value(2, 2, 'string', 'DETALLE DE VENTAS (POR ARTÍCULO)')
+doc.set_cell_value(2, 2, 'string', u'DETALLE DE VENTAS (POR ARTÍCULO)')
 i = 5
 &lt;!--QUERY=&quot;select articulo.idarticulo, articulo.nomarticulo, cliente.nomcliente, albaran.fechaalbaran, lalbaran.desclalbaran, lalbaran.pvplalbaran from lalbaran, albaran, cliente, articulo where cliente.idcliente = albaran.idcliente AND lalbaran.idalbaran = albaran.idalbaran AND lalbaran.idarticulo = articulo.idarticulo order by articulo.nomarticulo&quot;--&gt;
 


<A HREF="https://gitorious.org/bulmages">https://gitorious.org/bulmages</A>
------------------------------------------------------------------------

You are receiving this email because you have chosen to be notified by
email whenever this favorite has new activity. You can manage your
favorite subscriptions at <A HREF="https://gitorious.org/favorites">https://gitorious.org/favorites</A>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Mensaje anterior: <A HREF="007047.html">[BulmaGés]Implementacion alternativa de rml2pdf
</A></li>
	<LI>Próximo mensaje: <A HREF="007048.html">[BulmaGés] [Gitorious] Activity: tborras created	branch release14 in...
</A></li>
         <LI> <B>Mensajes ordenados por:</B> 
              <a href="date.html#7050">[ fecha ]</a>
              <a href="thread.html#7050">[ hilo ]</a>
              <a href="subject.html#7050">[ asunto ]</a>
              <a href="author.html#7050">[ autor ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bulmages-main">Más información sobre la lista de distribución Bulmages-main </a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [BulmaGés]r2884 - in trunk/bulmages/bulmafact: plugins plugins/pluginalbaran plugins/pluginalbaranprov plugins/pluginbarcodeopen plugins/plugincobros plugins/plugincompraventa plugins/pluginetiquetado plugins/pluginetiquetas plugins/pluginfactura plugins/pluginfacturaprov plugins/pluginfacturar plugins/pluginimpresionesmultiples plugins/pluginmail plugins/pluginmailthunderbird plugins/pluginpedido plugins/pluginpedidoprov plugins/pluginpresupuesto plugins/pluginq19 plugins/pluginticket plugins/plugintrazabilidad	src
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bulmages-main/2009-January/index.html" >
   <LINK REL="made" HREF="mailto:bulmages-main%40lists.berlios.de?Subject=Re%3A%20%3D%3Futf-8%3Fb%3FW0J1bG1hR8Opc10%3D%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3Fr2884_-_in_trunk/bulm%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3Fages/bulmafact%3D3A_plugins_plugins/pluginalbaran_plu%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3Fgins/pluginalbaranprov_plugins/pluginbarcodeopen_pl%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3Fugins/plugincobros_plugins/plugincompraventa_plugin%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3Fs/pluginetiquetado_plugins/pluginetiquetas_plugins/%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3Fpluginfactura_plugins/pluginfacturaprov_plugins/plu%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3Fginfacturar_plugins/pluginimpresionesmultiples_plug%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3Fins/pluginmail_plugins/pluginmailthunderbird_plugin%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3Fs/pluginpedido_plugins/pluginpedidoprov_plugins/plu%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3Fginpresupuesto_plugins/pluginq19_plugins/plugintick%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3Fet_plugins/plugintrazabilidad%3D09src%3F%3D&In-Reply-To=%3C20090107185816.GA5104%40localhost%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <LINK REL="Previous"  HREF="000743.html">
   <LINK REL="Next"  HREF="000747.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[BulmaGés]r2884 - in trunk/bulmages/bulmafact: plugins plugins/pluginalbaran plugins/pluginalbaranprov plugins/pluginbarcodeopen plugins/plugincobros plugins/plugincompraventa plugins/pluginetiquetado plugins/pluginetiquetas plugins/pluginfactura plugins/pluginfacturaprov plugins/pluginfacturar plugins/pluginimpresionesmultiples plugins/pluginmail plugins/pluginmailthunderbird plugins/pluginpedido plugins/pluginpedidoprov plugins/pluginpresupuesto plugins/pluginq19 plugins/pluginticket plugins/plugintrazabilidad	src </H1>
    <B>Xavi Drudis Ferran</B> 
    <A HREF="mailto:bulmages-main%40lists.berlios.de?Subject=Re%3A%20%3D%3Futf-8%3Fb%3FW0J1bG1hR8Opc10%3D%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3Fr2884_-_in_trunk/bulm%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3Fages/bulmafact%3D3A_plugins_plugins/pluginalbaran_plu%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3Fgins/pluginalbaranprov_plugins/pluginbarcodeopen_pl%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3Fugins/plugincobros_plugins/plugincompraventa_plugin%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3Fs/pluginetiquetado_plugins/pluginetiquetas_plugins/%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3Fpluginfactura_plugins/pluginfacturaprov_plugins/plu%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3Fginfacturar_plugins/pluginimpresionesmultiples_plug%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3Fins/pluginmail_plugins/pluginmailthunderbird_plugin%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3Fs/pluginpedido_plugins/pluginpedidoprov_plugins/plu%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3Fginpresupuesto_plugins/pluginq19_plugins/plugintick%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3Fet_plugins/plugintrazabilidad%3D09src%3F%3D&In-Reply-To=%3C20090107185816.GA5104%40localhost%3E"
       TITLE="[BulmaGés]r2884 - in trunk/bulmages/bulmafact: plugins plugins/pluginalbaran plugins/pluginalbaranprov plugins/pluginbarcodeopen plugins/plugincobros plugins/plugincompraventa plugins/pluginetiquetado plugins/pluginetiquetas plugins/pluginfactura plugins/pluginfacturaprov plugins/pluginfacturar plugins/pluginimpresionesmultiples plugins/pluginmail plugins/pluginmailthunderbird plugins/pluginpedido plugins/pluginpedidoprov plugins/pluginpresupuesto plugins/pluginq19 plugins/pluginticket plugins/plugintrazabilidad	src">xdrudis en tinet.cat
       </A><BR>
    <I>Mie Ene  7 19:58:16 CET 2009</I>
    <P><UL>
        <LI>Mensaje anterior: <A HREF="000743.html">[BulmaGés]r2884 - in trunk/bulmages/bulmafact: plugins plugins/pluginalbaran plugins/pluginalbaranprov plugins/pluginbarcodeopen plugins/plugincobros plugins/plugincompraventa plugins/pluginetiquetado plugins/pluginetiquetas plugins/pluginfactura plugins/pluginfacturaprov plugins/pluginfacturar plugins/pluginimpresionesmultiples plugins/pluginmail plugins/pluginmailthunderbird plugins/pluginpedido plugins/pluginpedidoprov plugins/pluginpresupuesto plugins/pluginq19 plugins/pluginticket plugins/plugintrazabilidad src
</A></li>
        <LI>Próximo mensaje: <A HREF="000747.html">[BulmaGés]r2884 - in trunk/bulmages/bulmafact: plugins plugins/pluginalbaran plugins/pluginalbaranprov plugins/pluginbarcodeopen plugins/plugincobros plugins/plugincompraventa plugins/pluginetiquetado plugins/pluginetiquetas plugins/pluginfactura plugins/pluginfacturaprov plugins/pluginfacturar plugins/pluginimpresionesmultiples plugins/pluginmail plugins/pluginmailthunderbird plugins/pluginpedido plugins/pluginpedidoprov plugins/pluginpresupuesto plugins/pluginq19 plugins/pluginticket plugins/plugintrazabilidad src
</A></li>
         <LI> <B>Mensajes ordenados por:</B> 
              <a href="date.html#745">[ fecha ]</a>
              <a href="thread.html#745">[ hilo ]</a>
              <a href="subject.html#745">[ asunto ]</a>
              <a href="author.html#745">[ autor ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Jan 07, 2009 at 02:26:30AM +0100, Tomeu Borras wrote:

&gt;<i> 
</I>&gt;<i> PluginFactura tiene:
</I>&gt;<i> facturabase.ui que generará ui_facturabase.h
</I>&gt;<i> factura.h tiene un include de ui_facturabase.h
</I>&gt;<i> 
</I>&gt;<i> PluginPresupuesto tiene una inclusión de factura.h y por tanto tambien tiene 
</I>&gt;<i> una inclusion de ui_facturabase.h
</I>&gt;<i> 
</I>&gt;<i> cmake compila cada directorio del proyecto por separado pasando en cada 
</I>&gt;<i> directorio el uic, luego el moc y finalmente compila.
</I>&gt;<i> 
</I>&gt;<i> Por tanto si compilamos PluginPresupuesto sin antes haber compilado 
</I>&gt;<i> PluginFactura nos encontraremos con un error de compilación en el hecho de 
</I>&gt;<i> que ui_facturabase.h aun no existe.
</I>&gt;<i>
</I>
Això vol dir que no pot funcionar pluginPresupuesto sense plugin Factura ?
Suposo que no és això. Suposo que l'ús real de factura està condicionat a que 
estigui instal·lat. 

Però llavors pot funcionar pluginPresupuesto amb un plugin de Factura diferent ? 

Com es defineix la interfície entre els dos ? 

és factura.h aquesta interfície ? 

&gt;<i> El problema es, casi siempre salvable, estableciendo ordenes de compilacion y 
</I>&gt;<i> dependencias entre plugins. Pero, como no, podemos tener dependencias 
</I>&gt;<i> cíclicas que nos fastidian todo el tinglado. 
</I>&gt;<i> 
</I>
Vols dir dependències de compilació, oi ? No necesariament coincideixen 
amb dependències d'instal·lació ? o si ? 

&gt;<i> Por esto me he visto obligado a hacer una guarrada en los CMakeList para que 
</I>&gt;<i> en algun caso concreto el uic genere tambien las pantallas de otro plugin. 
</I>&gt;<i> Aunque la mejor forma de solucionarlo es conseguir que cmake haga uic en 
</I>&gt;<i> todos los subproyectos para luego compilar.
</I>&gt;<i> 
</I>
Suposo que sí, però què passa si un dia tens dos plugins de factures diferents, 
quina pantalla usarà el plugin que usi factures ? Hi ha una interfície comuna
que és el que s'inclou ? O quan canviïs la pantalla del plugin de factures 
hauràs de canviar coses als plugins que la facin servir ?. Jo no acabo d'entendre
com va tot això . 

&gt;<i> 
</I>&gt;<i> Casting Obligatorio en los Plugins + variable global
</I>&gt;<i> ==============================
</I>&gt;<i> 
</I>&gt;<i> Este es el tema que mencioné en un correo anterior que nos obligaba a tener 
</I>&gt;<i> una variable global adicional en plugins.h para poder recuperar punteros 
</I>&gt;<i> (void *) y reformarlos con un casting a la clase que nos interesa.
</I>&gt;<i> Me preocupa porque asi como esta ahora podría ser un foco de errores con 
</I>&gt;<i> multiples Threads.
</I>&gt;<i>
</I>
Ni idea. Allò de la funció factory no ajuda ? 
 
&gt;<i> 
</I>&gt;<i> No estan arreglados los menus de primer nivel
</I>&gt;<i> ============================
</I>&gt;<i> 
</I>&gt;<i> Si no cargamos ningún plugin de compras o de ventas nos quedaran en el 
</I>&gt;<i> programa los menus de primer nivel &quot;Compras&quot; o &quot;Ventas&quot; que estarán vacios 
</I>&gt;<i> (Sin opciones seleccionabgles). No es un problema de funcionamiento pero si 
</I>&gt;<i> es nefasto a nivel visual.
</I>&gt;<i> 
</I>&gt;<i> La solución al problema  pasa por quitar dichas opciones de menu y que cada 
</I>&gt;<i> uno de los plugins que se adieren al menu comprueben la existencia de dicho 
</I>&gt;<i> menu y si estuviese creado colgarse del creado y si no estuviese creado crear 
</I>&gt;<i> el menu y colgarse de este.
</I>&gt;<i> 
</I>&gt;<i> Esto ya se hace en plugininformes y en plugininformesODS con las opciones de 
</I>&gt;<i> informes.
</I>&gt;<i> 
</I>&gt;<i> Sin embargo hay un problema que aun no he logrado arreglar y es que al crear 
</I>&gt;<i> el menu lo queremos poser en una posición determinada y no al final. Si se 
</I>&gt;<i> tratase de intercalar un solo menu esta chupado saber en que posicion debe 
</I>&gt;<i> ir. Pero al tratarse de intercalar multiples menus adivinar la posición que 
</I>&gt;<i> le corresponde es muy difícil ya que dependiendo del orden en que esten 
</I>&gt;<i> colocados los plugins en el archivo de configuracion las posiciones tambien 
</I>&gt;<i> variarán.
</I>&gt;<i> 
</I>&gt;<i>
</I>

Si ho entenc bé sembla que la solució seria tenir una llista de menús que inclogués 
tots els possibles en l'ordre en que sortirien per a una empresa que tingués tots 
els pugins activats. Llavors cada plugin, abans d'insertar el seu menú si no 
existeix mira on aniria a la llista completa, i va tirant cap a l'esquerra fins
que troba un menú que sí que existeix a la configuració actual. Llavors inserta 
el seu menú després del que existeix. 

 
-- 
<A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">xdrudis en tinet.cat</A>
Signa per fer Collserola parc natural com cal
<A HREF="http://www.collserola.org/salvemelparcnatural/">http://www.collserola.org/salvemelparcnatural/</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Mensaje anterior: <A HREF="000743.html">[BulmaGés]r2884 - in trunk/bulmages/bulmafact: plugins plugins/pluginalbaran plugins/pluginalbaranprov plugins/pluginbarcodeopen plugins/plugincobros plugins/plugincompraventa plugins/pluginetiquetado plugins/pluginetiquetas plugins/pluginfactura plugins/pluginfacturaprov plugins/pluginfacturar plugins/pluginimpresionesmultiples plugins/pluginmail plugins/pluginmailthunderbird plugins/pluginpedido plugins/pluginpedidoprov plugins/pluginpresupuesto plugins/pluginq19 plugins/pluginticket plugins/plugintrazabilidad src
</A></li>
	<LI>Próximo mensaje: <A HREF="000747.html">[BulmaGés]r2884 - in trunk/bulmages/bulmafact: plugins plugins/pluginalbaran plugins/pluginalbaranprov plugins/pluginbarcodeopen plugins/plugincobros plugins/plugincompraventa plugins/pluginetiquetado plugins/pluginetiquetas plugins/pluginfactura plugins/pluginfacturaprov plugins/pluginfacturar plugins/pluginimpresionesmultiples plugins/pluginmail plugins/pluginmailthunderbird plugins/pluginpedido plugins/pluginpedidoprov plugins/pluginpresupuesto plugins/pluginq19 plugins/pluginticket plugins/plugintrazabilidad src
</A></li>
         <LI> <B>Mensajes ordenados por:</B> 
              <a href="date.html#745">[ fecha ]</a>
              <a href="thread.html#745">[ hilo ]</a>
              <a href="subject.html#745">[ asunto ]</a>
              <a href="author.html#745">[ autor ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bulmages-main">Más información sobre la lista de distribución Bulmages-main </a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [BulmaGés]Variable provincia.
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bulmages-main/2009-January/index.html" >
   <LINK REL="made" HREF="mailto:bulmages-main%40lists.berlios.de?Subject=Re%3A%20%3D%3Futf-8%3Fb%3FW0J1bG1hR8Opc10%3D%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3FVariable_provincia%3D2E%3F%3D&In-Reply-To=%3C200901151743.15042.tborras%40conetxia.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <LINK REL="Previous"  HREF="000798.html">
   <LINK REL="Next"  HREF="000801.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[BulmaGés]Variable provincia. </H1>
    <B>Tomeu Borras</B> 
    <A HREF="mailto:bulmages-main%40lists.berlios.de?Subject=Re%3A%20%3D%3Futf-8%3Fb%3FW0J1bG1hR8Opc10%3D%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3FVariable_provincia%3D2E%3F%3D&In-Reply-To=%3C200901151743.15042.tborras%40conetxia.com%3E"
       TITLE="[BulmaGés]Variable provincia.">tborras en conetxia.com
       </A><BR>
    <I>Jue Ene 15 17:43:14 CET 2009</I>
    <P><UL>
        <LI>Mensaje anterior: <A HREF="000798.html">[BulmaGés]Variable provincia.
</A></li>
        <LI>Próximo mensaje: <A HREF="000801.html">[BulmaGés]Variable provincia.
</A></li>
         <LI> <B>Mensajes ordenados por:</B> 
              <a href="date.html#799">[ fecha ]</a>
              <a href="thread.html#799">[ hilo ]</a>
              <a href="subject.html#799">[ asunto ]</a>
              <a href="author.html#799">[ autor ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hola Albert

Dos cosas:

1.- Comprueba que tienes el query bien hecho en un sola linea. Y si no 
traspasalo a una consulta con la consola psql para ver donde falla.

2.- No uses ese tipo de query ya que si la provincia no existe no muestra 
ningun dato del cliente yo usaria algo al estilo:

SELECT * FROM cliente NATURAL LEFT JOIN provincia WHERE idcliente=[idcliente]


NOTA lo del psql te lo explico un poco mejor

desde consola haz psql basededatos (y te cambiara el entorno)

alli escribes la consulta (p.ej: SELECT * FROM cliente NATURAL LEFT JOIN 
provincia WHERE idcliente=1;) fijate bien en el ; al final

Si esto devuelve resultados el query esta bien y el error esta en otra parte 
(con lo que tendras que postear la plantilla entera) si no devuelve 
resultados entonces el error esta en la base de datos y tendras que 
postearnos el error que da.

Salut

El Thursday 15 January 2009 15:29:48 Albert Mas escribió:
&gt;<i> perdón.... al copiar pegar me he equivocado.
</I>&gt;<i>
</I>&gt;<i> lo correcto es:
</I>&gt;<i>
</I>&gt;<i> &lt;!--IF QUERY=&quot;SELECT * FROM CLIENTE WHERE idcliente = [idcliente]&quot;--&gt;
</I>&gt;<i> &lt;!--QUERY=&quot;SELECT * FROM cliente, provincia WHERE
</I>&gt;<i> cliente.idcliente=[idcliente] AND provincia.idprovincia =
</I>&gt;<i> cliente.idprovincia&quot;--&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>                &lt;!-- LOS DATOS DEL CLIENTE --&gt;
</I>&gt;<i>                &lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
</I>&gt;<i>                &lt;drawString x=&quot;10.0cm&quot; y=&quot;24cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
</I>&gt;<i>                &lt;drawString x=&quot;10.0cm&quot; y=&quot;23.5cm&quot;&gt;[dircliente]&lt;/drawString&gt;
</I>&gt;<i>                &lt;drawString x=&quot;10.0cm&quot; y=&quot;23cm&quot;&gt;[cpcliente] -
</I>&gt;<i> [poblcliente] - [provincia]&lt;/drawString&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Pero como te comentaba, no funciona.
</I>&gt;<i>
</I>&gt;<i> Saludos y gracias.
</I>&gt;<i>
</I>&gt;<i> ---------- Forwarded message ----------
</I>&gt;<i> From: Albert Mas &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">albertmas en termens.cat</A>&gt;
</I>&gt;<i> Date: 2009/1/15
</I>&gt;<i> Subject: Re: [BulmaGés]Variable provincia.
</I>&gt;<i> To: <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">bulmages-main en lists.berlios.de</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Disculpa, pero si yo pongo todo esto:
</I>&gt;<i>
</I>&gt;<i> &lt;!--IF QUERY=&quot;SELECT * FROM CLIENTE WHERE idcliente = [idcliente]&quot;--&gt;
</I>&gt;<i> &lt;!--QUERY=&quot;SELECT * FROM cliente, provincia WHERE
</I>&gt;<i> cliente.idcliente=[idcliente] AND provincia.idprovincia =
</I>&gt;<i> cliente.idprovin$
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>                &lt;!-- LOS DATOS DEL CLIENTE --&gt;
</I>&gt;<i>                &lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
</I>&gt;<i>                &lt;drawString x=&quot;10.0cm&quot; y=&quot;24cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
</I>&gt;<i>                &lt;drawString x=&quot;10.0cm&quot; y=&quot;23.5cm&quot;&gt;[dircliente]&lt;/drawString&gt;
</I>&gt;<i>                &lt;drawString x=&quot;10.0cm&quot; y=&quot;23cm&quot;&gt;[cpcliente] -
</I>&gt;<i> [poblcliente] - [provincia]&lt;/drawString&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> me salen en blanco los presupuestos. Sin datos del cliente.
</I>&gt;<i> Gracias.
</I>&gt;<i>
</I>&gt;<i> 2009/1/15 Fco. Javier M. C. &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">fcojavmc en todo-redes.com</A>&gt;:
</I>&gt;<i> &gt; ¿Qué es lo que no te funciona Albert? Sale algo, no sale nada. Un poco
</I>&gt;<i> &gt; más de información ayuda. Ni siquiera me muestras lo que has puesto ¿me
</I>&gt;<i> &gt; lo tengo que imaginar? :)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Los datos los coge de la base de datos, así que voy a suponer que tienes
</I>&gt;<i> &gt; una tabla llamada 'provincia' con un campo llamado 'provincia'. ¿ok?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &lt;!--IF QUERY=&quot;SELECT * FROM CLIENTE WHERE idcliente = [idcliente]&quot;--&gt;
</I>&gt;<i> &gt; &lt;!--QUERY=&quot;SELECT * FROM cliente, provincia WHERE
</I>&gt;<i> &gt; cliente.idcliente=[idcliente] AND provincia.idprovincia =
</I>&gt;<i> &gt; cliente.idprovincia&quot;--&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                &lt;!-- LOS DATOS DEL CLIENTE --&gt;
</I>&gt;<i> &gt;                &lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
</I>&gt;<i> &gt;                &lt;drawString x=&quot;10.0cm&quot; y=&quot;24cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
</I>&gt;<i> &gt;                &lt;drawString x=&quot;10.0cm&quot;
</I>&gt;<i> &gt; y=&quot;23.5cm&quot;&gt;[dircliente]&lt;/drawString&gt; &lt;drawString x=&quot;10.0cm&quot;
</I>&gt;<i> &gt; y=&quot;23cm&quot;&gt;[cpcliente] -
</I>&gt;<i> &gt; [poblcliente] - [provincia]&lt;/drawString
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Yo lo he probado en mi ordenador y funciona. Si no te funciona revisa la
</I>&gt;<i> &gt; base de datos o dame más información.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Un saludo.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Albert Mas escribió:
</I>&gt;<i> &gt;&gt; disculpa, no me ha funcionado.
</I>&gt;<i> &gt;&gt; Quizas la sentencia tenga algun error.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; esta es la que tengo puesto actualmente:
</I>&gt;<i> &gt;&gt; &lt;!--IF QUERY=&quot;SELECT * FROM CLIENTE WHERE idcliente = [idcliente]&quot;--&gt;
</I>&gt;<i> &gt;&gt; &lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente=[idcliente]&quot;--&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;                 &lt;!-- LOS DATOS DEL CLIENTE --&gt;
</I>&gt;<i> &gt;&gt;                 &lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
</I>&gt;<i> &gt;&gt;                 &lt;drawString x=&quot;10.0cm&quot;
</I>&gt;<i> &gt;&gt; y=&quot;24cm&quot;&gt;[nomcliente]&lt;/drawString&gt; &lt;drawString x=&quot;10.0cm&quot;
</I>&gt;<i> &gt;&gt; y=&quot;23.5cm&quot;&gt;[dircliente]&lt;/drawString&gt; &lt;drawString x=&quot;10.0cm&quot;
</I>&gt;<i> &gt;&gt; y=&quot;23cm&quot;&gt;[cpcliente] -
</I>&gt;<i> &gt;&gt; [poblcliente] - [provincia]&lt;/drawString
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; el campo pronvincia es el que no funciona.
</I>&gt;<i> &gt;&gt; igual és mas facil modificarla sobre aquí mismo.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; gracias.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; 2009/1/15 Fco. Javier M. C. &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">fcojavmc en todo-redes.com</A>&gt;:
</I>&gt;<i> &gt;&gt;&gt; Hola.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; En presupuesto.rml tienes que modificar el 'query'. Algo como así:
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &lt;!--QUERY=&quot;SELECT * FROM cliente, provincia WHERE
</I>&gt;<i> &gt;&gt;&gt; cliente.idcliente=[idcliente] AND provincia.idprovincia =
</I>&gt;<i> &gt;&gt;&gt; cliente.idprovincia&quot;--&gt;
</I>&gt;<i> &gt;&gt;&gt;                &lt;!-- LOS DATOS DEL CLIENTE --&gt;
</I>&gt;<i> &gt;&gt;&gt;                &lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
</I>&gt;<i> &gt;&gt;&gt;                &lt;drawString x=&quot;8.5cm&quot; y=&quot;24cm&quot;&gt;[nomcliente] --
</I>&gt;<i> &gt;&gt;&gt; [telcliente]&lt;/drawString&gt;
</I>&gt;<i> &gt;&gt;&gt;                &lt;drawString x=&quot;8.5cm&quot;
</I>&gt;<i> &gt;&gt;&gt; y=&quot;23.5cm&quot;&gt;[dircliente]&lt;/drawString&gt; &lt;drawString x=&quot;8.5cm&quot;
</I>&gt;<i> &gt;&gt;&gt; y=&quot;23cm&quot;&gt;[provincia]&lt;/drawString&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; etc...
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Un saludo.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Albert Mas escribió:
</I>&gt;<i> &gt;&gt;&gt;&gt; Me gustaria saber que variable tengo que usar para poder mostrar la
</I>&gt;<i> &gt;&gt;&gt;&gt; provincia del cliente en los presupuestos, etc...
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; [cpcliente] = codigo postal
</I>&gt;<i> &gt;&gt;&gt;&gt; [descpresupuesto] = descripción presupuesto
</I>&gt;<i> &gt;&gt;&gt;&gt; [poblcliente]=poblacion cliente.
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; puesto cual tengo que usar la mostrar la provincia?
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; He probado [procliente] y [provcliente] pero no ha habia suerte.
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; Gracias.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; --
</I>&gt;<i> &gt;&gt;&gt; Fco. Javier M. C.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; _______________________________________________
</I>&gt;<i> &gt;&gt;&gt; Bulmages-main mailing list
</I>&gt;<i> &gt;&gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">Bulmages-main en lists.berlios.de</A>
</I>&gt;<i> &gt;&gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">https://lists.berlios.de/mailman/listinfo/bulmages-main</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; --
</I>&gt;<i> &gt; Fco. Javier M. C.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Bulmages-main mailing list
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">Bulmages-main en lists.berlios.de</A>
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">https://lists.berlios.de/mailman/listinfo/bulmages-main</A>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> __________________
</I>&gt;<i> Albert Mas
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">albertmas en termens.cat</A>
</I>&gt;<i> blog: <A HREF="http://www.turkil.net">http://www.turkil.net</A>
</I>


-- 
Tomeu Borrás Riera
Conetxia Soluciones Informáticas
902 88 11 66
971 29 06 29

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Mensaje anterior: <A HREF="000798.html">[BulmaGés]Variable provincia.
</A></li>
	<LI>Próximo mensaje: <A HREF="000801.html">[BulmaGés]Variable provincia.
</A></li>
         <LI> <B>Mensajes ordenados por:</B> 
              <a href="date.html#799">[ fecha ]</a>
              <a href="thread.html#799">[ hilo ]</a>
              <a href="subject.html#799">[ asunto ]</a>
              <a href="author.html#799">[ autor ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bulmages-main">Más información sobre la lista de distribución Bulmages-main </a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [BulmaGés]Variable provincia.
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bulmages-main/2009-January/index.html" >
   <LINK REL="made" HREF="mailto:bulmages-main%40lists.berlios.de?Subject=Re%3A%20%3D%3Futf-8%3Fb%3FW0J1bG1hR8Opc10%3D%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3FVariable_provincia%3D2E%3F%3D&In-Reply-To=%3C8c64fb150901150938s322e55eme4c6679e5b6399e5%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <LINK REL="Previous"  HREF="000799.html">
   <LINK REL="Next"  HREF="000818.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[BulmaGés]Variable provincia. </H1>
    <B>Albert Mas</B> 
    <A HREF="mailto:bulmages-main%40lists.berlios.de?Subject=Re%3A%20%3D%3Futf-8%3Fb%3FW0J1bG1hR8Opc10%3D%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3FVariable_provincia%3D2E%3F%3D&In-Reply-To=%3C8c64fb150901150938s322e55eme4c6679e5b6399e5%40mail.gmail.com%3E"
       TITLE="[BulmaGés]Variable provincia.">albertmas en termens.cat
       </A><BR>
    <I>Jue Ene 15 18:38:46 CET 2009</I>
    <P><UL>
        <LI>Mensaje anterior: <A HREF="000799.html">[BulmaGés]Variable provincia.
</A></li>
        <LI>Próximo mensaje: <A HREF="000818.html">[BulmaGés]Variable provincia.
</A></li>
         <LI> <B>Mensajes ordenados por:</B> 
              <a href="date.html#801">[ fecha ]</a>
              <a href="thread.html#801">[ hilo ]</a>
              <a href="subject.html#801">[ asunto ]</a>
              <a href="author.html#801">[ autor ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Disculpad, pero no nos entendemos.

Entiendo que bulmages tiene unos documentos horribles...
- no aparecen los datos fiscales de la empresa.
- aparece un telefono al lado del nombre!!!
- el requadro de los datos no cabe en ningun sobre ventana.
- no hay forma de quitar la columna descuento
- no aparece el codipostal en los documentos.

así que me he diseñado unos documentos mucho mejores, sin descuentos,
con codigo postal, datos fiscales, tipos de letra mas depurados,
etc...
que entiendo que seran buenos para todos.

ya que no puedo entender como bulmafact no sale con unos documentos
medianamente conseguidos.

pero entiendo que pedir que tenga la provincia del cliente en los
documentos no deberia ser tant complicado. O es que aquí nadie pone la
provincia en sus facturas???

Por tanto solo quiero añadir aquí la provincia:

&lt;!--IF QUERY=&quot;SELECT * FROM CLIENTE WHERE idcliente = [idcliente]&quot;--&gt;
&lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente=[idcliente]&quot;--&gt;

                &lt;!-- LOS DATOS DEL CLIENTE --&gt;
                &lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
                &lt;drawString x=&quot;10.0cm&quot; y=&quot;24cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
                &lt;drawString x=&quot;10.0cm&quot; y=&quot;23.5cm&quot;&gt;[dircliente]&lt;/drawString&gt;
                &lt;drawString x=&quot;10.0cm&quot; y=&quot;23cm&quot;&gt;[cpcliente] -
[poblcliente]&lt;/drawString&gt;



nada mas, si alguien me pasa un texto copy/paste senzillo lo meto.
Ya que el de Francisco no me funciona y lo he mirado de todas formas.

Gracias a todos.


P.D. Os podrian interesar mis plantillas?




2009/1/15 Tomeu Borras &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">tborras en conetxia.com</A>&gt;:
&gt;<i> Hola Albert
</I>&gt;<i>
</I>&gt;<i> Dos cosas:
</I>&gt;<i>
</I>&gt;<i> 1.- Comprueba que tienes el query bien hecho en un sola linea. Y si no
</I>&gt;<i> traspasalo a una consulta con la consola psql para ver donde falla.
</I>&gt;<i>
</I>&gt;<i> 2.- No uses ese tipo de query ya que si la provincia no existe no muestra
</I>&gt;<i> ningun dato del cliente yo usaria algo al estilo:
</I>&gt;<i>
</I>&gt;<i> SELECT * FROM cliente NATURAL LEFT JOIN provincia WHERE idcliente=[idcliente]
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> NOTA lo del psql te lo explico un poco mejor
</I>&gt;<i>
</I>&gt;<i> desde consola haz psql basededatos (y te cambiara el entorno)
</I>&gt;<i>
</I>&gt;<i> alli escribes la consulta (p.ej: SELECT * FROM cliente NATURAL LEFT JOIN
</I>&gt;<i> provincia WHERE idcliente=1;) fijate bien en el ; al final
</I>&gt;<i>
</I>&gt;<i> Si esto devuelve resultados el query esta bien y el error esta en otra parte
</I>&gt;<i> (con lo que tendras que postear la plantilla entera) si no devuelve
</I>&gt;<i> resultados entonces el error esta en la base de datos y tendras que
</I>&gt;<i> postearnos el error que da.
</I>&gt;<i>
</I>&gt;<i> Salut
</I>&gt;<i>
</I>&gt;<i> El Thursday 15 January 2009 15:29:48 Albert Mas escribió:
</I>&gt;&gt;<i> perdón.... al copiar pegar me he equivocado.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> lo correcto es:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &lt;!--IF QUERY=&quot;SELECT * FROM CLIENTE WHERE idcliente = [idcliente]&quot;--&gt;
</I>&gt;&gt;<i> &lt;!--QUERY=&quot;SELECT * FROM cliente, provincia WHERE
</I>&gt;&gt;<i> cliente.idcliente=[idcliente] AND provincia.idprovincia =
</I>&gt;&gt;<i> cliente.idprovincia&quot;--&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>                &lt;!-- LOS DATOS DEL CLIENTE --&gt;
</I>&gt;&gt;<i>                &lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
</I>&gt;&gt;<i>                &lt;drawString x=&quot;10.0cm&quot; y=&quot;24cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
</I>&gt;&gt;<i>                &lt;drawString x=&quot;10.0cm&quot; y=&quot;23.5cm&quot;&gt;[dircliente]&lt;/drawString&gt;
</I>&gt;&gt;<i>                &lt;drawString x=&quot;10.0cm&quot; y=&quot;23cm&quot;&gt;[cpcliente] -
</I>&gt;&gt;<i> [poblcliente] - [provincia]&lt;/drawString&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Pero como te comentaba, no funciona.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Saludos y gracias.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ---------- Forwarded message ----------
</I>&gt;&gt;<i> From: Albert Mas &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">albertmas en termens.cat</A>&gt;
</I>&gt;&gt;<i> Date: 2009/1/15
</I>&gt;&gt;<i> Subject: Re: [BulmaGés]Variable provincia.
</I>&gt;&gt;<i> To: <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">bulmages-main en lists.berlios.de</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Disculpa, pero si yo pongo todo esto:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &lt;!--IF QUERY=&quot;SELECT * FROM CLIENTE WHERE idcliente = [idcliente]&quot;--&gt;
</I>&gt;&gt;<i> &lt;!--QUERY=&quot;SELECT * FROM cliente, provincia WHERE
</I>&gt;&gt;<i> cliente.idcliente=[idcliente] AND provincia.idprovincia =
</I>&gt;&gt;<i> cliente.idprovin$
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>                &lt;!-- LOS DATOS DEL CLIENTE --&gt;
</I>&gt;&gt;<i>                &lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
</I>&gt;&gt;<i>                &lt;drawString x=&quot;10.0cm&quot; y=&quot;24cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
</I>&gt;&gt;<i>                &lt;drawString x=&quot;10.0cm&quot; y=&quot;23.5cm&quot;&gt;[dircliente]&lt;/drawString&gt;
</I>&gt;&gt;<i>                &lt;drawString x=&quot;10.0cm&quot; y=&quot;23cm&quot;&gt;[cpcliente] -
</I>&gt;&gt;<i> [poblcliente] - [provincia]&lt;/drawString&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> me salen en blanco los presupuestos. Sin datos del cliente.
</I>&gt;&gt;<i> Gracias.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 2009/1/15 Fco. Javier M. C. &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">fcojavmc en todo-redes.com</A>&gt;:
</I>&gt;&gt;<i> &gt; ¿Qué es lo que no te funciona Albert? Sale algo, no sale nada. Un poco
</I>&gt;&gt;<i> &gt; más de información ayuda. Ni siquiera me muestras lo que has puesto ¿me
</I>&gt;&gt;<i> &gt; lo tengo que imaginar? :)
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Los datos los coge de la base de datos, así que voy a suponer que tienes
</I>&gt;&gt;<i> &gt; una tabla llamada 'provincia' con un campo llamado 'provincia'. ¿ok?
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; &lt;!--IF QUERY=&quot;SELECT * FROM CLIENTE WHERE idcliente = [idcliente]&quot;--&gt;
</I>&gt;&gt;<i> &gt; &lt;!--QUERY=&quot;SELECT * FROM cliente, provincia WHERE
</I>&gt;&gt;<i> &gt; cliente.idcliente=[idcliente] AND provincia.idprovincia =
</I>&gt;&gt;<i> &gt; cliente.idprovincia&quot;--&gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;                &lt;!-- LOS DATOS DEL CLIENTE --&gt;
</I>&gt;&gt;<i> &gt;                &lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
</I>&gt;&gt;<i> &gt;                &lt;drawString x=&quot;10.0cm&quot; y=&quot;24cm&quot;&gt;[nomcliente]&lt;/drawString&gt;
</I>&gt;&gt;<i> &gt;                &lt;drawString x=&quot;10.0cm&quot;
</I>&gt;&gt;<i> &gt; y=&quot;23.5cm&quot;&gt;[dircliente]&lt;/drawString&gt; &lt;drawString x=&quot;10.0cm&quot;
</I>&gt;&gt;<i> &gt; y=&quot;23cm&quot;&gt;[cpcliente] -
</I>&gt;&gt;<i> &gt; [poblcliente] - [provincia]&lt;/drawString
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Yo lo he probado en mi ordenador y funciona. Si no te funciona revisa la
</I>&gt;&gt;<i> &gt; base de datos o dame más información.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Un saludo.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Albert Mas escribió:
</I>&gt;&gt;<i> &gt;&gt; disculpa, no me ha funcionado.
</I>&gt;&gt;<i> &gt;&gt; Quizas la sentencia tenga algun error.
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; esta es la que tengo puesto actualmente:
</I>&gt;&gt;<i> &gt;&gt; &lt;!--IF QUERY=&quot;SELECT * FROM CLIENTE WHERE idcliente = [idcliente]&quot;--&gt;
</I>&gt;&gt;<i> &gt;&gt; &lt;!--QUERY=&quot;SELECT * FROM cliente WHERE idcliente=[idcliente]&quot;--&gt;
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;                 &lt;!-- LOS DATOS DEL CLIENTE --&gt;
</I>&gt;&gt;<i> &gt;&gt;                 &lt;setFont name=&quot;Helvetica&quot; size=&quot;10&quot;/&gt;
</I>&gt;&gt;<i> &gt;&gt;                 &lt;drawString x=&quot;10.0cm&quot;
</I>&gt;&gt;<i> &gt;&gt; y=&quot;24cm&quot;&gt;[nomcliente]&lt;/drawString&gt; &lt;drawString x=&quot;10.0cm&quot;
</I>&gt;&gt;<i> &gt;&gt; y=&quot;23.5cm&quot;&gt;[dircliente]&lt;/drawString&gt; &lt;drawString x=&quot;10.0cm&quot;
</I>&gt;&gt;<i> &gt;&gt; y=&quot;23cm&quot;&gt;[cpcliente] -
</I>&gt;&gt;<i> &gt;&gt; [poblcliente] - [provincia]&lt;/drawString
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; el campo pronvincia es el que no funciona.
</I>&gt;&gt;<i> &gt;&gt; igual és mas facil modificarla sobre aquí mismo.
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; gracias.
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; 2009/1/15 Fco. Javier M. C. &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">fcojavmc en todo-redes.com</A>&gt;:
</I>&gt;&gt;<i> &gt;&gt;&gt; Hola.
</I>&gt;&gt;<i> &gt;&gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;&gt; En presupuesto.rml tienes que modificar el 'query'. Algo como así:
</I>&gt;&gt;<i> &gt;&gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;&gt; &lt;!--QUERY=&quot;SELECT * FROM cliente, provincia WHERE
</I>&gt;&gt;<i> &gt;&gt;&gt; cliente.idcliente=[idcliente] AND provincia.idprovincia =
</I>&gt;&gt;<i> &gt;&gt;&gt; cliente.idprovincia&quot;--&gt;
</I>&gt;&gt;<i> &gt;&gt;&gt;                &lt;!-- LOS DATOS DEL CLIENTE --&gt;
</I>&gt;&gt;<i> &gt;&gt;&gt;                &lt;setFont name=&quot;Helvetica&quot; size=&quot;12&quot;/&gt;
</I>&gt;&gt;<i> &gt;&gt;&gt;                &lt;drawString x=&quot;8.5cm&quot; y=&quot;24cm&quot;&gt;[nomcliente] --
</I>&gt;&gt;<i> &gt;&gt;&gt; [telcliente]&lt;/drawString&gt;
</I>&gt;&gt;<i> &gt;&gt;&gt;                &lt;drawString x=&quot;8.5cm&quot;
</I>&gt;&gt;<i> &gt;&gt;&gt; y=&quot;23.5cm&quot;&gt;[dircliente]&lt;/drawString&gt; &lt;drawString x=&quot;8.5cm&quot;
</I>&gt;&gt;<i> &gt;&gt;&gt; y=&quot;23cm&quot;&gt;[provincia]&lt;/drawString&gt;
</I>&gt;&gt;<i> &gt;&gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;&gt; etc...
</I>&gt;&gt;<i> &gt;&gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;&gt; Un saludo.
</I>&gt;&gt;<i> &gt;&gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;&gt; Albert Mas escribió:
</I>&gt;&gt;<i> &gt;&gt;&gt;&gt; Me gustaria saber que variable tengo que usar para poder mostrar la
</I>&gt;&gt;<i> &gt;&gt;&gt;&gt; provincia del cliente en los presupuestos, etc...
</I>&gt;&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;&gt;&gt; [cpcliente] = codigo postal
</I>&gt;&gt;<i> &gt;&gt;&gt;&gt; [descpresupuesto] = descripción presupuesto
</I>&gt;&gt;<i> &gt;&gt;&gt;&gt; [poblcliente]=poblacion cliente.
</I>&gt;&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;&gt;&gt; puesto cual tengo que usar la mostrar la provincia?
</I>&gt;&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;&gt;&gt; He probado [procliente] y [provcliente] pero no ha habia suerte.
</I>&gt;&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;&gt;&gt; Gracias.
</I>&gt;&gt;<i> &gt;&gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;&gt; --
</I>&gt;&gt;<i> &gt;&gt;&gt; Fco. Javier M. C.
</I>&gt;&gt;<i> &gt;&gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;&gt; _______________________________________________
</I>&gt;&gt;<i> &gt;&gt;&gt; Bulmages-main mailing list
</I>&gt;&gt;<i> &gt;&gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">Bulmages-main en lists.berlios.de</A>
</I>&gt;&gt;<i> &gt;&gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">https://lists.berlios.de/mailman/listinfo/bulmages-main</A>
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; --
</I>&gt;&gt;<i> &gt; Fco. Javier M. C.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; _______________________________________________
</I>&gt;&gt;<i> &gt; Bulmages-main mailing list
</I>&gt;&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">Bulmages-main en lists.berlios.de</A>
</I>&gt;&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">https://lists.berlios.de/mailman/listinfo/bulmages-main</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> __________________
</I>&gt;&gt;<i> Albert Mas
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">albertmas en termens.cat</A>
</I>&gt;&gt;<i> blog: <A HREF="http://www.turkil.net">http://www.turkil.net</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Tomeu Borrás Riera
</I>&gt;<i> Conetxia Soluciones Informáticas
</I>&gt;<i> 902 88 11 66
</I>&gt;<i> 971 29 06 29
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Bulmages-main mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">Bulmages-main en lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">https://lists.berlios.de/mailman/listinfo/bulmages-main</A>
</I>&gt;<i>
</I>


-- 
__________________
Albert Mas
<A HREF="https://lists.berlios.de/mailman/listinfo/bulmages-main">albertmas en termens.cat</A>
blog: <A HREF="http://www.turkil.net">http://www.turkil.net</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Mensaje anterior: <A HREF="000799.html">[BulmaGés]Variable provincia.
</A></li>
	<LI>Próximo mensaje: <A HREF="000818.html">[BulmaGés]Variable provincia.
</A></li>
         <LI> <B>Mensajes ordenados por:</B> 
              <a href="date.html#801">[ fecha ]</a>
              <a href="thread.html#801">[ hilo ]</a>
              <a href="subject.html#801">[ asunto ]</a>
              <a href="author.html#801">[ autor ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bulmages-main">Más información sobre la lista de distribución Bulmages-main </a><br>
</body></html>
